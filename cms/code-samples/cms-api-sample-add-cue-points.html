---
title: '添加提示點'
description: '在本示例中，您將學習如何使用 CMS API 以編程方式向視頻添加提示點。'
parent: 'Code Samples' 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="introduction">介紹</h2>

    <aside class="bcls-aside bcls-aside--information">提供此示例和相關代碼作為生產開發的指南。該代碼未經認證可用於生產用途，也未經官方支持。</aside>

    <p>提示點是視頻時間軸上的指定位置。播放視頻時，每次到達提示點時都會自動廣播一個事件 - 使用播放器 API，您可以監聽這些事件並採取您希望的任何操作。此外，您可以從播放器中存儲的視頻元數據中讀取所有提示點信息<code translate="No">mediainfo</code>對象，它使您能夠<a href="https://player.support.brightcove.com/code-samples/brightcove-player-sample-ad-indicators-playback-bar.html">在視頻時間軸上標記提示點</a>如果需要，可以某種方式。</p>

    <p>有兩種提示點：</p>

    <ul>
      <li>廣告提示點：用於標記應提出廣告請求的位置（如果視頻和播放器已啟用廣告功能）。</li>
      <li>代碼提示點：這些提示點用於使用Player API採取某些操作-一些典型用途是顯示某種號召性用語（CTA）或顯示一些與視頻內容有關的圖像或文本，例如作為視頻疊加或播放器周圍的頁面。</li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="implementation_overview">實施概述</h2>

    <p>您可以在其中添加提示點<a href="https://studio.support.brightcove.com/media/working-cue-points-media-module.html">工作室媒體模塊</a> .您還可以使用 CMS API 添加它們，這是我們將在本示例中使用的方法。</p>

    <h3>HTTP方法</h3>

    <p>提示點可以在您添加時<a href="/cms/references/reference.html#api-videoGroup-Create_Video">製作視頻</a>或以後<a href="/cms/references/reference.html#api-videoGroup-Update_Video">更新要求</a>。在此示例中，我們將製作一個<a href="/cms/references/reference.html#api-videoGroup-Update_Video">影片更新</a>請求，這意味著您將使用<code translate="No">PATCH</code>方法。</p>

    <aside class="bcls-aside bcls-aside--information">如果您再次更新視頻以更改或添加其他提示點，則必須在請求正文中包含整個提示點數組。</aside>

    <h3>終點</h3>

    <p>更新視頻請求的端點是：</p>

    <pre class="line-numbers">
          <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span></code> /視頻/ <span class="bcls-input"> video_id</span></pre>

    <h3>要求正文</h3>

    <p>請求正文是一個 JSON 對象，可以包含許多視頻元數據項。在這裡，我們只看一下<code translate="No">cue_points</code>字段，該字段設置為提示點對象的數組，如以下示例所示：</p>

    <pre class="line-numbers">
          <code class="language-json" translate="No">{
          "cue_points": [
              {
                "name": "Ad Cue Point",
                "type": "AD",
                "time": 2.0,
                "metadata": null,
                "force_stop": false
              },
              {
                "name": "Code Cue Point",
                "type": "CODE",
                "time": 4.0,
                "metadata": "The metadata might be text or the url for an image to display",
                "force_stop": true
              }
            ]
          }</code></pre>

    <h3>提示點對象字段</h3>

    <p>下面是提示點對象的字段的描述。</p>

    <table class="bcls-table">
      <caption class="bcls-caption--table">提示點對象字段</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>場地</th>
          <th>類型</th>
          <th>必要</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td ><code translate="No">name</code></td>
          <td >細繩</td>
          <td >不</td>
          <td >任意名稱-在確定Player API代碼中的特定提示點時可能有用</td>
        </tr>
        <tr>
          <td ><code translate="No">type</code></td>
          <td >細繩</td>
          <td >是的</td>
          <td >一定是<code translate="No">AD</code>或者<code translate="No">CODE</code></td>
        </tr>
        <tr>
          <td ><code translate="No">time</code></td>
          <td >數字</td>
          <td >是的</td>
          <td >從視頻開始到提示點的時間（以秒為單位） <sup> <strong><a href="#note1">[1]</a></strong> </sup></td>
        </tr>
        <tr>
          <td ><code translate="No">metadata</code></td>
          <td >細繩</td>
          <td >不</td>
          <td >最多128個單字節字符的任何字符串-這可能是對提示點事件處理程序有用的信息，例如疊加層的文本或要顯示的圖像的位置</td>
        </tr>
        <tr>
          <td ><code translate="No">force_stop</code></td>
          <td >布爾值</td>
          <td >不</td>
          <td >到達提示點時是否應暫停視頻 ( <code translate="No">force_stop</code>被 Brightcove 播放器忽略，目前沒有計劃支持它，但您可以在提示點事件處理程序中手動暫停視頻）</td>
        </tr>
      </tbody>
    </table>

    <h3>筆記</h3>

    <ul>
      <li id="note1" ><sup><strong>  [ 1] </strong>   </sup> 從技術上講，提示點在到達下一個提示點之前一直處於活動狀態 - 因此，在您可以從 Brightcove Player 檢索的提示點數組中，您將看到一個<code translate="No">startTime</code>和<code translate="No">endTime</code>以及在<code translate="No">time</code>對於提示點。</li>
    </ul>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="getCredentials">獲取身份驗證憑證</h2>
      </summary>
      <p>要使用<span translate="No">內容管理系統 API</span>您將需要適當的憑據。</p>

      <p>在大多數情況下，獲取憑據的最簡單方法是通過 Studio Admin API 身份驗證部分（需要您帳戶的管理員權限）。看<a href="/general/managing-api-authentication-credentials.html">管理 API 身份驗證憑據</a>詳情。在大多數情況下，您可能只想獲得所有權限<span translate="No">內容管理系統 API</span>手術：</p>

      <figure class="bcls-figure"><img class="bcls-image" alt="CMS API Permissions" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/cms-api/cms-permissions.png" />
        <figcaption class="bcls-caption--image">CMS API權限</figcaption>
      </figure>

      <p>如果Studio中沒有所需的權限，或者您希望直接從OAuth API獲取權限，請選擇<strong>獲取客戶憑證</strong>下面列出的文件。無論您選擇哪個選項，您都需要請求正確的操作權限。以下內容可與 cURL 或 Postman 一起使用以獲取 CMS API 的所有權限：</p>

      <pre class="line-numbers">
          <code class="language-json" translate="No">"operations": [
            "video-cloud/video/all",
            "video-cloud/playlist/all",
            "video-cloud/sharing-relationships/all",
            "video-cloud/notifications/all"
          ]</code></pre>

      <ul>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-curl.html">OAuth：使用cURL獲取客戶端憑據</a></li>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-postman.html">OAuth：使用郵遞員獲取客戶憑證</a></li>
      </ul>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="sample_app">示例應用程序</h2>
    在此找到與此樣本相關的所有代碼<a href="https://github.com/BrightcoveLearning/18030-cms-api-sample-add-cue-points">GitHub資料庫</a>。

    <p data-height="1200" data-theme-id="34967" data-slug-hash="bvqJEp" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="CMS API Sample: Add Cue Points" class="codepen">看筆<a href="https://codepen.io/team/rcrooks1969/pen/bvqJEp/">CMS API 示例：添加提示點</a>通過Brightcove學習服務（<a href="https://codepen.io/rcrooks1969"> @ rcrooks1969</a>） 上<a href="https://codepen.io">密碼筆</a>。</p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="Using_the_CodePen">使用代碼筆</h2>
      </summary>

      <ul>
        <li>通過單擊切換應用程序的實際顯示<strong>結果</strong>按鈕。</li>
        <li>點擊<strong>HTML / CSS / JS</strong>按鈕顯示一種代碼類型。</li>
        <li>點擊<strong>在CodePen上編輯</strong>在右上角將此CodePen分支到您自己的帳戶中。</li>
        <li>在此找到與此樣本相關的所有代碼<a href="https://github.com/BrightcoveLearning/18030-cms-api-sample-add-cue-points">GitHub資料庫</a>。</li>
      </ul>
    </details>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="proxy">代理代理代碼</h2>
      </summary>

      <p>為了建立您自己的版本此頁面上的範例應用程式，您必須建立並裝載您自己的 Proxy。（布萊特灣學習服務所使用的代理只接受來自布萊特灣域的請求。）可以在以下位置找到一個示例代理，該代理與我們使用的代理代理非常相似，但是沒有檢查阻止來自非Brightcove域的請求。<a href="https://github.com/BrightcoveLearning/sample-proxy-apps">這個GitHub倉庫</a>。您還將在那裡找到使用它的基本說明，以及圍繞代理構建應用程序的更詳細指南<a href="/getting-started/learning-guide-using-rest-apis.html">使用 REST API</a> .</p>
    </details>
  </section>

</article>