---
title: '添加 WebVTT 字幕（文本軌道）'
description: '在本主題中，您將學習如何使用<span translate="No">內容管理系統 API</span>為您的視頻添加標題或章節的 WebVTT 文本軌道。'
parent: Managing Videos/Assets 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Introduction">介紹</h2>
    
    <p>最初使用 POST 請求創建視頻時，無法添加 WebVTT 字幕（文本軌道）：</p>
    
    <ul>
      <li>對於要在Video Cloud中提取的文本軌道，可以將這些軌道包含在Dynamic Ingest請求中以提取視頻-請參閱<a href="/dynamic-ingest/ingest-guides/ingesting-webvtt-files-text-trackscaptions.html">攝取WebVTT文件</a>有關詳細信息。</li>
      <li>如果文本軌道將託管在某個遠程位置，則可以使用以下命令將它們添加到視頻中：<code translate="No">PATCH</code>請求更新視頻元數據。見<a href="/cms/code-samples/cms-api-sample-update-videos.html">CMS API 示例：更新影片</a>以更新請求為例。</li>
    </ul>
    
    <p>無論文本軌道是攝取的還是遠程的，您都可以使用<code translate="No">PATCH</code>請求更新與文本軌道關聯的元數據（例如<code translate="No">scrlang</code>或者<code translate="No">label</code>，或者文本軌道是否是<code translate="No">default</code>視頻）。</p>

		<p>另請參閱<a href="/cms/managing-videos/managing-text-tracks.html">使用CMS API管理文本軌道</a>有關文本軌道元數據處理方式的差異的更多信息，具體取決於文本軌道是遠程的，使用靜態攝取配置文件攝取還是使用動態攝取配置文件攝取。</p>
    
    <h3>筆記</h3>
    
    <ul>
      <li>當您更新動態交付視頻上的文本軌道時，該過程是異步的，因此響應狀態代碼將為<code translate="No">202 ACCEPTED</code>，更新不會立即發生。</li>
      <li>每個視頻有 1000 個文本軌道的限制。</li>
      <li>字幕文本必須採用 UTF-8 編碼才能正確顯示雙字節語言（如日語和韓語）。</li>
    </ul>
    </section>
    
    <section id="Remote_or_ingested" class="bcls-section">
    <h2>遠程或攝取</h2>
    
    <aside class="bcls-aside bcls-aside--information">本文檔中介紹的方法用於將遠程 WebVTT 文件添加到您的視頻。你也可以<a href="/dynamic-ingest/ingest-guides/ingesting-webvtt-files-text-trackscaptions.html">攝取 WebVTT 文件</a>使用動態攝取 API 到視頻雲。</aside>
    </section>
    
    <section class="section">
    <h2 id="authorization">授權</h2>
    
    <p class="BCL-aside">向<span translate="No">內容管理系統 API</span>需要包含您的訪問令牌的授權標頭。有關如何獲取客戶端憑據並使用它們來檢索訪問令牌的詳細信息，請參閱<a href="/oauth/getting-started/overview-oauth-api-v4.html">Brightcove OAuth 概述</a> .</p>
    
    <p>更新視頻元數據所需的操作是<code translate="No">video-cloud/video/update</code>或者<code translate="No">video-cloud/video/all</code> .</p>
    </section>
    
    <section class="section">
    <h2 id="syntax">句法</h2>
    
    <h3>要求</h3>
    
    <pre class="line-numbers">
              <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/{account_id}/videos/{video_ID}</code></pre>
    
    <h3>要求正文：</h3>
    
    <p>請求正文將是一個包含文本軌道數組的 JSON 對象：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{"text_tracks" : [ {
      "src" : "http://learning-services-media.brightcove.com/captions/bc_smart_ja.vtt",
      "srclang" : "ja",
      "label" : "日本人",
      "kind" : "captions",
      "mime_type" : null,
      "default" : false
    }, {
      "src" : "http://learning-services-media.brightcove.com/captions/bc_smart_es.vtt",
      "srclang" : "es",
      "label" : "español",
      "kind" : "captions",
      "mime_type" : null,
      "default" : false
    }, {
      "src" : "http://learning-services-media.brightcove.com/captions/bc_smart_de.vtt",
      "srclang" : "de",
      "label" : "Deutsch",
      "kind" : "captions",
      "mime_type" : null,
      "default" : false
    }, {
      "src" : "http://learning-services-media.brightcove.com/captions/bc_smart_fr.vtt",
      "srclang" : "fr",
      "label" : "français",
      "kind" : "captions",
      "mime_type" : null,
      "default" : false
    }, {
      "src" : "http://learning-services-media.brightcove.com/captions/bc_smart.vtt",
      "srclang" : "en",
      "label" : "English",
      "kind" : "captions",
      "mime_type" : null,
      "default" : true
    }
    ]}</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="replaceTracks">取代文字軌道</h2>
    
    <p>替換現有文本軌道（上載或遠程）的過程分為兩個步驟：</p>
    
    <ol class="bcls-tasklist">
      <li>通過 a 刪除現有的文本軌道<span translate="No">內容管理系統 API</span>更新（補丁）：
      <h4>API請求（PATCH）</h4>
    
      <pre class="line-numbers">
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code></pre>
    
      <h4>要求正文</h4>
    
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
          "text_tracks": []
      }</code></pre>
      </li>
      <li>如果您要添加遠程文本軌道，請通過另一個<span translate="No">內容管理系統 API</span>更新 (PATCH)（可選 - 如果您要上傳文本曲目，請跳到下一步）：
      <h4>API請求（PATCH）</h4>
    
      <pre class="line-numbers">
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code></pre>
    
      <h4>要求正文</h4>
    
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "text_tracks": [
            {
              "src": "https://learning-services-media.brightcove.com/vtt/sample.vtt",
              "srclang": "en",
              "label": "EN",
              "kind": "captions",
              "mime_type": "text/webvtt"
            },
            {
              "src": "https://learning-services-media.brightcove.com/vtt/sample-es.vtt",
              "srclang": "es",
              "label": "ES",
              "kind": "captions",
              "mime_type": "text/webvtt"
            }
        ]
    }</code></pre>
      </li>
      <li>如果您要上傳新的文本軌道，請通過POST請求將其添加到Dynamic Ingest API：
      <h4>API請求（POST）</h4>
    
      <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code> / ingest請求</pre>
    
      <h4>要求正文</h4>
    
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "text_tracks": [
            {
                "url": "http://solutions.brightcove.com/bcls/assets/vtt/sample.vtt",
                "srclang": "en",
                "kind": "captions",
                "label": "EN",
                "default": true
            },
            {
                "url": "http://solutions.brightcove.com/bcls/assets/vtt/sample-ar.vtt",
                "srclang": "ar",
                "kind": "captions",
                "label": "AR",
                "default": false
            }
        ]
    }</code></pre>
      </li>
      <li>向 GET 請求<span translate="No">內容管理系統 API</span>驗證您的新文本軌道是否與視頻相關聯：
      <pre class="line-numbers">
              <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code></pre>
      </li>
    </ol>
    </section>
    </article>
 