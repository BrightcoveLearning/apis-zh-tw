---
title: '使用標籤'
description: '在本主題中，您將學習如何使用 CMS API 創建、管理和使用標籤。'
parent: Managing Videos/Assets 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">介紹</h2>
    <aside class="bcls-aside bcls-aside--tip">請注意，不會為帳戶自動啟用標籤。要為您的帳戶啟用標籤，<a href="https://supportportal.brightcove.com/s/login/">聯繫 Brightcove 支持</a> .</aside>
    <p>標籤類似於標籤。您可以將它們添加到視頻中，然後使用它們來搜索一組視頻，或者它們具有一些明顯的優勢：</p>
    <ul>
      <li>
        標籤是在帳戶一級創建的，並已應用於視頻。
        <p>如果您的目的是組織視頻庫，這一點尤其重要。例如，如果您嘗試使用標籤來組織視頻，則可以創建如下標籤<code translate="No">birds</code> , <code translate="No">fish</code>， 和<code translate="No">insects</code> .然後很容易搜索和找到您所有的鳥類視頻並為它們創建一個智能播放列表。但是，如果用戶添加新視頻時不小心輸入了<code translate="No">bird</code>代替<code translate="No">birds</code>，您現在有了一個新標籤，該視頻不屬於您<code translate="No">birds</code>收藏。</p>
        <p>如果您創建一個名為<code translate="No">birds</code>相反，只能將該標籤添加到視頻中。您不能意外添加不存在的標籤<code translate="No">birds</code>反而。</p>
      </li>
      <li>
        標籤被創建為分層路徑，例如<code translate="No">/nature/birds/shore_birds</code>。
        <p>這意味著您可以搜索（或基於）部分或完整路徑搜索（或創建播放列表）：
          <ul>
            <li><code translate="No">q=labels:/nature</code> -返回所有帶有標籤的視頻<code translate="No">nature</code></li>
            <li><code translate="No">q=labels:/nature/birds</code> -返回<code translate="No">birds</code>的子組<code translate="No">nature</code>影片</li>
            <li><code translate="No">q=labels:/nature/birds/shore_birds</code> -返回<code translate="No">shore_birds</code>的子組<code translate="No">/nature/birds</code>影片</li>
          </ul>
        </p>
      </li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="creating_managing_labels">創建和管理標籤</h2>
    <p>可以使用<span translate="No">內容管理系統 API </span><code translate="No">/v1/accounts/{account_id}/labels</code>端點。</p>
    <p>請注意，下面顯示的所有API端點都將附加到CMS基本URL：</p>
    <pre><code class="language-http" translate="No">https://cms.api.brightcove.com</code></pre>
    <h3>創建標籤</h3>
    <p>您可以通過發送完整的路徑來創建新標籤<code translate="No">POST</code>要求：</p>
    <h4>示例請求端點</h4>
    <pre><code class="language-http" translate="No">/v1/accounts/1234567890/labels</code></pre>
    <h4>示例請求正文</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "path": "/nature/birds/shore_birds/"
}</code></pre>
    <p>注意 <em>全部</em> 將創建路徑中尚不存在的標籤。如果要添加另一組<code translate="No">forest_birds</code>，您將發送：</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "path": "/nature/birds/forest_birds/"
}</code></pre>
    <p>這一次，只有<code translate="No">forest_birds</code>子標籤，將被創建，因為<code translate="No">nature</code>和<code translate="No">birds</code>已經存在。</p>
    <p>同樣，如果要添加新的子組<code translate="No">sandpipers</code>到<code translate="No">shore_birds</code>，你會發送：</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "path": "/nature/birds/shore_birds/sandpipers"
}</code></pre>
    <h4>樣本響應</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "path": "/nature/birds/shore_birds/sandpipers/"
}</code></pre>
        <h3>獲取標籤</h3>
    <p>您可以通過發送一個帳戶來獲取所有標籤<code translate="No">GET</code>要求：</p>
    <h4>示例請求端點</h4>
    <pre><code class="language-http" translate="No">/v1/accounts/1234567890/labels</code></pre>
    <h4>樣本響應</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "account_id": "57838016001",
  "labels": [
    "/nature/birds/",
    "/nature/birds/shore_birds/",
    "/nature/birds/forest_birds/",
    "/nature/mammals/seamammals/"
  ],
  "version": 4
}</code></pre>
    <h3>更新標籤</h3>
    <p>要更新標籤，您發送一個<code translate="No">PATCH</code>請求：</p>
    <pre><code class="language-http" translate="No">/v1/accounts/{account_id}/labels/by_path/{path}</code></pre>
    <h4>示例請求端點</h4>
    <pre><code class="language-http" translate="No">/v1/accounts/1234567890/labels/by_path//nature/birds/shore_birds</code></pre>
    <h4>示例請求正文</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "new_label": "coastal_birds"
}</code></pre>
    <p>請注意<code translate="No">new_label</code>值將替換<code translate="No">{path}</code>包含在請求中。所以如果你想更換<code translate="No">/birds</code>和<code translate="No">/avian</code>，請求和正文將如下所示：</p>
    <h5>終點</h5>
    <pre><code class="language-http" translate="No">/v1/accounts/1234567890/labels/by_path//nature/birds/</code></pre>
    <h5>要求正文</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "new_label": "avian"
}</code></pre>
    <p>提出要求後，<code translate="No">coastal_birds</code>路徑將成為<code translate="No">/nature/wildlife/avian/coastal_birds</code>。對於層次結構中的任何添加子標籤，路徑都會更改，因此<code translate="No">/nature/birds/forest_birds</code>會成為<code translate="No">/nature/wildlife/avian/forest_birds</code></p>
    <p>響應將包括更新的標籤數量。</p>
    <h5>樣本響應</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "path": "/nature/avian",
  "labels_updated": "2"
}</code></pre>
    <h3>刪除標籤</h3>
    <p>刪除標籤使用<code translate="No">DELETE</code>請求發送到與更新請求相同的端點。僅刪除以該子標籤結尾的路徑（以及具有其他子標籤的路徑），而保留較高級別的標籤。</p>
    <p>例如，假設您具有以下三個標籤路徑：</p>
    <pre><code translate="No">
      /nature/wildlife/avian/coastal_birds
      /nature/wildlife/avian/coastal_birds/sandpipers
      /nature/wildlife/avian/forest_birds
    </code></pre>
    <p>發送一個<code translate="No">DELETE</code>請求<code translate="No">/v1/accounts/1234567890/labels/by_path//nature/wildlife/avian/coastal_birds</code>將刪除上面的第一個路徑，但不會影響第三個路徑。</p>
    <aside class="bcls-aside bcls-aside--information">當您刪除標籤時，它將從添加到的任何視頻中異步刪除。</aside>
  </section>
  <section class="bcls-section">
    <h2 id="adding_labels_videos">向視頻添加和更新標籤</h2>
    <p>將標籤作為完整標籤路徑的數組添加到視頻：</p>
    <pre class="line-numbers"><code class="language-json" translate="No">[
      "/nature/wildlife/avian/coastal_birds",
      "/nature/wildlife/avian/coastal_birds/sandpipers"
]</code></pre>
    <p>標籤數組可以包含在一個<a href="/cms/references/reference.html#operation/CreateVideo">創建視頻 (POST) 請求</a>或<a href="/cms/references/reference.html#operation/UpdateVideo">更新視頻 (PATCH) 請求</a> .</p>
    <p>要更新視頻標籤，請將完整的、更新的視頻數組發送到<a href="/cms/references/reference.html#operation/UpdateVideo">更新視頻 (PATCH) 請求</a> .因此，例如，要添加<code translate="No">/nature/wildlife/avian/forest_birds</code>，您將發送數組：</p>
    <pre class="line-numbers"><code class="language-json" translate="No">[
      "/nature/wildlife/avian/coastal_birds",
      "/nature/wildlife/avian/coastal_birds/sandpipers",
      "/nature/wildlife/avian/forest_birds"
]</code></pre>
    <aside class="bcls-aside bcls-aside--warning">請注意，您在添加或更新視頻標籤時包含的標籤<strong>必須存在</strong>否則請求將返回錯誤。</aside>
  </section>
  <section class="bcls-section">
    <h2 id="searching_videos_label">按標籤搜索視頻</h2>
    <p>您可以通過以下方式搜索視頻<code translate="No">labels</code>就像您可以搜索支持的其他字段一樣。如簡介中所述，在搜索路徑中添加子標籤可以過濾搜索結果：</p>
    <table class="bcls-table">
      <caption class="bcls-caption--table">按標籤示例搜索</caption>
      <thead class="bcls-table__head">
          <tr>
              <th>樣品搜索</th>
              <th>它返回什麼</th>
          </tr>
      </thead>
      <tbody class="bcls-table__body">
          <tr>
              <td><code translate="No">q=labels:/nature</code></td>
              <td>所有標籤路徑均以開頭的視頻<code translate="No">/nature</code></td>
          </tr>
          <tr>
              <td><code translate="No">q=labels:/nature/wildlife</code></td>
              <td>所有標籤路徑均以開頭的視頻<code translate="No">/nature/wildlife</code></td>
          </tr>
          <tr>
              <td><code translate="No">q=labels:/nature/wildlife/avian</code></td>
              <td>所有標籤路徑均以開頭的視頻<code translate="No">/nature/wildlife/avian</code></td>
          </tr>
      </tbody>
  </table>
  </section>
  <!-- <section class="bcls-section">
    <h2 id="playlists_based_on_labels">Playlists based on labels</h2>
    <p>Smart playlists can be built based on label search strings just as they can for tag search strings. See <a href="https://apis.support.brightcove.com/cms/managing-videos/managing-playlists-using-cms-api.html">Managing Playlists Using the CMS API</a> for details.</p>
  </section> -->
  <section class="bcls-section">
    <h2 id="Limitations">局限性</h2>
    <ul>
      <li>一個帳戶最多可以添加10,000個標籤</li>
      <li>目前支持按標籤搜索<a href="/cms/searching/cmsplayback-api-videos-search.html">僅 v1 搜索語法</a></li>
      <li>標籤是<strong>不是</strong>包含在視頻元數據中，並使用<a href="https://apis.support.brightcove.com/cms/managing-videos/media-sharing-cms-api.html">媒體分享</a>。</li>
    </ul>
  </section>
</article>