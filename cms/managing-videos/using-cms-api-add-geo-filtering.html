---
title: '添加地理過濾'
description: '在本主題中，您將學習如何使用 CMS API 管理視頻的地理限制屬性。這<span translate="No">內容管理系統 API</span>允許您向視頻添加地理過濾屬性，以提供可以（或不能）查看的國家/地區列表。'
parent: Managing Videos/Assets 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="introduction">介紹</h2>
    
    <p>當您最初使用POST請求或使用PATCH請求創建視頻以更新視頻元數據時，可以添加地理過濾屬性。看<a href="/cms/code-samples/cms-api-sample-update-videos.html">使用更新視頻<span translate="No">內容管理系統 API</span></a>以更新請求為例。</p>
    
    <aside class="bcls-aside bcls-aside--information">除了在視頻級別應用地理過濾之外，您還可以<a href="/policy/getting-started/policy-keys.html#geoRestriction">通過策略鍵對 Brightcove 玩家應用地理過濾</a> .Video Cloud 會查看視頻和播放器級別的地理過濾策略，並將同時應用兩者。如果任何一個國家/地區都排除了該國家/地區，則該視頻將在該國家/地區不可用。
    
    <p>請注意，應輸入國家代碼<strong>小寫</strong>。</p>
    
    <p>一些出版商要求能夠對美國軍事基地和美國的視頻進行地理過濾。為了支持這一點，有一個<strong>美國軍方</strong>選項。雖然沒有 100% 可靠的方法來識別軍事基地，但當遇到解析為 .mil 域的 IP 並且不在美國時，它將被識別為來自美國軍事基地而不是其實際國家起源。在美國的 .mil 地址仍將被標識為“我們”。</p>
    </aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="access">訪問地理過濾</h2>
    
    <aside class="bcls-aside bcls-aside--information">地理過濾是 Video Cloud 的付費插件。如果您有興趣購買地理過濾包，請聯繫您的客戶經理。</aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="authorization">授權</h2>
    
    <aside class="bcls-aside bcls-aside--information">向<span translate="No">內容管理系統 API</span>需要包含您的訪問令牌的授權標頭。有關如何獲取客戶端憑據並使用它們來檢索訪問令牌的詳細信息，請參閱<a href="/oauth/getting-started/overview-oauth-api-v4.html">Brightcove OAuth 概述</a> .</aside>
    
    <p>您需要權限才能更新視頻元數據的操作是<code translate="No">video-cloud/video/update</code>或者<code translate="No">video-cloud/video/all</code> .</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="syntax">句法</h2>
    
    <p><code translate="No">geo</code>是具有三個屬性的對象：</p>
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>財產</th>
          <th>類型</th>
          <th>必要</th>
          <th>評論</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">geo.countries</code></td>
          <td>國家/地區代碼字符串數組</td>
          <td>不</td>
          <td>一個<a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166 2字母代碼清單<strong>小寫</strong></a>適用於將其列入白名單或黑名單以觀看視頻的國家/地區</td>
        </tr>
        <tr>
          <td><code translate="No">geo.exclude_countries</code></td>
          <td>布爾型</td>
          <td>不</td>
          <td>如果<code translate="No">true</code>，觀看次數為<strong>不是</strong>允許在<code translate="No">geo.countries</code>列表;如果<code translate="No">false</code>，觀看次數為<strong>只要</strong>在那些國家允許。</td>
        </tr>
        <tr>
          <td><code translate="No">geo.restricted</code></td>
          <td>布爾型</td>
          <td>不</td>
          <td>如果<code translate="No">true</code>為視頻啟用了地理過濾</td>
        </tr>
      </tbody>
    </table>
    
    <h3>要求</h3>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/{account_id}/videos/{video_ID}</code></pre>
    
    <h3>要求正文：</h3>
    
    <p>請求正文將是一個 JSON 對象，其中包含要包含或排除的國家/地區縮寫數組：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{"geo" : {
        "restricted" : true,
        "exclude_countries" : false,
        "countries" : ["ph","in","my","ja"]
      }
    }</code></pre>
    </section>
    </article>
 