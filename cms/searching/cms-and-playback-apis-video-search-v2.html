---
title: '內容管理 API：視頻搜索 v2'
description: '本主題介紹了使用 CMS API 支持的視頻搜索版本 2 的語法。'
parent: Searching 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="introduction">介紹</h2>

    <p >使用的視頻搜索的第 2 版<span translate="No">內容管理系統 API</span>簡化了語法並使其更易於使用。</p>

    <aside class="bcls-aside bcls-aside--warning"><strong>筆記：</strong>
      <ul>
        <li>v2 搜索語法受支持<span translate="No">內容管理系統 API</span>只有你<strong>不能將此語法與 Playback API 一起使用</strong> .</li>
        <li>CMS 和回放 API 仍支持原始搜索語法。</li>
      </ul>
    </aside>

    <p >選擇要使用的語法很簡單，只需選擇適當的URL參數即可：</p>

    <ul>
      <li>要使用新的 v2 搜索：
      <pre>
    <code class="language-http" translate="No">.../videos?<span class="bcls-highlight">query</span>={search_string}</code></pre>
      </li>
      <li>要使用原始搜索：
      <pre>
    <code class="language-http" translate="No">.../videos?<span class="bcls-highlight">q</span>={search_string}</code></pre>
      </li>
    </ul>
    </section>

    <section class="bcls-section">
    <h2 id="basics">基本概念 </h2>

    <p >搜索字符串的基本元素是 <em>搜索詞</em>，它可以以字段名稱為前綴。如果包含字段名稱，則僅搜索該元數據字段。否則，將搜索幾個字段（下面列出）。</p>

    <p >例如：</p>

    <table class="bcls-table">
      <caption class="bcls-caption--table">基本搜尋</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>搜索字符串</th>
          <th>什麼會被退回</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td ><code translate="No">bird</code></td>
          <td >那個詞“的視頻<code translate="No">bird</code> " 在下面列出的字段中</td>
        </tr>
        <tr>
          <td ><code translate="No">name:bird</code></td>
          <td >帶有“<code translate="No">bird</code>“ 在裡面<code translate="No">name</code>（標題）將被退回。</td>
        </tr>
      </tbody>
    </table>

    <p >當您未提供要搜索的字段名稱時，請求將在以下字段中搜索該值：</p>

    <ul id="default_fields">
      <li><code translate="No">id</code></li>
      <li><code translate="No">name</code></li>
      <li><code translate="No">description</code></li>
      <li><code translate="No">long_description</code></li>
      <li><code translate="No">text</code>（不是真正的元數據字段，而是可用於搜索<code translate="No">name</code> , <code translate="No">description</code>， 和<code translate="No">long_description</code> - 例如<code translate="No">text:bird</code> )</li>
      <li><code translate="No">tags</code></li>
      <li><code translate="No">reference_id</code></li>
      <li><code translate="No">custom_fields</code>（搜索所有自定義字段）</li>
      <li><code translate="No">custom_field_name</code>（搜索特定命名的自定義字段）</li>
    </ul>

    <p >支持的搜索字段有：</p>

    <table class="bcls-table" id="supported_search_fields">
      <caption class="bcls-caption--table">支持的搜索字段</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>場地</th>
          <th>法律價值</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td ><code translate="No">name</code></td>
          <td >字符串或帶引號的字符串</td>
        </tr>
        <tr>
          <td >文本</td>
          <td >字符串或帶引號的字符串（搜索<code translate="No">name</code> , <code translate="No">description</code>， 和<code translate="No">long_description</code> )</td>
        </tr>
        <tr>
          <td ><code translate="No">tags</code></td>
          <td >字符串或帶引號的字符串（多個標籤應以逗號分隔）</td>
        </tr>
        <tr>
          <td ><code translate="No">custom_fields</code></td>
          <td >字符串或帶引號的字符串（搜索所有自定義字段 - 您也可以使用特定的自定義字段 <em>內部的</em> 姓名）</td>
        </tr>
        <tr>
          <td ><code translate="No">reference_id</code></td>
          <td >字符串或帶引號的字符串</td>
        </tr>
        <tr>
          <td ><code translate="No">state</code></td>
          <td ><code translate="No">ACTIVE</code>，<code translate="No">INACTIVE</code>，<code translate="No">PENDING</code>，<code translate="No">DELETED</code>（僅返回在過去10天內刪除的視頻）</td>
        </tr>
        <tr>
          <td ><code translate="No">updated_at</code></td>
          <td >日期時間或範圍（<a href="#date_times">下面的詳細信息</a>）</td>
        </tr>
        <tr>
          <td ><code translate="No">created_at</code></td>
          <td >日期時間或範圍（<a href="#date_times">下面的詳細信息</a>）</td>
        </tr>
        <tr>
          <td ><code translate="No">schedule.starts_at</code></td>
          <td >日期時間或範圍（<a href="#date_times">下面的詳細信息</a>）</td>
        </tr>
        <tr>
          <td ><code translate="No">schedule.ends_at</code></td>
          <td >日期時間或範圍（<a href="#date_times">下面的詳細信息</a>）</td>
        </tr>
        <tr>
          <td ><code translate="No">published_at</code></td>
          <td >日期時間或範圍（<a href="#date_times">下面的詳細信息</a>）</td>
        </tr>
        <tr>
          <td ><code translate="No">complete</code></td>
          <td ><code translate="No">true</code>或者<code translate="No">false</code></td>
        </tr>
      </tbody>
    </table>

    <p >在上面顯示的兩個示例中，未包含“<code translate="No">bird</code>"仍可能會返回。下一部分說明如何將搜索結果限制為僅包含指定字詞的視頻。</p>
    </section>

    <section class="bcls-section">
    <h2 id="advanced_search">高級搜索</h2>

    <p >有一些修飾符可以幫助您將搜索結果限制為您想要的視頻。</p>

    <table class="bcls-table">
      <caption class="bcls-caption--table">搜索修飾符</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>修飾符</th>
          <th>描述</th>
          <th>例子</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td ><strong><code translate="No">+</code></strong></td>
          <td >在搜索字詞前加加號（+）表示返回的視頻<strong>必須</strong>有指定的期限</td>
          <td >
          <ul>
            <li><code translate="No">+bird</code>（返回 <em>只要</em> 帶有“<code translate="No">bird</code> "在上面列出的字段中）</li>
            <li><code translate="No">+tags:bird</code>（返回 <em>只要</em> 帶有“<code translate="No">bird</code>“ 在裡面<code translate="No">tags</code> )</li>
          </ul>
          </td>
        </tr>
        <tr>
          <td ><strong><code translate="No">-</code></strong>或者<strong><code translate="No">NOT</code></strong></td>
          <td >在搜索詞前加上減號（-）或<code translate="No">NOT</code>表示返回的視頻<strong>禁止</strong>有指定的期限</td>
          <td >
          <ul>
            <li><code translate="No">-birds</code>或者<code translate="No">NOT birds</code>（僅返回符合條件的視頻<strong>不是</strong>有 "<code translate="No">bird</code>“在上面列出的字段中）</li>
            <li><code translate="No">-name:birds</code>或者<code translate="No">NOT name:birds</code>（僅返回符合條件的視頻<strong>不是</strong>有 "<code translate="No">bird</code>“在裡面<code translate="No">name</code>）</li>
          </ul>
          </td>
        </tr>
        <tr>
          <td ><strong><code translate="No">(term)&nbsp;AND&nbsp;(term)</code></strong><br />
          或者<br />
          <strong><code translate="No">(term)&nbsp;OR&nbsp;(term)</code></strong></td>
          <td >合乎邏輯的<code translate="No">AND</code>和<code translate="No">OR</code>運算符允許您為複雜查詢組合多個搜索詞</td>
          <td >
          <ul>
            <li><code translate="No">(+name:heron) AND (+tags:bird)</code>（將返回具有以下內容的視頻：<strong>兩個都</strong>"<code translate="No">heron</code>“在裡面<code translate="No">name</code>和 "<code translate="No">bird</code>“在裡面<code translate="No">tags</code>）</li>
            <li><code translate="No">(+name:heron) OR (+tags:bird)</code>（將返回具有以下內容的視頻：<strong>任何一個</strong>"<code translate="No">heron</code>“在裡面<code translate="No">name</code>和 "<code translate="No">bird</code>“在裡面<code translate="No">tags</code>）</li>
            <li><code translate="No">((+name:heron) AND (+tags:bird)) AND (NOT tags:internal)</code>（將返回具有以下內容的視頻：<strong>兩個都</strong>"<code translate="No">heron</code>“在裡面<code translate="No">name</code>和 "<code translate="No">bird</code>“在裡面<code translate="No">tags</code>， 但<strong>不是</strong>標籤“<code translate="No">internal</code>"）</li>
          </ul>
          </td>
        </tr>
      </tbody>
    </table>
    </section>

    <section class="bcls-section">
    <h2 id="search_for_a_phrase">詞組搜索</h2>

    <p >您可以通過放置引號來搜索短語（而不是單個單詞）：</p>

    <ul>
      <li><code translate="No">"blue heron"</code></li>
      <li><code translate="No">name:"blue heron"</code></li>
    </ul>
    </section>

    <section class="bcls-section">
    <h2 id="date_times">日期/時間</h2>

    <p >您可以使用以下方法搜索日期時間間隔：</p>

    <p ><code translate="No">[{start} TO {end}]</code></p>

    <p >要搜索單個日期/時間，請設置<code translate="No">start</code>和<code translate="No">end</code>到相同的值：</p>

    <p ><code translate="No">[2019-09-30T00:00:00.000Z TO 2019-09-30T00:00:00.000Z]</code></p>

    <p >日期時間值是使用ISO 8601格式指定的：</p>

    <table class="bcls-table">
      <caption class="bcls-caption--table">日期/時間格式</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>約會時間</th>
          <th>格式</th>
          <th>例子</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td >約會時間</td>
          <td ><code translate="No">yyyy-MM-ddThh:mm:ss.sssZ</code></td>
          <td ><code translate="No">2019-09-30T14:24:33.512Z</code></td>
        </tr>
        <tr>
          <td >通配符（可用於開始或結束日期/時間）</td>
          <td ><code translate="No">*</code></td>
          <td >
          <ul>
            <li><code translate="No">2019-09-30T14:24:33.512Z TO *</code></li>
            <li><code translate="No">* TO 2019-09-30T14:24:33.512-4:00Z</code></li>
          </ul>
          </td>
        </tr>
      </tbody>
    </table>

    <aside class="bcls-aside bcls-aside--information">注意所需的<code translate="No">Z</code>在時區指示器中。目前該值必須為空（指示 UTC 作為時區）。</aside>

    <p >以下是一些示例日期/時間搜索字符串。</p>

    <table class="bcls-table">
      <caption class="bcls-caption--table">樣本數據/時間搜索</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>搜索字符串</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td ><code translate="No">+updated_at:[2019-09-30T00:00:00.000Z TO 2019-10-07T00:00:00.000Z]</code></td>
          <td >2019 年 9 月 30 日至 2019 年 10 月 7 日期間更新的視頻</td>
        </tr>
        <tr>
          <td ><code translate="No">+created_at:[2019-09-30T00:00:00.000Z TO 2019-09-30T00:00:00.000Z]</code></td>
          <td >2019 年 9 月 30 日添加的視頻</td>
        </tr>
        <tr>
          <td ><code translate="No">+created_at:[2019-09-30T14:00:00.000Z TO 2019-09-30T16:30:00.000Z]</code></td>
          <td >2019 年 9 月 30 日下午 2:00 至下午 4:30（UTC）添加的視頻</td>
        </tr>
        <tr>
          <td ><code translate="No">+created_at:[* TO 2019-09-30T00:00:00.000Z]</code></td>
          <td >2019 年 9 月 30 日之前添加的視頻</td>
        </tr>
      </tbody>
    </table>
    </section>
    </article>