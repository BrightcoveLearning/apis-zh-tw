---
title: '頁面搜索結果'
description: '在本主題中，您將學習如何實現對結果的分頁<span translate="No">內容管理系統 API</span>請求，當請求匹配的項目多於您一次可以返回的項目時。這允許您在較小的組中處理大型結果集，從而提高性能。最多 100 條記錄將從單個請求返回到 CMS API，但對於大型結果集，我們建議每個請求獲取 25 個項目以獲得更好的性能。'
parent: Searching 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section id="Procedure" class="bcls-section">
    <h2>程序</h2>
    
    <p>要處理數據分頁，您將遵循以下步驟：</p>
    
    <ul>
      <li>獲取結果集中記錄總數。</li>
      <li>計算結果集的頁數。</li>
      <li>循環並調用<span translate="No">內容管理系統 API</span>對於每一頁數據。</li>
    </ul>
    
    <aside class="bcls-aside bcls-aside--information">向<span translate="No">內容管理系統 API</span>需要包含您的訪問令牌的授權標頭。有關如何獲取客戶端憑據並使用它們來檢索訪問令牌的詳細信息，請參閱<a href="/oauth/getting-started/overview-oauth-api-v4.html">Brightcove OAuth 概述</a> .</aside>
    </section>
    
    <section class="bcls-section" id="getrecordcount">
    <h2>獲取記錄數</h2>
    
    <p>首先，您需要知道結果集中的視頻總數。結果集中的響應將根據您的搜索條件而有所不同。使用<code translate="No">counts</code>資源以返回結果集中的記錄總數。</p>
    
    <p>例子：獲取您帳戶中視頻的總數：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/921483702001/counts/videos</code></pre>
    
    <p>回复：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "count" : 74
    }</code></pre>
    
    <p>您還可以使用可選的來限制計數<code translate="No">q</code>範圍。有關將搜索條件與此參數一起使用的詳細信息，請參見<a href="/cms/searching/cms-and-playback-apis-video-search-v2.html">使用CMS API：搜索視頻</a>文檔。</p>
    
    <p>例子：在這裡，我們獲得標記值為的視頻數量<strong>野生動植物</strong>。</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/921483702001/counts/videos?q=tags:wildlife</code></pre>
    
    <p>回复：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "count" : 6
    }</code></pre>
    </section>
    
    <section class="bcls-section" id="calculatepages">
    <h2>計算頁面</h2>
    
    <p>要計算頁數，請將結果集中的記錄總數除以每頁的記錄數（頁大小）。</p>
    
    <p>您可以設置固定的頁面大小，或者如果您正在向網頁顯示視頻數據，您可以讓用戶動態設置頁面大小（即每頁視頻數據對象的數量）。</p>
    
    <p>JavaScript示例：</p>
    
    <pre class="line-numbers">
    <code class="language-javascript" translate="No">var numberOfPages = Math.ceil(jsonData.count / pageSize);</code></pre>
    </section>
    
    <section class="bcls-section" id="retrievepages">
    <h2>檢索頁面</h2>
    
    <p>循環遍歷您在上一步中計算的頁數並調用<span translate="No">內容管理系統 API</span>與<code translate="No">limit</code>和<code translate="No">offset</code>參數來檢索連續的數據子集。</p>
    
    <p>此示例返回從結果集中的第 21 個視頻開始的 10 個視頻。</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/921483702001/videos?limit=10&amp;offset=20</code></pre>
    
    <p>您還可以包括可選的<code translate="No">q</code>範圍。有關將搜索條件與此參數一起使用的詳細信息，請參見<a href="/cms/searching/cms-and-playback-apis-video-search-v2.html">使用CMS API：搜索視頻</a>文檔。</p>
    
    <p>此請求從視頻結果集中的第 5 個視頻開始返回 2 個視頻，這些視頻的標籤值為<strong>野生動物</strong> .</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/921483702001/videos?q=tags:wildlife&amp;limit=2&amp;offset=4</code></pre>
    </section>
    </article>
 