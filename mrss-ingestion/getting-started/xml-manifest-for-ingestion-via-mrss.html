---
title:通過 MRSS 攝取的 XML 清單
description: '本主題介紹了 MRSS 攝取用於將視頻上傳到視頻雲的 XML 結構。筆記：這是 Beta 版攝取服務。'
parent: MRSS ingestion
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">介紹</h2>
    <p>攝取視頻時，您可以使用 XML 清單文件指定額外的元數據（包括視頻標題、描述、飛行時間、標籤和自定義元數據）以及縮略圖和隱藏式字幕文件。</p>
    <aside class="bcls-aside bcls-aside--information">筆記：
      <ul>
        <li>這是一個<strong><em>測試版</em></strong>攝取服務 - 如果您有興趣參與測試版，請聯繫您的客戶經理。</li>
        <li>儘管XML標籤使用關鍵字<code translate="No">ooyala</code>，這種提取方法將使您可以將視頻上傳到您的Video Cloud帳戶。</li>
      </ul>
    </aside>
  </section>
  <section class="bcls-section">
    <h2 id="Handling_of_metadata">元數據的處理</h2>
    <p>如果包括<code translate="No">metadata</code>攝取視頻時，它會以以下兩種方式之一映射到“視頻雲"視頻字段：</p>
    <ol>
      <li>默認， 每個<code translate="No">metadata</code>鍵/值對添加為<strong>標籤</strong>形式：<code translate="No">meta::key::value</code>。例如，<code translate="No">&lt;ooyala:metadata name="category"&gt;cooking&lt;/ooyala:metadata&gt;</code>會產生標籤<code translate="No">meta::category::cooking</code></li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="XML_Manifest_Elements">XML 清單元素</h2>
    <p>您可以在 XML 清單文件中使用以下元素。</p>
    <table class="bcls-table">
      <caption class="bcls-caption--table">XML 元素</caption>
      <thead class="bcls-table__head">
          <tr>
              <th>XML 標籤</th>
              <th>描述</th>
              <th>必需/可選</th>
          </tr>
      </thead>
      <tbody class="bcls-table__body">
          <tr>
              <td><code translate="No">&lt;channel&gt;</code></td>
              <td>包含一個或多個<code translate="No">&lt;item&gt;</code>元素。</td>
              <td>必需的</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;item&gt;</code></td>
              <td>表示要提取的單個視頻。您可以指定多個視頻 ( <code translate="No">&lt;item&gt;</code>標籤）在 XML 清單文件中。包含此表中的其餘標籤。</td>
              <td>必需的</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;media:content&gt;</code></td>
              <td>
                指定要攝取的視頻作為<strong>文檔名稱</strong>您上傳到服務器的視頻。<aside class="bcls-aside bcls-aside--information">筆記： 
                  <ul style="margin-left: 1rem;padding: 0;">
                    <li>遠程 URL 文件擴展名必須是<strong>m3u8</strong>或者<strong>mpd</strong> ;否則我們將默認為漸進式<strong>.mp4</strong> .</li>
                    <li>對於遠程資產，請使用<code translate="No">&lt;ooyala:remoteasset&gt;</code>反而。</li>
                  </ul>
                  </aside>
              </td>
              <td>必需（遠程資產除外）</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;media:title&gt;</code></td>
              <td>視頻的名稱或標題。</td>
              <td>可選的</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;media:thumbnail&gt;</code></td>
              <td>
                指定縮略圖（預覽圖像）。以下之一：
                <ul style="padding: 0;margin-left: 1rem;">
                  <li>您上傳到服務器的縮略圖的文件名。</li>
                  <li>縮略圖所在的 URL。URL 可以包括<code translate="No">http://</code>或者<code translate="No">https://</code> .</li>
                </ul>
              </td>
              <td>可選的</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;media:subTitle&gt;</code></td>
              <td>
                指定隱藏式字幕文件（支持 DFXP、WebVTT 和 SRT 文件）。看<a href="https://studio.support.brightcove.com/media/overview-adding-captions-video.html">攝取隱藏式字幕文件</a> .屬性：
                <ul style="padding: 0;margin-left: 1rem;">
                  <li><code translate="No">href</code>（<strong>必需的</strong>）-以下其中一項：
                    <ul style="padding: 0;margin-left: 1rem;">
                      <li>您上傳的隱藏式字幕文件的文件名。例子： <samp translate="No">標題-1.dfxp</samp></li>
                      <li>隱藏式字幕文件所在的 URL。URL 可以包括<code translate="No">http://</code>或者<code translate="No">https://</code> .</li>
                    </ul>
                  </li>
                  <li><code translate="No">lang</code>（<strong>必需的</strong>）-隱藏字幕文件的語言。兩個字母的代碼。看<a href="https://studio.support.brightcove.com/media/adding-captions-videos-using-media-module.html#texttrack">支持的隱藏字幕</a> .</li>
                  <li><code translate="No">frameRate</code>（<strong>可選的</strong>）-隱藏式字幕文件的幀頻。單位為每秒幀數 (FPS)。默認值為30。較早的隱藏式字幕文件可能是24。</li>
                </ul>
              </td>
              <td>可選的</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;media:description&gt;</code></td>
              <td>影片說明。</td>
              <td>可選的</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;<link>&gt;</code></td>
              <td>嵌入視頻的永久URL。映射到創建的資產的<code translate="No">hosted_at</code>財產</td>
              <td>可選的</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;dcterms:valid&gt;</code></td>
              <td>
                飛行時間代表可以播放資產的開始時間和結束時間。例子：
<pre class="line-numbers">&lt;dcterms:valid&gt; start=2011-06-28T15:15:00-07:00; end=2022-12-01T16:00:00-07:00;scheme=W3C-DTF &lt;/dcterms:valid&gt;<code class="language-xml"></code></pre>
              </td>
              <td>可選的</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;ooyala:labels&gt;</code></td>
              <td>一個或多個值，以逗號分隔。例子：<code translate="No">/sports,/sports/jogging</code>。這些值將用於填寫<a href="https://studio.support.brightcove.com/media/editing-video-properties-using-media-module.html">視頻雲標籤</a> .</td>
              <td>可選的</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;ooyala:embedcode&gt;</code></td>
              <td>視頻雲視頻ID。</td>
              <td>可選（如果您要更新視頻而不是添加新視頻，則為必填項）</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;ooyala:metadata&gt;</code></td>
              <td>
                視頻的自定義元數據。映射到Studio中的“自定義字段"。<aside class="bcls-aside bcls-aside--information">筆記：<strong>如果定義了元數據並且自定義字段不存在，則攝取將失敗</strong> .</aside>
                <p>例子：<code translate="No">&lt;ooyala:metadata name="category"&gt;cooking&lt;/ooyala:metadata&gt;</code>。</p>
              </td>
              <td>可選的</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;ooyala:remoteasset&gt;</code></td>
              <td>
                指定要攝取的遠程資產。遠程資產是在“視頻雲"以外的其他地方託管的視頻。指定以下屬性：
                <ul style="padding: 0;margin-left: 1rem;">
                  <li><code translate="No">durationInMs</code>：媒體持續時間（以毫秒為單位）</li>
                  <li><code translate="No">url</code>：遠程資產所在的 URL。URL 可以包括<code translate="No">http://</code>或者<code translate="No">https://</code> .</li>
                </ul>
                <p>此設置映射到遠程資產的 hosts_at 屬性的值。例子：<code translate="No">&lt;ooyala:remoteasset durationInMs='5000' url="http://your_website/your_remote_assets.mp4" /&gt;</code></p>
                <aside class="bcls-aside bcls-aside--information">筆記：創建遠程資產後，其傳播到各種CDN的時間可能會延遲60秒或更長時間。如果您在創建後過早請求遠程資產，結果將由 CDN 緩存，這可能需要幾分鐘才能清除。</aside>
              </td>
              <td>必需（僅適用於遠程資產）</td>
          </tr>
          <tr>
              <td><code translate="No">&lt;ooyala:profileguid&gt;</code></td>
              <td>指定用於處理視頻的視頻云攝取配置文件。如果不想使用帳戶默認配置文件，則必須指定要使用的默認配置文件。看<a href="https://studio.support.brightcove.com/admin/managing-ingest-profiles.html">管理攝取配置文件</a> .</td>
              <td>可選的</td>
          </tr>
      </tbody>
  </table>
  </section>
  <section class="bcls-section">
    <h2 id="Sample_manifest">示例清單</h2>
    <p>以下是完整的示例清單。</p>
<pre class="line-numbers"><code class="language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/" xmlns:dcterms="http:/ /purl.org/dc/terms/" xmlns:fh="http://purl.org/syndication/history/1.0" xmlns:ooyala="http://www.ooyala.com/mrss/"&gt; &lt;頻道&gt; &lt;item&gt; &lt;media:content url="test.mp4" &gt;&lt;/media:content&gt; &lt;media:subTitle href="my_caption.dfxp"&gt;&lt;/media:subTitle&gt; &lt;media:thumbnail url="my_thumbnail.jpg " filesize="35712"&gt;&lt;/media:thumbnail&gt; &lt;media:title&gt;測試 XML&lt;/media:title&gt; &lt;media:description&gt;這是一個例子&lt;/media:description&gt; &lt;ooyala:labels&gt;/test,/例如，/xml&lt;/ooyala:labels&gt; &lt;dcterms:valid&gt;start=2016-01-01T15:15:00-07:00; end=2022-01-01T16:00:00-07:00&lt;/dcterms:valid&gt; &lt;ooyala:profileguid&gt;57d5a5a10f654fe79ef954dc8d29a108&lt;/ooyala:profileguid&gt; &lt;/item&gt; &lt;/channel&gt; &lt;/rss&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Step_by_step">一步步</h2>
    <h3>創建一個XML清單文件</h3>
    <ol class="bcls-tasklist">
      <li>將您的視頻和其他內容（縮略圖、隱藏式字幕文件等）上傳到您的託管服務器。這些 URL 需要公開可用。</li>
      <li>打開一個文本編輯器，最好是一個驗證XML的文本編輯器。（Brightcove學習服務團隊使用<a href="https://code.visualstudio.com">Visual Studio程式碼</a>但還有其他幾種不錯的選擇）。</li>
      <li>
        添加所需的XML標頭。例如：
<pre class="line-numbers"><code class="language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/" xmlns:dcterms="http:/ /purl.org/dc/terms/" xmlns:fh="http://purl.org/syndication/history/1.0" xmlns:ooyala="http://www.brightcove.com/mrss/"&gt;</code></pre>
      </li>
      <li>
        創建一個<code translate="No">&lt;channel&gt;</code>容器。
      </li>
      <li>
        創建一個<code translate="No">&lt;item&gt;</code>每個視頻的條目，其中包含上表中的所需元素。
        <p>在以下示例中，XML指定了兩個視頻的元數據。對於第一個視頻，文件和縮略圖位於上傳服務器上，並從該服務器中拉出。對於第二個視頻，文件和縮略圖已經上傳到Ooyala服務器。第二個視頻也有飛行時間。</p>
<pre class="line-numbers"><code class="language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/" xmlns:dcterms="http:/ /purl.org/dc/terms/" xmlns:fh="http://purl.org/syndication/history/1.0" xmlns:ooyala="http://brightcove.com/mrss"&gt; &lt;channel&gt; &lt;item &gt; &lt;media:content url="http://mysite.com/upload/lacrosse_70.mov" /&gt; &lt;media:thumbnail url="http://mysite.com/upload/lacrosse_70_previewimage.jpg" /&gt; &lt;media: title&gt;真正存在的運動：Lacrosse&lt;/media:title&gt; &lt;media:description&gt;My description of my video&lt;/media:description&gt; &lt;ooyala:labels&gt;/sports/lacrosse,/hobbies/lacrosse&lt;/ooyala:labels&gt; &lt;link&gt;http://mysite.com/videos/sports/real_sports.html&lt;/link&gt; &lt;ooyala:metadata name="video_ID"&gt;70&lt;/ooyala:metadata&gt; &lt;ooyala:metadata name="season_number"&gt;1&lt;/ooyala:metadata&gt; &lt;/item&gt; &lt;item&gt; &lt;media:content url="curling_71.mov" /&gt; &lt;media:thumbnail url="curling_71_previewimage.jpg" /&gt; &lt;media:title&gt;Sports that Really Exist:冰壺&lt;/media:title&gt; &lt;media:description&gt;我的視頻描述&lt;/media:description&gt; &lt;ooyala:labels&gt;/sports/curling,/hobbies/curling&lt;/ooyala:labels&gt; &lt;link&gt;http:// mysite.com/videos/sports/real_sports.html&lt;/link&gt; &lt;ooyala:metadata name="video_ID"&gt;71&lt;/ooyala:metadata&gt; &lt;ooyala:metadata name="season_number"&gt;1&lt;/ooyala:metadata&gt; &lt; !-- 設置飛行時間--&gt; &lt;dcterms:valid&gt;start=2011-06-28T15:15:00-07:00; end=2022-12-01T16:00:00-07:00;scheme=W3C-DTF &lt;/dcterms:valid&gt; &lt;/item&gt; &lt;/channel&gt; &lt;/rss&gt;</code></pre>
      </li>
      <li>將文件另存為 XML。確保指定唯一名稱。如果您指定兩個具有相同名稱的文件並在處理另一個文件時上傳一個文件，則第二個文件可能會被忽略</li>
      <li>
        使用您選擇的上傳方法，將 XML 清單文件上傳到您上傳視頻的託管服務器。<aside class="bcls-aside bcls-aside--information">請記住，XML 清單的 URL 必須與您提供給客戶經理的內容完全匹配。</aside>
      </li>
    </ol>
  </section>
</article>