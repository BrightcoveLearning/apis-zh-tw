---
title:“與Brightcove播放器一起使用播放授權DRM"
description:“在本主題中，您將學習如何配置 Brightcove Player 以使用 Brightcove 的播放授權服務。”
parent: Guides 
grandparent: Playback Authorization
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  
  <br/>
  <aside class="bcls-aside bcls-aside--tip">此功能適用於有權訪問回放授權服務的有限可用性階段的一組特定客戶。</aside>
  
  <section class="bcls-section">
    <h2 id="Introduction">介紹</h2>

    <p>當將動態傳送與受DRM保護的內容或HTTP實時流加密（HLSe）內容一起使用時，Brightcove的播放授權服務（PAS）可提供更高級別的安全性。使用 PAS，許可證請求將使用簽名的<a href="https://general.support.brightcove.com/developer/create-jwt.html">JSON 網絡令牌 (JWT)</a> .一旦視頻已加載到播放器並選擇了源，則在請求視頻許可時使用令牌。</p>
    <p>本文檔重點介紹將 PAS 與 Brightcove Player 一起使用。有關一般的PAS的更多信息，請參見<a href="/playback-authorization/getting-started/overview-playback-authorization-service.html">概述：具有播放授權服務的DRM</a>文檔。</p>
  </section>

  <section class="bcls-section">
    <h2 id="Overview">概述</h2>
    <p>要將 Brightcove Player 配置為使用 PAS，請在為視頻發出目錄請求時傳遞令牌參數。代碼將在下一節中顯示。為確保您具備理解代碼的先決條件，以下文檔中的概念將有助於提供構建的基礎：</p>
    <ul>
      <li><a href="https://general.support.brightcove.com/developer/create-jwt.html">創建一個<span translate="No">JSON 網絡令牌</span> (智威湯遜)</a></li>
      <li><a href="https://support.brightcove.com/concepts-using-javascript-promises">概念：使用 JavaScript 承諾</a></li>
      <li><a href="https://support.brightcove.com/player-catalog#Catalog_parameters_object">目錄參數</a></li>
      <li><a href="https://support.brightcove.com/configuring-brightcove-player-drm">為DRM配置Brightcove Player</a></li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Using_a_token_in_the_catalog_parameters">在目錄參數中使用令牌</h2>
    <p>本節詳細介紹了配置播放器以使用 PAS 所需的代碼。為此，請傳遞一個字符串標記作為<a href="https://support.brightcove.com/player-catalog#Catalog_parameters_object">目錄參數</a>對象，使用屬性名稱<code translate="No">bcovAuthToken</code> .</p>
    <p>這種方法適用於 DRM 和 HLSe。播放器將檢測從 Playback API 加載的源類型並為該源提供正確的實現。</p>
    <aside class="bcls-aside bcls-aside--information">筆記：此實現需要播放器版本<strong>6.33.0</strong>或更大。如果使用 DRM，您將需要版本<strong>5.5.0</strong>或稍後<a href="https://support.brightcove.com/configuring-brightcove-player-drm#Changelog">數字版權管理插件</a> .</aside>
    <p>此示例實現代碼使用<a href="https://support.brightcove.com/player-catalog#get_method">目錄.get()</a>在提供令牌時請求視頻的方法（需要替換<code translate="No">&lt;BCOV_AUTH_TOKEN&gt;</code>佔位符）。請確保不要將視頻ID包含在<code translate="No">&lt;video-js&gt;</code>標籤。</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001',
      <span class="bcls-highlight">bcovAuthToken: '&lt;BCOV_AUTH_TOKEN&gt;</span>'
    })
      .then(function(videoReturned){
        myPlayer.catalog.load(videoReturned);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="SSAI_configuration">SSAI配置</h2>
    <p>如果要將PAS與SSAI一起使用，則需要完成一些小的配置。需要將一個附加參數添加到目錄參數對像中，名為<code translate="No">adConfigId</code>。 </p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001',
      bcovAuthToken: '<span class="bcls-input">BCOV_AUTH_TOKEN</span>',
      <span class="bcls-highlight">adConfigId: '&lt;YOUR_ADD_CONFIG_ID&gt;</span>'
    })
      .then(function(videoReturned){
        myPlayer.catalog.load(videoReturned);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Using_a_custom_implementation">使用自定義實現</h2>
    <p>您可能正在使用自定義實現，而您沒有<code translate="No">bcovAuthToken</code>用<a href="https://support.brightcove.com/player-catalog#get_method">目錄.get()</a>方法請求。如果您使用自己的播放器或第三方播放器，則可以使用以下方法之一將令牌傳遞到許可請求中：</p>
    <ul>
      <li>
        HTTP標頭：<code translate="No">BCOV-Auth</code>（HLSe不支持）
      </li>
      <li>
        曲奇餅：<code translate="No">bcov-auth</code>（HLSe不支持）
      </li>
      <li>
        查詢參數：<code translate="No">bcov-auth</code>（僅HLSe支持）必須附加到主清單URL而不是許可證URL。
      </li>
    </ul>
    <p>
      這是顯示如何設置<code translate="No">source.emeHeaders['BCOV-Auth']</code>視頻對像上的令牌屬性。這插入了<code translate="No">emeHeader</code>在目錄請求之後的每個來源上。
    </p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001'
    })
    .then(function(video){
      sources=video.sources;

      for (let i = 0; i &lt; sources.length; i++) {
        const source = sources[i];

        // Only add the auth token as an eme header for DRM content
        if (<span class="bcls-input">BCOV_AUTH_TOKEN</span> &amp;&amp; source.key_systems) {
          source.emeHeaders = {
              'BCOV-Auth': <span class="bcls-input">BCOV_AUTH_TOKEN</span>
            };
        }
      }
        myPlayer.catalog.load(video);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
    <!-- <p>
      For more details about working with MPEG-DASH, see the <a href="https://support.brightcove.com/creating-dash-drm-manifest-brightcove-player">Creating a DASH DRM Manifest for the Brightcove Player</a> document.
    </p> -->

  </section>

  <section class="bcls-section">
    <h2 id="Related_topics">相關主題</h2>

    <ul>
      <li><a href="http://docs.brightcove.com/en/staging/pas/overview-playback-authorization-service.html">概述：具有播放授權服務的DRM</a></li>
      <li><a href="/playback-authorization/getting-started/technical-workflow-pas.html">使用播放授權服務實施DRM</a></li>
      <li><a href="/playback-authorization/guides/using-pas-with-sdks.html">將播放授權 DRM 與本機 SDK 結合使用</a></li>
      <li>
        <a href="/playback-authorization/guides/additional-apis-for-pas.html">播放授權服務的其他API</a>
      </li>
    </ul>
  </section>
</article>

<script>
  var h1 = document.querySelector('h1'), path = location.pathname, new_location = 'https://player.support.brightcove.com/playback/playback-restrictions-with-bcp.html', message = '<h3>此頁面已移至<a href="' + new_location + '">'  + 新位置 + '</a> .請更新您的書籤！您將在 5 秒內被重定向。<h3>'; console.log('new_location', new_location); h1.insertAdjacentHTML('afterend', message);重定向（）；函數重定向（）{ var t = window.setTimeout(go_to_new_location, 5000); }函數 go_to_new_location() { window.location.href = new_location; }
</script>