---
title:使用 Postman 處理 API 請求
description: '在本主題中，您將學習如何設置流行的 Postman HTTP 客戶端以向 Brightcove RESTful API 發出請求。儘管您可以在命令行上使用curl語句來發出請求，但是有一些應用程序可以為您提供UI和功能，以簡化此過程。本文檔將向您展示如何使用這樣一種工具 Postman 應用程序。'
parent: General Information
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="install">安裝<span translate="No">郵差</span></h2>
    <p>得到<span translate="No">郵差</span>從<a translate="No" href="https://www.postman.com/downloads/">郵遞員網</a> .您可以使用在線版本，但我們建議您安裝桌面應用程序。</p>
  </section>
  <section class="bcls-section">
    <h2 id="getCredentials">獲取客戶憑證</h2>
    <p>要使用 Brightcove API，您將需要要使用的帳戶和 API 的客戶端憑據。請按照中的說明獲取Studio中的客戶端憑據<a href="/general/managing-api-authentication-credentials.html">管理API身份驗證憑據</a>。在下面的步驟中，我們將使用 CMS API 請求<span translate="No">郵差</span>，因此您的憑據應至少具有以下權限：</p>
    <ul>
      <li><code translate="No"><strong>Video</strong>: <strong>Read/Write</strong></code></li>
    </ul>
    <p>您可以根據需要添加任意數量的額外權限，以獲得可用於更廣泛 API 請求的憑據。還要注意，如果您願意，您會獲得適用於多個帳戶的憑據。</p>
    <p>您可以使用<a href="/oauth/code-samples/oauth-api-sample-create-client-credentials.html">這個在線應用程序</a>若你寧可。如果這樣做，則需要至少指定<code translate="No">video-cloud/video/all</code>權限。</p>
    <aside class="bcls-aside bcls-aside--information">為了生成客戶端憑據，您必須具有 Brightcove 帳戶的管理員權限，或者讓組織中具有管理員權限的人員為您生成憑據。</aside>
  </section>
	<section class="bcls-section">
		<h2 id="get_openapi_spec">獲取OpenAPI規範</h2>
		<p>雖然不是必需的，但您可以大大簡化設置<span translate="No">郵差</span>是為要使用的 API 導入 OpenAPI 規範。您可以對任何 Brightcove 平台 API 執行此操作，但在本教程中，我們將使用 CMS API。</p>
		<p>要獲取 OpenAPI 規範，只需轉到<a href="/cms/references/reference.html">CMS API 參考</a>並點擊<strong>下載</strong>按鈕：</p>
		<figure class="bcls-figure">
			<img class="bcls-image" src="/assets/images/general/postman/download-cms-api-openapi-spec.png" alt="Download OpenAPI Spec">
			<figcaption class="bcls-caption--image">下載OpenAPI規範</figcaption>
		</figure>
		<p>下載的文件將被稱為<strong translate="no">openapi.yaml</strong></p>
	</section>
	<section class="bcls-section">
		<h2 id="Import_openapi_spec">導入OpenAPI規範</h2>
		<p>下一步是啟動 Postman 應用程序，然後導入您下載的 OpenAPI 規範：</p>
		<div style="position: relative; display: block; max-width: 960px;"><div style="padding-top: 56.25%;"><iframe src="https://players.brightcove.net/6225316964001/Qznf2bKtV_default/index.html?videoId=6251814348001" allowfullscreen="" allow="encrypted-media" style="position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%;"></iframe></div></div>
	</section>
	<section class="bcls-section">
		<h2 id="Set_up_collection">設置集合</h2>
		<p>現在，API規範已導入，我們可以生成請求的集合。</p>
		<ol class="bcls-tasklist-restart">
			<li>點擊<strong>蜜蜂</strong>。</li>
			<li>如果您還有其他API，請選擇<strong>Brightcove CMS API參考</strong></li>
			<li>
				點擊<strong>產生收藏</strong>：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/generate-collection.png" alt="Generate Collection">
					<figcaption class="bcls-caption--image">產生收藏</figcaption>
				</figure>
			</li>
			<li>在出現的對話框中，輸入集合的名稱，例如“Brightcove CMS API"。</li>
			<li>選擇<strong>測試 API</strong>在“您想如何使用此 API？”</li>
			<li>
				點擊<strong>產生收藏</strong>：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/generate-collection-settings.png" alt="Collection Settings">
					<figcaption class="bcls-caption--image">收集設置</figcaption>
				</figure>
			</li>
			<li>
				打開<strong>館藏</strong>並點擊新的CMS API集合：
			</li>
			<li>
				展開集合，然後單擊<strong>影片</strong>文件夾，然後選擇<strong>取得影片</strong>要求。
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/view-collection.png" alt="CMS API Collection">
					<figcaption class="bcls-caption--image">CMS API集合</figcaption>
				</figure>
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/request-details.png" alt="Request Details">
					<figcaption class="bcls-caption--image">索取詳細資料</figcaption>
				</figure>
			</li>
		</ol>
		<p>請注意，Postman已從API參考中為您設置了大多數詳細信息，包括請求本身和可以添加到其中的參數。此外，您可以點擊<strong>文獻資料</strong>右側的圖標，顯示來自API參考的請求的文檔：</p>
		<figure class="bcls-figure">
			<img class="bcls-image" src="/assets/images/general/postman/show-documentation.png" alt="Show Documentation">
			<figcaption class="bcls-caption--image">顯示文檔</figcaption>
		</figure>
		<figure class="bcls-figure">
			<img class="bcls-image" src="/assets/images/general/postman/request-documentation.png" alt="Request Documentation">
			<figcaption class="bcls-caption--image">索取文件</figcaption>
		</figure>
			<p>但是，您仍然需要提供一些您自己的信息，包括帳戶 ID 和身份驗證信息。您可以逐個請求地執行此操作，但更好的方法是創建一個<strong>環境</strong>對於請求，您可以在其中將常用信息存儲為變量。我們將在下一節中這樣做。</p>
	</section>
	<section class="bcls-section">
		<h2 id="create_enviroment">創建環境</h2>
		<p>以下步驟將引導您為 CMS API 請求設置環境</p>
		<ol class="bcls-tasklist-restart">
			<li>
				點擊<strong>環境環境</strong>， 然後<strong>創建環境</strong>：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/create-environment.png" alt="Create Environment">
					<figcaption class="bcls-caption--image">創建環境</figcaption>
				</figure>
			</li>
			<li>給該環境起一個類似“Brightcove API"的名稱（您也可以將該環境用於其他Brightcove API，並在必要時向其添加新變量）。</li>
			<li>
				單擊文本“添加新變量”，輸入<code translate="no">帳戶ID</code>，然後單擊<strong>初始值</strong>字段並輸入您的 Video Cloud 帳戶 ID：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/enter-variable.png" alt="Enter Variable">
					<figcaption class="bcls-caption--image">輸入變量</figcaption>
				</figure>
			</li>
			<li>
				重複上一步以添加其他變量：
				<table class="bcls-table">
					<caption class="bcls-caption--table">環境變量</caption>
					<thead class="bcls-table__head">
							<tr>
									<th>多變的</th>
									<th>初始值</th>
							</tr>
					</thead>
					<tbody class="bcls-table__body">
							<tr>
									<td><code translate="no">客戶編號</code></td>
									<td>（您的客戶ID-請參閱<a href="#getCredentials">獲取客戶憑證</a>以上）</td>
							</tr>
							<tr>
									<td><code translate="no">客戶秘密</code></td>
									<td>（您的客戶秘密-請參閱<a href="#getCredentials">獲取客戶憑證</a>以上）</td>
							</tr>
							<tr>
									<td>access_token_url<code translate="no"></code></td>
									<td>https://oauth.brightcove.com/v4/access_token<code translate="no"></code></td>
							</tr>
					</tbody>
			</table>
			</li>
			<li>
				點擊<strong>保存</strong>節約環境：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/save-environment.png" alt="Save Environment">
					<figcaption class="bcls-caption--image">拯救環境</figcaption>
				</figure>
			</li>
			<li>
				返回您的Brightcove CMS API集合，然後從環境選擇器中選擇您創建的環境：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/environment-selector.png" alt="Environment Selector">
					<figcaption class="bcls-caption--image">環境選擇器</figcaption>
				</figure>
			</li>
		</ol>
		{% raw %}
		<p>環境變量可以通過用雙花括號括起來來引用 - 例如：{{client_id}} .當您輸入“{{...""時，郵遞員會幫助您自動完成。您可以返回到<strong>獲取視頻</strong>請求並開始在<strong>價值</strong>路徑變量字段<code translate="no">帳戶ID</code>：</p>
		{% endraw %}
		<figure class="bcls-figure">
			<img class="bcls-image" src="/assets/images/general/postman/autocomplete-variables.png" alt="Variable Autocompletion">
			<figcaption class="bcls-caption--image">變量自動完成</figcaption>
		</figure>
	</section>
	<section class="bcls-section">
		<h2 id="Enable_requests">啟用請求</h2>
		<p>現在您已經設置了環境，您可以使用變量來測試請求。我們將首先查看獲取視頻請求。</p>
		{% raw %}
		<ol class="bcls-tasklist-restart">
			<li>如果您還沒有這樣做，請輸入{{account_id}}對於價值<code translate="no">帳戶ID</code><strong>路徑變量</strong> .</li>
			<li>
				點擊<strong>授權</strong>請求的標籤：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/auth-tab.png" alt="Auth Tab">
					<figcaption class="bcls-caption--image">驗證標籤</figcaption>
				</figure>
			</li>
			<li>
				在下面<strong>配置選項</strong>，改變<strong>資助類型</strong>到<strong>客戶憑證</strong>：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/auth-grant-type.png" alt="Auth Grant Type">
					<figcaption class="bcls-caption--image">Auth Grant類型</figcaption>
				</figure>
			</li>
			<li>
				在您的環境中的相應字段中輸入以下變量：
				<ul>
					<li>訪問令牌網址：<code>{{access_token_url}}</code></li>
					<li>客戶編號：<code>{{client_id}}</code></li>
					<li>客戶秘密：<code>{{client_secret}}</code></li>
				</ul>
			</li>
			<li>
				點擊<strong>獲取新的訪問令牌</strong>：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/" alt="Authorization Setup">
					<figcaption class="bcls-caption--image">授權設置</figcaption>
				</figure>
			</li>
			<li>
				授權完成後，您可以點擊<strong>繼續</strong>或等待令牌出現。然後點擊<strong>使用令牌</strong>：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/manage-access-tokens.png" alt="Manage Access Tokens">
					<figcaption class="bcls-caption--image">管理訪問令牌</figcaption>
				</figure>
			</li>
		</ol>
		{% endraw %}
		<p>請注意，Brightcove訪問令牌將在五分鐘後過期。根據您正在執行的操作和執行的速度，您可能可以多次使用相同的訪問令牌。當它到期時，CMS API 將返回一個未經授權的錯誤：</p>
<pre class="line-numbers"><code class="language-json" translate="No">[
	{
			"error_code": "UNAUTHORIZED",
			"message": "Permission denied."
	}
]</code></pre>
		<p>（該消息的確切形式可能因其他API而異，但會相似。）</p>
		<p>發生這種情況時，只需返回<strong>授權</strong>選項卡並請求新令牌。您還應該刪除任何過期的令牌以避免混淆，因為它們沒有進一步的價值。</p>
		<figure class="bcls-figure">
			<img class="bcls-image" src="/assets/images/general/postman/delete-expired-tokens.png" alt="Delete Expired Tokens">
			<figcaption class="bcls-caption--image">刪除過期的令牌</figcaption>
		</figure>
	</section>
	<section class="bcls-section">
		<h2 id="Make_requests">提出要求</h2>
		<p>您現在已準備好發出“獲取視頻”請求。</p>
		{{ raw }}
		<ol class="bcls-tasklist-restart">
			<li>回到<strong>參量</strong>標籤，然後取消選中所有查詢參數（當然，您可以使用它們並更改值，但是我們將在第一次測試中使用默認值）。</li>
			<li>點擊<strong>發送</strong>。</li>
			<li>
				您應該會在下面的響應區域中看到 JSON 代碼（一組視頻元數據對象）：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/response-data.png" alt="Response Data">
					<figcaption class="bcls-caption--image">響應數據</figcaption>
				</figure>
				<aside class="bcls-aside bcls-aside--information">請記住，如果您收到未經授權的錯誤，您的訪問令牌已過期，您將需要獲取一個新的。</aside>
			</li>
			<li>
				現在，我們將嘗試寫入請求（創建視頻）。在集合中選擇該請求：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/create-video-request.png" alt="Create Video Request">
					<figcaption class="bcls-caption--image">創建視頻請求</figcaption>
				</figure>
			</li>
			<li>您將再次需要輸入<code translate="no">{{account_id}}</code>為了<strong>帳戶 ID 路徑變量</strong> .你會<strong>不是</strong>需要重複上一節中的步驟來設置授權，因為 Postman 會將這些設置轉移到集合中的其他請求中。然而，<strong>您仍然需要生成一個新的訪問令牌</strong>。</li>
			<li>
				接下來，前往<strong>身體</strong>標籤，您將在API參考中看到一個示例請求正文：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/postman/sample-request-body.png" alt="Sample Request Body">
					<figcaption class="bcls-caption--image">樣本請求正文</figcaption>
				</figure>
			</li>
			<li>
				此 JSON 是可編輯的。創建視頻請求的唯一必填字段是<code translate="no">姓名</code>，因此將該值更改為“測試視頻”並刪除 JSON 的其餘部分，以便您的請求正文為：
<pre class="line-numbers"><code class="language-json" translate="No">{
	"name": "Test video"
}</code></pre>
			</li>
			<li>
				現在，單擊發送（如果需要，則獲取一個新的訪問令牌），然後您應該會看到新視頻的元數據對像出現在響應區域中。
			</li>
		</ol>
		{{ endraw }}
	</section>
	<section class="bcls-section">
		<h2 id="Related_topics">相關主題</h2>
		<ul>
			<li><a href="/getting-started/concepts-testing-tools-brightcove-apis.html">Brightcove API 的測試工具</a></li>
			<li><a href="/getting-started/authentication-brightcove-api-requests.html">API請求的身份驗證</a></li>
			<li><a href="/general/concepts-api-tester.html">在線API測試儀</a></li>
			<li><a href="/general/use-insomnia-api-requests.html">將 Insomnia 用於 API 請求</a></li>
		</ul>
	</section>
</article>