---
title: '快速開始：攝取配置文件 API'
description: '在本主題中，您將學習如何使用攝取配置文件 API 來管理您帳戶的攝取和轉碼配置文件。本教程將引導您完成這些操作。<aside class="bcls-aside bcls-aside--information">請注意，本指南適用於<strong>遺留攝取系統</strong> ;大多數客戶都在<strong><a href="/ingest-profiles/">動態交付系統</a></strong> . </aside>'
parent: Code Samples 
grandparent: Ingest Profiles API Legacy
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="intro">介紹</h2>
    
    <p>Ingest Profiles API 允許您：</p>
    
    <ul>
      <li>
      <p>獲取您的帳戶資料</p>
      </li>
      <li>
      <p>建立新的設定檔</p>
      </li>
      <li>
      <p>更新配置文件</p>
      </li>
      <li>
      <p>刪除個人資料</p>
      </li>
      <li>
      <p>設置或更新您帳戶的默認配置文件</p>
      </li>
    </ul>
    </section>
    
    <section class="bcls-section">
    <h2 id="restful">寧靜的API</h2>
    
    <p>Ingest Profiles API 是一個 RESTful API。它接受HTTPS請求並返回JSON響應。</p>
    
    <p>這意味著您可以將 API 與您選擇的任何語言一起使用 - Ruby、Java、PHP、Python、JavaScript（通過 AJAX 或 nodejs）等。您所要做的就是發出HTTPS請求並處理JSON響應。</p>
    
    <aside class="bcls-aside bcls-aside--warning">如果用戶以編程方式拉取配置文件以使用檢索到的內容更新該配置文件，則用戶將需要清理該配置文件，刪除諸如“id”之類的內容，但不刪除配置文件，並且應完全刪除“版本” .</aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="baseURL">基本網址</h2>
    
    <p>Ingest Profiles API 的基本 URL 是：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="authorization">授權</h2>
    
    <p>使用OAuth2訪問令牌授權API調用。令牌與授權標頭中的請求一起傳遞：</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">Authorization: Bearer {access_token}</code></pre>
    
    <p>訪問令牌是短暫的（5分鐘），因此每次發出請求時都必須獲得一個</p>
    
    <p>在這些練習中，我們將通過<a href="/oauth/guides/getting-access-tokens.html#php">代理人</a>它將獲取訪問令牌，然後發出請求。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="setupSection">練習的設置</h2>
    
    <div id="setup" style="padding-left: 1.5em;max-width: 100%">
    <h3>設置</h3>
    
    <p>您有兩個選擇：</p>
    
    <ul>
      <li>在一個示例帳戶上執行練習（推薦）</li>
      <li>使用您自己的帳戶</li>
    </ul>
    
    <p><button class="bcls-button" id="useSampleAccount">使用示例帳戶</button><button class="bcls-button" id="useMyAccount">使用我的帳戶</button></p>
    
    <div id="basicInfo" style="display:none;">
    <table class="bcls-table">
      <tbody class="bcls-table__body">
        <tr>
          <td>視頻雲帳戶（發布商 ID）：</td>
          <td><input id="account_id" type="text" size="30" /></td>
        </tr>
        <tr>
          <td class="align-top no-wrap">客戶編號：</td>
          <td>
          <p><input id="client_id" type="text" size="40" value="" /></p>
          </td>
        </tr>
        <tr>
          <td>客戶機密：</td>
          <td>
          <p><input id="client_secret" type="text" size="40" value="" /></p>
          </td>
        </tr>
      </tbody>
    </table>
    
    <p><button class="bcls-button" id="setOptions">設置帳戶選項</button></p>
    
    <p>看<a href="/general/managing-api-authentication-credentials.html">管理 API 憑證</a>有關獲取客戶端憑據的信息。</p>
    </div>
    </div>
    </section>
    
    <section class="bcls-section">
    <h2 id="getAllProfilesSection">獲取所有個人資料</h2>
    
    <h3>獲取帳戶資料</h3>
    
    <p>要獲取帳戶的所有配置文件，請向端點發出 GET 請求：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/{account_id}/profiles</code></pre>
    
    <p>例子：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles</code></pre>
    
    <h3>練習1：獲取所有個人資料</h3>
    
    <p>發出以下GET請求：</p>
    <textarea class="bcls-code" id="ex1request"></textarea>
    
    <p><button id="ex1button" class="bcls-button">提交請求</button></p>
    <textarea class="bcls-code" id="ex1response" style="height:12em;">回應會出現在這裡</textarea></section>
    
    <section class="bcls-section">
    <h2 id="createProfilesSection">建立個人資料</h2>
    
    <h3>創建配置文件</h3>
    
    <p>要創建配置文件，請向端點發出 POST 請求：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/{account_id}/profiles</code></pre>
    
    <p>例子：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles</code></pre>
    
    <p>配置文件的 JSON 包含在請求正文中。見<a href="/ingest-profiles-legacy/references/ingest-profiles-api-fields-reference-legacy-ingest.html">配置文件字段參考</a>用於配置文件、格式副本和 DRM 包字段</p>
    
    <h3>練習2：建立個人資料</h3>
    
    <p>發出以下POST請求：</p>
    <textarea class="bcls-code" id="ex2request"></textarea><textarea class="bcls-code" id="ex2data" style="height:12em;"></textarea>
    
    <p><button id="ex2button" class="bcls-button">提交請求</button></p>
    
    <p class="slide-only">（響應將出現在下一張幻燈片上）</p>
    
    <h3 class="slide-only">練習2的反應</h3>
    <textarea class="bcls-code" id="ex2response" style="height:12em;">回應會出現在這裡</textarea></section>
    
    <section class="bcls-section">
    <h2 id="getProfileByIdSection">獲取一個個人資料</h2>
    
    <h3>通過ID獲取個人資料</h3>
    
    <p>要通過 id 檢索配置文件，請向端點發出 GET 請求：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/{account_id}/profiles/{profile_id}</code></pre>
    
    <p>為了<code translate="No">profile_id</code>，您可以使用以下任一方法：</p>
    
    <ul>
      <li>名稱（例如，平衡高清）</li>
      <li>生成的ID（例如54de14cce4b0a6d2bf9cb08a）</li>
    </ul>
    
    <p>例子：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/screencast
    https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/54de14cce4b0a6d2bf9cb08a</code></pre>
    
    <h3>練習3：取得一個個人資料</h3>
    
    <p>發出以下GET請求以取回您創建的配置文件：</p>
    <textarea class="bcls-code" id="ex3request"></textarea>
    
    <p><button id="ex3button" class="bcls-button">提交請求</button></p>
    <textarea class="bcls-code" id="ex3response" style="height:12em;">回應會出現在這裡</textarea></section>
    
    <section class="bcls-section">
    <h2 id="updateProfileSection">更新配置文件</h2>
    
    <h3>通過 id 更新配置文件</h3>
    
    <p>要按 id 更新配置文件，請向端點發出 PUT 請求：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/{account_id}/profiles/{profile_id}</code></pre>
    
    <p>為了<code translate="No">profile_id</code>，您可以使用以下任一方法：</p>
    
    <ul>
      <li>名稱（例如，平衡高清）</li>
      <li>生成的ID（例如54de14cce4b0a6d2bf9cb08a）</li>
    </ul>
    
    <p>例子：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/my-test-profile</code></pre>
    
    <p>就像創建概要文件一樣，將概要文件數據包括在請求正文中。個人資料數據<strong>必須</strong>包括<code translate="No">id</code>為個人資料！</p>
    
    <h3>練習4：更新配置文件</h3>
    
    <p>發出以下PUT請求以更新您創建的配置文件（說明將被更新）：</p>
    <textarea class="bcls-code" id="ex4request"></textarea><textarea class="bcls-code" id="ex4data" style="height:12em;"></textarea>
    
    <p><button id="ex4button" class="bcls-button">提交請求</button></p>
    
    <p class="slide-only">（響應將出現在下一張幻燈片上）</p>
    
    <h3 class="slide-only">練習4回應</h3>
    <textarea class="bcls-code" id="ex4response" style="height:12em;">回應會出現在這裡</textarea></section>
    
    <section class="bcls-section">
    <h2 id="deleteProfileSection">刪除個人資料</h2>
    
    <h3>按ID刪除個人資料</h3>
    
    <p>要按 id 刪除配置文件，請向端點發出 DELETE 請求：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/{account_id}/profiles/{profile_id}</code></pre>
    
    <p>為了<code translate="No">profile_id</code>，您可以使用以下任一方法：</p>
    
    <ul>
      <li>名稱（例如，平衡高清）</li>
      <li>生成的ID（例如54de14cce4b0a6d2bf9cb08a）</li>
    </ul>
    
    <p>例子：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/my-test-profile</code></pre>
    
    <h3>練習5：刪除個人資料</h3>
    
    <p>發出以下DELETE請求以更新您創建的配置文件（無法撤消！）：</p>
    <textarea class="bcls-code" id="ex5request"></textarea>
    
    <p><button id="ex5button" class="bcls-button">提交請求</button></p>
    <textarea class="bcls-code" id="ex5response" style="height:12em;">回應會出現在這裡</textarea></section>
    
    <section class="bcls-section">
    <h2 id="getDefaultProfileSection">獲取默認配置文件</h2>
    
    <h3>獲取默認配置文件</h3>
    
    <p>要獲取帳戶的默認配置文件，請向端點發出 GET 請求：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/account_id/configuration</code></pre>
    
    <p>例子：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/configuration
                        </code></pre>
    
    <h3>練習6：獲取默認配置文件</h3>
    
    <p>發出以下GET請求以獲取該帳戶的默認配置文件：</p>
    <textarea class="bcls-code" id="ex6request"></textarea>
    
    <p><button id="ex6button" class="bcls-button">提交請求</button></p>
    <textarea class="bcls-code" id="ex6response" style="height:12em;">回應會出現在這裡</textarea></section>
    
    <section class="bcls-section">
    <h2 id="setDefaultProfileSection">設置默認配置文件</h2>
    
    <h3>設置默認配置文件</h3>
    
    <p>要為帳戶設置默認配置文件，請向端點發出 POST 請求：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/account_id/configuration</code></pre>
    
    <p>包含此JSON作為請求正文</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "account_id": {account_id},
      "default_profile_id": {default_profile_id}
    }</code></pre>
    
    <p>與其他操作一樣，您可以將名稱或ID用作<code translate="No">profile_id</code>。</p>
    
    <ul>
      <li>名稱（例如，平衡高清）</li>
      <li>生成的ID（例如54de14cce4b0a6d2bf9cb08a）</li>
    </ul>
    
    <p>例子：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/configuration
                        </code></pre>
    
    <h3>練習7：設置默認配置文件</h3>
    
    <p>發出以下POST請求以設置默認配置文件（請注意，如果該帳戶已經具有默認配置文件，則此操作將失敗-我們將在下一個練習中更新默認配置文件）：</p>
    <textarea class="bcls-code" id="ex7request"></textarea><textarea class="bcls-code" id="ex7data" style="height:12em;"></textarea>
    
    <p><button id="ex7button" class="bcls-button">提交請求</button></p>
    
    <p class="slide-only">（響應將出現在下一張幻燈片上）</p>
    
    <h3 class="slide-only">練習7回應</h3>
    <textarea class="bcls-code" id="ex7response" style="height:12em;">回應會出現在這裡</textarea></section>
    
    <section class="bcls-section">
    <h2 id="updateDefaultProfileSection">更新默認配置文件</h2>
    
    <h3>更新默認配置文件</h3>
    
    <p>要更新帳戶的默認配置文件，請向端點發出 PUT 請求：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">/accounts/account_id/configuration</code></pre>
    
    <p>包含此JSON作為請求正文</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "id": {configuration_id},
      "account_id": {account_id},
      "default_profile_id": {default_profile_id}
    }</code></pre>
    
    <p>獲取默認配置文件時將返回配置 ID。如果沒有默認配置文件，請參閱<a href="#setDefaultProfileSection">設置默認配置文件</a>。與其他操作一樣，您可以將名稱或ID用作<code translate="No">profile_id</code>。</p>
    
    <ul>
      <li>名稱（例如高分辨率）</li>
      <li>生成的ID（例如54de14cce4b0a6d2bf9cb08a）</li>
    </ul>
    
    <p>例子：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/57838016001/configuration
                        </code></pre>
    
    <h3>練習8：更新默認配置文件</h3>
    
    <p>發出以下PUT請求以更新該帳戶的默認配置文件：</p>
    <textarea class="bcls-code" id="ex8request"></textarea><textarea class="bcls-code" id="ex8data" style="height:12em;"></textarea>
    
    <p><button id="ex8button" class="bcls-button">提交請求</button></p>
    
    <p class="slide-only">（響應將出現在下一張幻燈片上）</p>
    
    <h3 class="slide-only">練習8回應</h3>
    <textarea class="bcls-code" id="ex8response" style="height:12em;">回應會出現在這裡</textarea></section>
    </article>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script><script src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/ingest-profiles-api/getting-started/quick-start/quick-start.js"></script>