---
title: '呈現設置和視頻質量'
description: '在本主題中，您將了解攝取配置文件中影響交付給觀眾的視頻質量的字段。優化在線視頻質量和性能是一項複雜的挑戰。本主題介紹了影響質量和性能的不同因素，以及可用於獲得所需結果的攝取配置文件的再現設置。'
parent: Guides 
grandparent: Ingest Profiles API Legacy
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="introduction">介紹</h2>
    
    <aside class="bcls-aside bcls-aside--information">本主題中的信息適用於舊版攝取系統，<strong>不是</strong>到<a href="/dynamic-ingest/getting-started/overview-dynamic-delivery.html">動態交付</a> .</aside>
    
    <p>我們都希望在我們的在線視頻中獲得盡可能最好的視頻和音頻質量。同時，我們希望視頻表現良好，這意味著觀看者單擊播放到實際播放開始之間的延遲應盡可能小，並且一旦開始播放，它就可以平穩地繼續播放，而不會出現停頓或停頓的情況。緩衝其他數據時暫停。</p>
    
    <p>不幸的是，這些是相互矛盾的需求：視頻的質量主要取決於傳送到觀眾系統並由其處理的數據量；另一方面，性能取決於提供的數據不超過 Internet 連接和客戶端應用程序和系統可以處理的數據。更複雜的是，基於地理位置、一天中的時間、互聯網提供商、設備類型等，連接帶寬和系統容量存在相當大的差異。</p>
    
    <p>Brightcove播放器通過檢測可用帶寬並選擇最適合的視頻再現，幫助優化觀看體驗。播放器只能在可用的再現中進行選擇，但是，您可以嘗試提供一組符合觀眾需求的再現。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="source">視頻源</h2>
    
    <p>要考慮的第一個因素是視頻源文件。再現的質量不能高於源，因此以高於您想要的再現中最高比特率的比特率導出視頻非常重要。</p>
    
    <p>另一方面，以比特率導出沒有價值 <em>很多</em> 高於您的最高目標比特率 - 您只會增加上傳和轉碼時間，而不會提高在線視頻的質量。我們通常建議源比特率不高於最高目標比特率的兩倍。但是，技術，平均帶寬和新設備的變化可能意味著將來會使用更高的比特率格式，因此您應該保存原始視頻文件，以便以後導出新的源，或者導出一個版本以供現在使用，並且另一個更高比特率的版本，以備將來使用。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="renditionProperties">渲染屬性</h2>
    
    <p>您可以在攝取配置文件中設置幾個影響視頻質量和性能的呈現屬性。這些解釋如下</p>
    </section>
    <!-- <section class="bcls-section" id="crf">
                        <h2>crf</h2>
                        <p>The Constant Rate Factor (CRF) is the default quality setting for the h.264 encoder. You can set the values between 0 and 51, where lower values would result in better quality (at the expense of higher file sizes). The most commonly used values are between 18 and 28.</p>
                        <p>Unless you have a deep knowledge of video encoding, we recommend that you <em>not</em> specify <code translate="No">crf</code> in your profiles. Use settings like <a href="#quality"><code translate="No">quality</code></a> instead.</p>
                        <p>For a detailed explanation of CRF, see <a href="http://slhck.info/articles/crf">http://slhck.info/articles/crf</a>.</p>
                    </section> -->
    
    <section class="bcls-section">
    <h2 id="decoder_bitrate_cap">coder_bitrate_cap</h2>
    
    <p>通過緩衝區饋送到解碼器的最大比特率。此設置通常僅用於流媒體（RTMP、HLS 或廣播視頻）。</p>
    
    <p>如果您了解此設置的含義，請僅使用此設置，因為它可能會降低視頻質量。</p>
    
    <p>另請參閱<a href="#max_video_bitrate"><code translate="No">max_video_bitrate</code></a>下面的部分。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="decoder_buffer_size">coder_buffer_size</h2>
    
    <p>使用 bitrate_cap 時饋送到解碼器的緩衝區大小，以 kbps 表示。buffer_size 除以 bitrate_cap 表示緩衝區的大小，以秒為單位；因此，如果您將 bitrate_cap 設置為 1000 並將 buffer_size 設置為 1000，則緩衝區實際上是 1.0 秒。如果bitrate_cap為500，buffer_size為1000，則緩衝區為2.0秒。</p>
    
    <p>如果您了解此設置的含義，請僅使用此設置，因為它可能會降低視頻質量。這通常應僅用於流式傳輸（或用於設備播放）。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="h264_level">h264_level</h2>
    
    <p>限制比特率和宏塊。主要用於設備兼容性。例如，iPhone支持H.264 3級，這意味著視頻的解碼器_bitrate_cap不能超過10,000kbps。通常，只有在針對需要它的特定設備時才應更改此設置。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="max_video_bitrate">max_video_bitrate</h2>
    
    <p>電影的最大平均比特率。覆蓋quality和video_bitrate設置，以確保比特率不超過提供的數字。</p>
    
    <p>這<code translate="No">max_video_bitrate</code>設置與質量設置結合使用，以允許編碼到特定的質量級別（在可變比特率模式下），但具有“安全”限制。Brightcove將首先嘗試編碼為指定的質量設置，但是在編碼時，如果我們檢測到最終的平均比特率將高於<code translate="No">max_video_bitrate</code>，我們將停止編碼，然後返回並進行第二遍編碼，<code translate="No">max_video_bitrate</code>（在平均比特率模式下），請確保視頻的平均比特率不會過高。</p>
    
    <p>將 max_video_bitrate 與 video_bitrate 結合使用並沒有什麼意義，所以我們只編碼為指定的兩個值中的較小者。</p>
    
    <p>這<code translate="No"><a href="#decoder_bitrate_cap">decoder_bitrate_cap</a></code>但是，設置為編碼設置了最大峰值比特率，因此不會有任何高於此比特率的“峰值”，從而允許在無需停止和重新緩衝的情況下流式傳輸視頻。但是請注意，計算這些峰值並不簡單，因為與限制單個幀或單個時間段的比特率相反，它限制了視頻緩衝區的填充率。這就是為什麼<code translate="No">decoder_buffer_size</code>一般與此配合使用。視頻編碼器仍然可以在需要時預先填充緩衝區（例如在低動作後高動作的時候），因此單幀甚至很短的時間段的比特率可能會明顯更高比指定的值<code translate="No">decoder_bitrate_cap</code> .然而，如果視頻通過帶寬至少等於<code translate="No">decoder_bitrate_cap</code>，那麼它將永遠不必停止和重新緩衝。</p>
    
    <p>注意<code translate="No">max_video_bitrate</code>不限制峰值，不建議在流情況下使用。</p>
    
    <p><code translate="No">max_video_bitrate</code>在使用質量設置自動選擇比特率的移動設備編碼時，此功能特別有用。移動設備有時具有固定的比特率限制；例如，iPhone 3GS的比特率限制為1500 kbps。</p>
    
    <p><code translate="No">max_video_bitrate</code>還可以幫助避免可能發生在說話頭片段和高動作或截屏片段之間的過渡點的比特率尖峰。這種尖峰會導致視頻停頓，因為饋送到解碼器的數據暫時超出了其處理能力。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="quality">質量</h2>
    
    <p>通過設置<code translate="No">quality</code>對於您的演繹，您指出輸出的期望質量，然後Video Cloud轉碼系統將自動選擇達到該質量的比特率。可用的設置是：</p>
    
    <ol class="integer">
      <li>高度壓縮。平庸的視覺質量，但文件很小</li>
      <li>可接受的質量</li>
      <li>高品質。 <em>比大多數網絡視頻更好</em></li>
      <li>很棒的品質。看起來很棒</li>
      <li>幾乎無損。大文件。不建議使用，除非您打算再次對該輸出進行編碼</li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="speed">速度</h2>
    
    <p><code translate="No">speed</code>確定目標轉碼速度。較慢的轉碼允許更高級的文件壓縮，而通過跳過一些高級壓縮功能可以實現更快的轉碼。有效值為 1-5。如果視頻的快速可用性不是很關鍵，則可以通過選擇較低的轉碼速度來獲得略微更好的視頻質量。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="video_bitrate">視頻比特率</h2>
    
    <p>視頻的目標輸出比特率，以 kbps 表示。這導致可預測的輸出比特率，但不可預測的質量。例如，在640x480的分辨率下，500kbps可能足以使視頻博客看起來不錯，但在相同的比特率下，動作電影可能看上去很差。同樣，對於截屏視頻來說，它可能太高，導致文件比需要的大。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Platform_specific_issues">平台特定問題</h2>
    
    <ul>
      <li>Edge 瀏覽器使用內置於 Windows 中的 Microsoft 的“媒體基礎”(MF) 編解碼器進行播放。MF 的“AAC 解碼器”有一個限制，將 AAC 的最大採樣率限制為 48khz。如果播放器加載的音頻採樣率大於48khz的演示文稿，則瀏覽器可能會返回<code translate="No">MEDIA_ERR_SRC_NOT_SUPPORTED</code>錯誤。</li>
    </ul>
    </section>
    </article>