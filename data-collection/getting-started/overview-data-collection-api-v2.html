---
title: '概述：數據收集 API v2'
description: '在本主題中，您將獲得 Analytics Data Collection API v2 的概述，它允許您在 Brightcove 無法直接跟踪事件的情況下將事件添加到您的視頻雲分析數據。'
parent: Data Collection API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <aside class="bcls-aside bcls-aside--warning"><strong>筆記：</strong>您不應使用此 API 來跟踪 Brightcove 播放器或 Android 和 iOS SDK 播放器的事件，因為這已經自動發生，並且您將添加重複數據。</aside>
  <section class="bcls-section">
    <h2 id="introduction">介紹</h2>

    <p>Analytics數據由Brightcove Players自動發送，包括Native Player SDK提供的數據。如果你是<strong>不是</strong>使用Brightcove Player交付Video Cloud視頻，您需要對用於將數據發送到Data Collector的播放器進行檢測。</p>

    <p>數據收集API v2是當前標準。v1 版本已棄用。如果您有v1的實現，請參見<a href="#changesFromV1">與v1相比的變化</a>下面的部分。</p>

    <p>除了本概述和<a href="/data-collection/references/reference.html">API參考</a>，也看到這個<a href="/data-collection/getting-started/data-collection-api-sample.html">樣本實施</a>。</p>

    <p>Analytics Data Collection API 是實時分析事件的端點。事件數據通過HTTP請求提交的一系列參數發送到Brightcove，例如：</p>

    <pre style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">http://metrics.brightcove.com/v2/tracker?event=video_view&amp;amp;domain=videocloud&amp;account=123&amp;video=789
  </code>
  </pre>

    <p>這些參數描述了一個<strong>事實</strong>關於事件發生時系統的狀態。上面的例子描述了一個事實<code translate="No">video_view</code>視頻發生事件<code translate="No">789</code>為帳戶<code translate="No">123</code>（或：用戶開始觀看帳戶<code translate="No">123</code>的視頻<code translate="No">789</code> .看<a href="#video-cloud-events">以下</a>有關當前跟踪的分析事件的描述）。</p>

    <h3 id="dimensions">方面</h3>

    <p>維度是事件發生時有關係統狀態的定性事實。例如，如果請求是：</p>

    <pre style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=video_view&amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;domain=videocloud&amp;account=123
  &amp;video=789
  </code>
  </pre>

    <p>視頻 ID ( <code translate="No">789</code> ) 和帳戶 ID ( <code translate="No">123</code> )，並且從請求本身收集的任何設備和位置信息都是與請求相關的維度<code translate="No">video_view</code>事件。分析系統將記錄<code translate="No">video_view</code>發出此請求時發生的事件，具有這些維度。</p>

    <h3 id="event-and-domain-parameters">事件和域參數</h3>

    <p>這<code translate="No">event</code>參數描述發生了哪個事件。這<code translate="No">domain</code>參數為事件提供命名空間。這<code translate="No">event</code> , <code translate="No">domain</code>， 和<code translate="No">session</code>是必需的參數（值<code translate="No">domain</code>總是<code translate="No">videocloud</code>）。</p>

    <h3 id="additional-parameters">附加參數</h3>

    <p>事件中必須包含某些參數，以便Analytics（分析）系統可以成功分析它們</p>

    <aside class="bcls-aside bcls-aside--warning">你應該<strong>不是</strong>發送<code translate="No">player</code>（玩家 ID）或<code translate="No">player_name</code>非 Brightcove 玩家的信息。相反，使用<code translate="No">destination</code>用於跟踪視頻觀看位置的參數。</aside>
  </section>

  <section class="bcls-section">
    <h2 id="responseTypes">回應類型</h2>

    <p>對分析數據收集 API 請求的響應包括 HTTP 響應代碼和人類可讀的消息。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>HTTP狀態碼</th>
          <th>描述</th>
          <th>例子</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">200</code></td>
          <td>請求已被收集器成功接收並已持久化。</td>
          <td>（返回1x1像素的透明GIF圖像）</td>
        </tr>
        <tr>
          <td><code translate="No">400</code></td>
          <td>客戶端發送的請求缺少一個必需參數：<code translate="No">domain</code> , <code translate="No">account</code>或者<code translate="No">event</code> .（如果缺少特定於域的參數，則不會返回此狀態。）</td>
          <td><code translate="No">"Invalid 'event' parameter"</code></td>
        </tr>
        <tr>
          <td><code translate="No">50x</code></td>
          <td>這是錯誤代碼，表示服務器端出現問題。分析系統可能已成功記錄或未成功記錄您的事件。</td>
          <td><code translate="No">"Server-side failure, please retry."</code></td>
        </tr>
      </tbody>
    </table>
  </section>

	<section class="bcls-section">
		<h2 id="VOD_and_Live_Events">VOD 和現場活動</h2>
		<h3>現場活動</h3>
		<p>必須滿足以下條件，數據收集 API 才能將事件分類為<strong>居住</strong>：</p>
		<ul>
			<li>要求必須<strong>不是</strong>具有video_duration參數。</li>
			<li>請求必須具有帳戶參數。</li>
			<li>請求必須具有視頻參數。</li>
			<li>
				事件類型必須是以下之一：
				<ul>
					<li><code translate="no">視頻印象</code></li>
					<li><code translate="no">視頻視圖</code></li>
					<li>video_engagement<code translate="no"></code></li>
					<li><code translate="no">live_ss_ad_start</code></li>
				</ul>
			</li>
			<li>該帳戶必須由 Brightcove Support for Live Video Streaming 啟用。</li>
		</ul>
		<h3>點播</h3>
		<p>任何包含<code translate="no">video_duration</code>參數將被分類為<strong>點播</strong> .</p>
	</section>

  <section class="bcls-section">
    <h2 id="minimal">最少的數據</h2>

    <p>至少，您應該發送一個<code translate="No">session</code> id和<code translate="No">video_view</code>會話中播放的每個視頻的事件。這<code translate="No">video_view</code>應該發送 <em>後</em> 所有前貼片廣告都已完成。</p>

    <h3><code translate="No">session</code></h3>

    <p>這是會話標識符。這<code translate="No">session</code>本質上是一個頁面或應用程序視圖的一個視圖，其中有一個播放器，只要它持續。該值應在會話期間保持不變，並且<strong>發送所有事件</strong> .它應盡可能接近全局唯一標識符（GUID）。如果存在衝突，則如果無法解開這兩個會話，則它們可能會被視為無效會話而被丟棄。</p>
    <p>在 JavaScript 中創建 GUID 有多種方案。一個例子是<a href="https://github.com/dustinpoissant/GUIDJS">這個GitHub倉庫</a>。請注意，Brightcove不支持第三方腳本。</p>

    <h3>性能數據最少（播放率和參與度得分）</h3>
    <h4>大事記</h4>
    <ul>
      <li><code translate="No">video_impression</code></li>
      <li><code translate="No">video_view</code></li>
      <li><code translate="No">video_engagement</code></li>
    </ul>
    <h4>屬性（所有事件）</h4>
    <ul>
      <li><code translate="No">account</code></li>
      <li><code translate="No">video</code></li>
    </ul>
    <h4>附加屬性（<code translate="No">video_engagement</code>僅活動）</h4>
    <h5>點播</h5>
    <ul>
      <li><code translate="No">range</code></li>
      <li><code translate="No">video_duration</code></li>
    </ul>
    <h5>生活</h5>
    <ul>
      <li><code translate="No">video_seconds_viewed</code></li>
    </ul>
    <h4>HTTP標頭</h4>
    <ul>
      <li><code translate="No">User-Agent</code> -設備報告必需</li>
    </ul>

    <aside class="bcls-aside bcls-aside--warning">請注意，分析系統只能返回您提供的內容 - 不發送完整數據將導致視頻雲分析中缺少數據。</aside>
  </section>

  <section class="bcls-section">
    <h2 id="bestPractices">最佳實務</h2>

    <p>為了確保將正確的數據發送到收集器，您應該在一般部署之前測試您的數據收集腳本。我們推薦：</p>

    <ol>
      <li>為您的播放器構建數據收集腳本。</li>
      <li>在受控環境中測試至少一天。</li>
      <li>通過分析模塊或<span translate="No">分析 API</span>以確保收集到的內容符合您的期望。</li>
    </ol>

    <h3>發送請求 - 避免 CORS 問題</h3>

    <aside class="bcls-aside bcls-aside--tip">
      <p>請注意，“發送"到數據收集API的最佳方法是將請求網址設置為<code translate="No">src</code>新圖片的價值（<code translate="No">img</code>）元素，然後將該元素注入頁面。</p>

      <p>您應該使用相同的方法而不是<code translate="No">XMLHttpRequest</code>或其他一些以避免<a href="https://general.support.brightcove.com/developer/concepts-cors.html">CORS</a>問題。</p>

      <p>有關示例實現，請參見<a href="/data-collection/getting-started/data-collection-api-sample.html">數據收集樣本</a>。</p>
    </aside>
  </section>

  <section class="bcls-section">
    <h2 id="junk-data">垃圾數據</h2>

    <p><strong>通常，發送到收集器的數據將由Analytics（分析）系統記錄為真值。</strong>如果事件包含不適當或不正確的信息，則Analytics（分析）系統將錯誤地解釋數據。</p>

    <p>例如，如果您不小心將時間戳作為視頻ID發送，則分析數據將以影響整體匯總的方式發生偏差。</p>

    <aside class="bcls-aside bcls-aside--tip">在開始發送數據之前仔細檢查您生成的 URL！</aside>
  </section>

  <section class="bcls-section">
    <h2 id="encoding">URI 編碼</h2>

    <p>您發送到Data Collection API的任何字符串，其中可能包含空格或特殊字符<strong>必須是URI編碼</strong>請求成功。如果您要通過JavaScript提交請求，則可以使用<code class="language-javascript" translate="No">encodeURI()</code>編碼請求字符串的方法。例如：</p>

    <pre class="line-numbers">
  <code class="language-javascript" translate="No">urlStr += "&amp;video=" + currentVideo.id + "&amp;video_name=" + encodeURI(currentVideo.video_name);
  </code>
  </pre>
  </section>

  <section class="bcls-section">
    <h2 id="video-cloud-events">大事記</h2>

    <p>下面列出的事件由分析系統處理。</p>

    <dl>
      <dt><code translate="No">player_load</code></dt>
      <dd>
        <h5>意向/含義</h5>
        <p>玩家會話已由最終用戶發起。這標誌著分析會話的開始，應該在任何其他事件之前發送。</p>
        <h5>例子</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=player_load
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %2Furl%3Fsa%3D-t%26rct%3Dj%26q%3D%26esrc%3Ds%26source
  %253A-%252F%252Fsupport.brightcove.com%252F%26ei%3D
  OdxWZSGdJ-pL7WJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">error</code></dt>
      <dd>
        <h5>意向/含義</h5>
        <p>當遇到破壞播放體驗的致命錯誤時發送。</p>
        <h5>例子</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=error
  &amp;error_code=MEDIA_ERR_SRC_NOT_SUPPORTED
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %3Dhttp%253A-%252F%252Fsupport.brightcove.com
  %26usgWZSGdJ-pL7WJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">catalog_request</code></dt>
      <dd>
        <h5>意向/含義</h5>
        <p>在向 Video Cloud Playback API 發出請求時發送。</p>
        <h5>例子</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=catalog_request
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;catalog_url=https%3A%2F%2Fedge.api.brightcove.com%2Fplayback
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %3Dhttp%253A-%252F%252Fsupport.brightcove.com
  WZSGdJ-pL7WJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud&amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">catalog_response</code></dt>
      <dd>
        <h5>意向/含義</h5>
        <p>在對先前的回复時發送<code translate="No">catalog_request</code>收到。</p>
        <h5>例子</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=catalog_response
  &amp;session=581136_2018-07-03T18:34:46.
  &amp;catalog_url=https%3A%2F%2Fedge.api.brightcove.com%2Fp2F23823423800
  &amp;response_time_ms=243
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  53A-%252F%252Fsupport.brightcove.com%252F%2Tzn-oCgCQ
  AFQjCNJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">play_request</code></dt>
      <dd>
        <h5>意向/含義</h5>
        <p>在用戶明確單擊播放按鈕啟動播放時發送，或在平台在自動播放場景中觸發播放時自動發送。注意多個<code translate="No">play_request</code>如果觀看者暫停並繼續播放視頻，則在單個觀看會話期間可能會發送事件。</p>
        <h5>例子</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=play_request
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %3Dhttp%253A-%252F%252Fsupport.brightcove.com%252F%2
  dJ-pL7WJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">ad_mode_begin</code></dt>
      <dd>
        <h5>意向/含義</h5>
        <p>當播放平台將控制權移交給廣告代理時發送。</p>
        <h5>例子</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=ad_mode_begin
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %3Dhttp%253A-%252F%252Fsupport.brightcove.com%252
  %26usg%3DAFQjCNEtLod%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">ad_mode_complete</code></dt>
      <dd>
        <h5>意向/含義</h5>
        <p>當播放平台將控制權移交給廣告代理時發送。</p>
        <h5>例子</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=ad_mode_complete
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %3Dhttp%253A-%252F%252Fsupport.brightcove.com%252F%2
  WZSGdJ-pL7WJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">video_impression</code></dt>
      <dd>
        <h5>意向/含義</h5>
        <p>添加到播放器的視頻元數據已完成加載，播放器已準備好通過自動播放或用戶交互觸發視圖事件。</p>
        <h5>例子</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=video_impression
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A%2F%2Fwww.current-times.com%2F
  &amp;time=1377191644801
  &amp;source=http%3A%2F%2Fwww.google.com
  %252-F%26ei%3DoEYWUtCgEIXq9ATznoCgCQ
  %26usg%3DAFQjCNEtLod-Odx6bvm%3Dbv.5115-6542%2Cd.dmg
  &amp;video=2621468623001
  &amp;video_name=Democratic-Rivals%20Target%20Bill
  &amp;domain=videocloud
  &amp;account=1749339200</code></pre>
      </dd>
      <dt><code translate="No">video_view</code></dt>
      <dd>
        <h5>意向/含義</h5>
        <p>視頻已開始播放（加載後自動播放，或由於用戶交互）。請注意，只有一個<code translate="No">video_view</code>即使觀看者停止並重新啟動或重放視頻，在觀看會話期間也會記錄事件。</p>
        <aside class="bcls-aside bcls-aside--information">筆記：如果您的視頻有前貼片廣告，則應在廣告完成後發送。</aside>
        <h5>例子</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=video_view
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A%2F%2Fwww.current-times.com%2F
  &amp;video=2621468623001
  &amp;video_name=Debate-2
  &amp;video_duration=189
  &amp;time=1377191666432
  &amp;source=http%3A%2F%2Fwww.google.com%2Furl%
  %252F%26ei%3DoEYWUtCgEIXq9ATznoCgCQ%26us-g
  %3DAFQjCNEtv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200</code></pre>
      </dd>
      <dt><code translate="No">video_engagement</code></dt>
      <dd>
        <h5>意向/含義</h5>
        <p>用戶觀看了視頻時間軸的秒數範圍。此事件是用於跟踪視頻參與度的心跳，可能會在播放期間多次發送，具體取決於用戶交互和視頻長度。如果播放沒有中斷，Brightcove 播放器儀器會每 10 秒發送一次此事件。<strong>Analytics（分析）系統會丟棄描述超過20秒範圍的事件。</strong></p>
        <h5>例子</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=video_engagement
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A%2F%2Fwww.current-times.com%2F
  &amp;video=2621468623001
  &amp;video_name=Debate-2
  &amp;video_duration=189
  &amp;time=1377191676589
  &amp;range=0..9
  &amp;source=http%3A%2F%2Fwww.google.com
  %2Furl%3Fsa%3Dt-%26rct%3Dj%26q%3D%26esrc%3Ds
  %26source%3Dweb%26cd%3D1%26ved%3D0CDYQFjAA
  %26url%3Dhttp%253A%252F%252Fwww.current-times.com
  %252F%26ei%3DoEYWUtC-gEIXq9ATznoCgCQ
  %26usg%3DAFQjCNEtLodOdxWZSGdJpL7WJ.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200</code></pre>
      </dd>
    </dl>
  </section>

  <section class="bcls-section">
    <h2 id="all-event-parameters">所有事件的參數</h2>

    <p>這些事件的參數應包括事件發生時與系統當前狀態相關的任何信息，並應盡可能具體。本節詳細介紹了可以隨所有事件一起發送的參數，以下各節顯示了特定事件的參數。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:16em;">場地</th>
          <th>類型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">account</code></td>
          <td>細繩</td>
          <td>
            <p>帳戶ID</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">domain</code></td>
          <td>細繩</td>
          <td>
            <p>總是等於<code translate="No">videocloud</code></p>

            <p class="type-size">允許值：<code translate="No">"videocloud"</code></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">session</code></td>
          <td>細繩</td>
          <td>盡可能唯一通用的會話ID-請參閱<a href="#minimal">最少的數據</a>上面的部分以獲取更多信息</td>
        </tr>
        <tr>
          <td><code translate="No">device_os</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>在用戶代理不可靠的情況下重寫以指定引發事件的設備的操作系統（除非同時包括設備操作系統和設備類型，或者所提交的值不在此處顯示的值列表中，否則將忽略此操作）。<strong>通常不包括在內</strong>）</p>

            <p class="type-size">允許值：<code translate="No">"android"</code>，<code translate="No">"bada"</code>，<code translate="No">"ios"</code>，<code translate="No">"linux"</code>，<code translate="No">"mac"</code>，<code translate="No">"tv"</code>，<code translate="No">"os_x"</code>，<code translate="No">"rim"</code>，<code translate="No">"sybian"</code>，<code translate="No">"windows"</code>，<code translate="No">"other"</code></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">device_os_version</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>設備使用的操作系統版本。如果未指定，這將通過解析跟踪請求的用戶代理字符串來計算</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">device_type</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>在用戶代理不可靠的情況下重寫以指定引發事件的設備的類型（除非同時包括設備操作系統和設備類型，或者如果提交的值不在此處顯示的值列表中，則忽略此選項）。<strong>通常不包括在內</strong>）</p>

            <p class="type-size">允許值：<code translate="No">"mobile"</code>，<code translate="No">"tablet"</code>，<code translate="No">"tv"</code>，<code translate="No">"desktop"</code>，<code translate="No">"other"</code></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">event</code></td>
          <td>細繩</td>
          <td>
            <p>事件類型</p>

            <p class="type-size">允許值：<code translate="No">"player_load"</code>，<code translate="No">"catalog_request"</code>，<code translate="No">"catalog_response"</code>，<code translate="No">"play_request"</code>，<code translate="No">"ad_mode_begin"</code>，<code translate="No">"ad_mode_complete"</code>，<code translate="No">"video_impression"</code>，<code translate="No">"video_view"</code>，<code translate="No">"video_engagement"</code>，<code translate="No">"error"</code></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">destination</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>發起事件的 URI</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">source</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>將最終用戶發送到<code translate="No">destination</code> URI</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">time</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>數字</td>
          <td>
            <p>事件的時間戳（以毫秒為單位）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">country</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>ISO-3166（alpha 2）區域cISO-3166（alpha 2）區域代碼（在系統無法從IP地址檢測到地理信息的情況下覆蓋）<strong>通常不包括在內</strong></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">country_name</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>可讀的國家名稱（在系統無法從IP地址檢測到地理信息的情況下覆蓋）<strong>通常不包括在內</strong></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">region</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>ISO-3166（alpha 2）區域代碼（在系統無法從IP地址檢測到地理信息的情況下重寫）<strong>通常不包括在內</strong></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">region_name</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>可讀區域名稱（在系統無法從IP地址檢測到地理信息的情況下覆蓋）<strong>通常不包括在內</strong></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">city</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>城市名<strong>通常不包括在內</strong></p>
          </td>
        </tr>
        <tr id="userData">
          <td><code translate="No">user</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>唯一的用戶標識符-如果未提供或為空白，則Video Cloud使用後備方法使用<code translate="No">Source IP address + the User-Agent</code>字符串作為唯一標識符；<strong>請注意，Brightcove僅使用此信息來計算唯一用戶。用戶數據本身無法通過 API 或 Analytics 模塊檢索</strong></p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="user">用戶參數</h3>

    <ul>
      <li>如果播放器/客戶端應用程序要跟踪唯一的查看器，則應將用戶的唯一ID作為用戶參數發送給收集器。</li>
      <li>如果<code translate="No">user</code>未提供或為空，我們使用後備方法<code translate="No">Source IP address + the User-Agent String</code>作為唯一標識符。</li>
      <li>用戶參數的值永遠不會存儲在日誌/數據庫中，只存儲一個散列（使用 SHA-256）。</li>
      <li>收集器未設置任何cookie。</li>
    </ul>

    <h4 id="uniqueuser">唯一用戶</h4>

    <p>您可以使用 Brightcove Player 的插件功能將獨特的視頻查看器數據添加到報告的分析中。為此，您將向<code translate="No">settings</code>分析功能的對象。</p>

    <p>當然，如何捕獲唯一的用戶ID隨應用程序的不同而不同，但是例如，此代碼假定捕獲的捕獲URL包含唯一的用戶數據，例如<strong>http://exampledomain.com/users/912389123</strong>。這個唯一的 URL 被傳遞給插件。</p>

    <p>下面的插件代碼執行以下任務：</p>

    <ul>
      <li>使用標準語法創建一個 Brightcove Player 插件，插件名稱定義為<code translate="No">uniqueUserForAnalyticsPlugin</code> .該插件還接受一個<code translate="No">options</code>對象，其中包含傳遞給插件的數據。</li>
      <li>這<code translate="No">myPlayer</code>變量被分配一個對玩家的引用。同樣，還創建了兩個其他變量。</li>
      <li>這<code translate="No">userPath</code>變量被分配通過傳遞給插件的路徑<code translate="No">options</code>目的。</li>
      <li>這<code translate="No">uniqueViewer</code>變量被分配了解析版本<code translate="No">userPath</code>，因此只將用戶 ID 數字分配給變量。</li>
      <li>用戶屬性已添加到Google Analytics（分析）插件的<code translate="No">settings</code>目的。</li>
    </ul>

    <pre class="line-numbers">
  <code class="language-javascript" translate="No">videojs.registerPlugin('uniqueUserForAnalyticsPlugin', function(options) {
  var myPlayer = this,
  userPath = '',
  uniqueViewer = '';
  //Assign uniqueViewer a value according to your app and business rules
  //In this example, parsing the path passed to the plugin in the options object
  userPath = options.path;
  uniqueViewer = userPath.substring( userPath.lastIndexOf('/') + 1 );
  //Assign a user variable to Analytic's settings object
  myPlayer.bcAnalytics.client.user(USER) = uniqueViewer;
  });
  </code>
  </pre>

    <p>需要更改此代碼以適合您的應用程序邏輯，然後將其保存到 Internet 可訪問的 URL。</p>

    <p>在Studio中，使用<strong>外掛程式</strong>部分將插件加載到播放器中，如圖所示。</p>

    <figure class="bcls-figure"><img class="bcls-image" alt="Studio Plugin Section" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/analytics-api/data-collection/data-collection-api-overview/unique-user-plugin-studio.png" />
      <figcaption class="bcls-caption--image">Studio 插件部分</figcaption>
    </figure>

    <p>您可以將包含用戶數據的字符串傳遞給插件，而不是後面的JSON。當然，將需要相應地更新插件代碼以提取唯一的用戶ID。</p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
  "path": "http://exampledomain.com/users/912389123"
  }
  </code>
  </pre>

    <p>有關插件開發的更多信息，請參見<a href="https://player.support.brightcove.com/coding-topics/step-step-plugin-development.html">一步步：插件開發</a>文檔。</p>

    <h3 id="device_type-and-device_os-parameters"><code translate="No">device_type</code>，<code translate="No">device_os</code>，<code translate="No">device_os_version</code>，<code translate="No">device_manufacturer</code>， 和<code translate="No">browser_type</code>參數</h3>

    <p>默認情況下，Analytics系統將嘗試從User-Agent標頭中檢測設備類型和操作系統信息。如果<strong>兩個都</strong><code translate="No">device_type</code>和<code translate="No">device_os</code>發送後，來自User-Agent標頭的信息將被忽略，有利於<code translate="No">device_type</code>和<code translate="No">device_os</code>。<strong>在大多數情況下，您無需發送設備，操作系統和瀏覽器信息</strong> -僅當User-Agent不可靠或不可用時，才應使用此替代。</p>

    <p>分析系統將記錄<code translate="No">other</code>如果請求包含無法識別的設備參數覆蓋值。</p>

    <h3 id="geographic-data-parameters">地理數據參數</h3>

    <p>默認情況下，Google Analytics（分析）系統將嘗試從遠程IP地址檢測地理信息。可以通過傳遞覆蓋此行為<code translate="No">country</code> , <code translate="No">country_name</code> , <code translate="No">region</code> , <code translate="No">region_name</code> , <code translate="No">city</code>和<code translate="No">dma</code>參數。<strong>在大多數情況下，不需要這些參數</strong> -僅當遠程IP地址不可靠或不可用時，才應使用此替代。</p>

    <p>分析系統將記錄<code translate="No">ZZ</code>或者<code translate="No">unknown</code>如果請求包含無法識別的覆蓋值。</p>

    <h3 id="destination-and-source-parameters">目標和源參數</h3>

    <p>這<code translate="No">destination</code>和<code translate="No">source</code>參數提供發起事件的 URI ( <code translate="No">destination</code> ) 和將用戶發送到那裡的 URI ( <code translate="No">source</code>）。</p>

    <p>這<code translate="No">source</code>參數用於確定流量來源信息。如果<code translate="No">source</code>如果未指定，則Google Analytics（分析）系統會將事件視為由直接流量發起。</p>

    <p>這<code translate="No">destination</code>參數將用於確定交通目的地信息——即觀看視頻的位置。如果URI不包含授權，則API將不會記錄<code translate="No">destination_domain</code>。這<code translate="No">destination_path</code>將被記錄為 URI 中的路徑。</p>

    <p>在網絡播放期間，正在播放視頻的頁面地址欄中的URL是<code translate="No">destination</code>和<code translate="No">source</code>是引薦來源網址（<code translate="No">top.document.referrer</code>）。</p>

    <p>例如，當在Brightcove支持站點上搜索“實時流媒體有線廣播"並觀看結果中顯示的視頻時：</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>範圍</th>
          <th>價值</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">source</code></td>
          <td>
            <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">https://support.brightcove.com/en/video-cloud/search/live%20streaming%20wirecast
  </code>
  </pre>
          </td>
        </tr>
        <tr>
          <td><code translate="No">destination</code></td>
          <td>
            <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">https://support.brightcove.com/en/video-cloud/training-videos/live-streaming-wirecast
  </code>
  </pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p>如果沒有URL（例如，在本地播放中），則兩者<code translate="No">destination</code>和<code translate="No">source</code>應該是有效的URI，分別標識視頻的播放位置和用戶到達那裡的方式。</p>

    <p>假設<code translate="No">destination</code>是一個<a href="http://en.wikipedia.org/wiki/URI_scheme#Generic_syntax">有效的URI</a>：</p>

    <pre>
  <code translate="No">&lt;scheme name&gt; : &lt;hierarchical part&gt; [ ? &lt;query&gt; ] [ # &lt;fragment&gt; ]
  ex. https://www.example.com/foo/bar/baz
 
---
-----------/----------/
  |             |
  authority        path
 
---
/   
---
----------------------/
  |                |
  scheme       hierarchical part
  </code>
  </pre>

    <p>分析系統將按如下方式處理：</p>

    <p>如果URI包含<strong>權威</strong>，API響應將使用該權限作為<code translate="No">destination_domain</code>以及提供為<code translate="No">destination_path</code>。如果URI不包含授權，則API將不會記錄<code translate="No">destination_domain</code>。這<code translate="No">destination_path</code>將被記錄為 URI 中的路徑。一種<code translate="No">destination</code>沒有分層部分（例如僅方案）的值將被視為無效，沒有方案的任何值也將被視為無效。</p>
  </section>

  <section class="bcls-section">
    <h2 id="parameters_for_specific_events">特定事件的參數</h2>

    <h3 id="errorEvent">錯誤事件參數</h3>

    <p>以下參數應與<code translate="No">error</code>事件。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">場地</th>
          <th style="width: 10%">類型</th>
          <th style="width: 70%">描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">error_code</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>數字</td>
          <td>
            <p>與事件關聯的特定於平台的錯誤代碼</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="catalog_requestEvent">catalog_request事件參數</h3>

    <p>以下參數應與<code translate="No">catalog_request</code>事件。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">場地</th>
          <th style="width: 10%">類型</th>
          <th style="width: 70%">描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">catalog_url</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>與 catalog_request 事件關聯的目標 URL</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="catalog_responseEvent">catalog_response事件參數</h3>

    <p>以下參數應與<code translate="No">catalog_response</code>事件。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">場地</th>
          <th style="width: 10%">類型</th>
          <th style="width: 70%">描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">catalog_url</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>與發起此響應的 catalog_request 事件關聯的目標 URL</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">response_time_ms</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>數字</td>
          <td>
            <p>catalog_request 事件和 catalog_response 事件之間的時間（以毫秒為單位）</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="video_impressionEvent">video_impression 事件參數</h3>

    <p>以下參數應與<code translate="No">video_impression</code>事件。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">場地</th>
          <th style="width: 10%">類型</th>
          <th style="width: 70%">描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">video</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>視頻 ID</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">video_name</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>視頻名稱</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="video_viewEvent">video_view 事件參數</h3>

    <p>以下參數應與<code translate="No">video_view</code>事件。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">場地</th>
          <th style="width: 10%">類型</th>
          <th style="width: 70%">描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">video</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>視頻 ID</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">video_name</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>視頻名稱</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">start_time_ms</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>從開始播放到渲染視頻的第一幀之間的時間（以毫秒為單位）。這可能因體驗而異，例如，如果沒有配置前貼片廣告，則此測量值是<code translate="No">play_request</code>和<code translate="No">video_view</code>事件。如果有預貼廣告，則<code translate="No">ad_mode_begin</code>和<code translate="No">ad_mode_complete</code>不應該包括在內</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="engagementEventParams">video_engagement 事件參數</h3>

    <p>以下參數應與<code translate="No">video_engagement</code>事件。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">場地</th>
          <th style="width: 10%">類型</th>
          <th style="width: 70%">描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">video</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>視頻 ID</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">video_name</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>視頻名稱</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">range</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>觀看視頻的範圍<code translate="No">video_engagement</code>格式中的事件<code translate="No">StartSecond..EndSecond</code>（StartSecond 和 EndSecond 值必須是整數 [integers]） - 可以將範圍排除在參與事件之外，以表明在事件涵蓋的時間段內沒有觀看活動。 （例如，當只有重新緩衝活動時）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rendition_url</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>最近選擇的再現的 URL。例如，對於HLS流，這將是最近選擇的變體的網址</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rendition_indicated_bps</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>最近選擇的再現的指示比特率（以每秒位數為單位）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rendition_mime_type</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>最近選擇的再現的 MIME 類型</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rendition_height</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>視頻呈現的編碼高度（以像素為單位）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rendition_width</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>視頻呈現的編碼寬度（以像素為單位）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rebuffering_seconds</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>用戶在參與期間因未請求的延遲而等待視頻播放的秒數</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rebuffering_count</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>在參與期間，在表示的參與期延遲期間由於重新緩衝而停止播放的次數</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">forward_buffer_seconds</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>當前駐留在前向緩衝區中的視頻的秒數</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">measured_bps</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>最近下載的段中包含的位數與下載該段所花費的時間的比率，以每秒位數為單位</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">player_width</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>參與範圍結束時玩家的當前像素寬度</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">player_height</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>參與範圍結束時玩家的當前像素高度</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">dropped_frames</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>細繩</td>
          <td>
            <p>drop_frames</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">video_duration</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>數字</td>
          <td>
            <p>視頻的持續時間（以秒為單位）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">video_seconds_viewed</code><span class="label label-optional" style="float:right;">可選的</span></td>
          <td>數字</td>
          <td>
            <p>自上次更新以來的觀看秒數<code translate="No">video_engagement</code>大事記</p>
          </td>
        </tr>
      </tbody>
    </table>

    <p>這<code translate="No">video_engagement</code>事件是在視頻播放時跟踪視頻參與度的一種方式，並且可能會在播放過程中多次發送。（如果播放不中斷，則Flash / HTML5播放器工具每10秒發送一次此事件。）<strong>目前，Analytics系統會丟棄描述20秒範圍內事件的事件，因此有必要更頻繁地發送這些事件。</strong></p>

    <p>有兩種形式<code translate="No">video_engagement</code>事件可以採取（為簡潔起見省略了其他參數）：</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>例子</th>
          <th>意義</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>
            <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">event=video_engagement&amp;video=123&amp;video_duration=75&amp;range=0..9
  </code>
  </pre>
          </td>
          <td>視頻<code translate="No">123</code> 75 秒的持續時間播放了 0 到 9 秒（總共觀看了 10 秒）。</td>
        </tr>
        <tr>
          <td><code translate="No">event=video_engagement&amp;video=123&amp;video_seconds_viewed=10</code></td>
          <td>十秒鐘的視頻<code translate="No">123</code>被查看。</td>
        </tr>
      </tbody>
    </table>

    <p>雖然兩個版本都跟踪查看秒數，但包含<code translate="No">video_duration</code>和<code translate="No">range</code>還包含計算額外參與數據所需的信息，並且是<strong>首選方式</strong>發送<code translate="No">video_engagement</code>事件數據到分析系統。對於實時流，或在播放過程中視頻時間軸不斷變化或不可靠的情況下，<code translate="No">video_seconds_viewed</code>將是唯一可用的數據。對於VOD，除非<code translate="No">duration</code>不可用，<code translate="No">video_engagement</code>事件應包括<code translate="No">video_duration</code>和<code translate="No">range</code>。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>參數</th>
          <th>派生參與度指標（API）</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">video_duration</code>，<code translate="No">range</code></td>
          <td><code translate="No">video_seconds_viewed</code>，<code translate="No">video_percent_viewed</code>，<code translate="No">engagement_score</code> ;參與曲線數據</td>
        </tr>
        <tr>
          <td><code translate="No">video_seconds_viewed</code></td>
          <td><code translate="No">video_seconds_viewed</code></td>
        </tr>
      </tbody>
    </table>

    <p>如果所有三個參數（<code translate="No">video_duration</code>，<code translate="No">range</code>和<code translate="No">video_seconds_viewed</code>）與<code translate="No">video_engagement</code>事件，Google Analytics（分析）系統將根據<code translate="No">video_duration</code> + <code translate="No">range</code>參數。</p>

    <h3 id="changesFromV1">V2 變化</h3>

    <p>本節為使用 v1 的用戶總結了 Data Collector 從 v1 到 v2 的更改。</p>

    <h3>跟踪器的基本網址</h3>

    <pre>
  <code translate="No">http(s)://metrics.brightcove.com/v2
  </code>
  </pre>

    <h3>所有事件支持的其他字段：</h3>

    <p><strong>device_os_version</strong>：設備使用的操作系統版本。如果未指定，這將通過解析跟踪請求的用戶代理字符串來計算。</p>

    <p><strong>platform_version</strong>：用於指示正在使用指定平台的新版本來發送事件。</p>

    <h3>V2的新事件</h3>

    <p><strong>catalog_request</strong>：在向 videocloud 目錄 API 發出請求時發送 - 請注意，此事件供內部使用，不會在分析模塊中或通過分析 API 公開。</p>

    <ul>
      <li><strong>catalog_url</strong>：與<code translate="No">catalog_request</code>事件 - 請注意，此事件供內部使用，不會在分析模塊中或通過分析 API 公開。</li>
    </ul>

    <p><strong>catalog_response</strong>：在對先前的回复時發送<code translate="No">catalog_request</code>已收到 - 請注意，此事件供內部使用，不會在分析模塊中或通過分析 API 公開。</p>

    <ul>
      <li><strong>catalog_url</strong>：與<code translate="No">catalog_request</code>發起此響應的事件 - 請注意，此事件僅供內部使用，不會在分析模塊中或通過分析 API 公開。</li>
      <li><strong>response_time_ms</strong>：之間的時間（以毫秒為單位）<code translate="No">catalog_request</code>事件和<code translate="No">catalog_response</code>事件 - 請注意，此事件供內部使用，不會在分析模塊中或通過分析 API 公開。</li>
    </ul>

    <p><strong>play_request</strong>：在用戶明確單擊播放按鈕啟動播放時發送，或在平台在自動播放場景中觸發播放時自動發送。</p>

    <p><strong>ad_mode_begin</strong>：[替換<code translate="No">ad_start</code> ]當播放平台將控制權移交給廣告代理時發送。</p>

    <p><strong>ad_mode_complete</strong>：[替換<code translate="No">ad_end</code> ]當控制權從廣告代理移交給播放平台時發送。</p>

    <p><strong>錯誤</strong>：當遇到破壞播放體驗的致命錯誤時發送。</p>

    <ul>
      <li><strong>錯誤代碼</strong>：與事件關聯的特定於平台的錯誤代碼。</li>
    </ul>

    <h3>V2 的更新事件</h3>

    <p><strong>視頻視圖</strong>：包括新的延遲測量</p>

    <ul>
      <li><strong>load_time_ms</strong>：從啟動視頻數據加載到視頻變得可播放之間的時間（以毫秒為單位）。</li>
      <li><strong>start_time_ms</strong>：從開始播放到渲染視頻的第一幀之間的時間（以毫秒為單位）。這可能會因體驗而異，例如，如果沒有配置前貼片廣告，則此度量是“play_request”之間的時間' 和<code translate="No">video_view</code>事件。如果有預貼廣告，則<code translate="No">ad_mode_begin</code>和<code translate="No">ad_mode_complete</code>不應該包含在內。</li>
    </ul>

    <p><strong>video_engagement</strong>：包括附加的演繹選擇，比特率測量和緩衝信息。視頻參與度也進行了微妙的更改，即使在參與度期間沒有觀看，也應定期發送視頻。此更改是為了啟用跟踪重新緩衝延遲和導致用戶等待播放的計數。</p>

    <ul>
      <li><strong>範圍</strong>：range 參數現在是可選的，可以將 range 排除在參與事件之外，以表明在事件涵蓋的時間段內，沒有觀看活動。 （例如，當只有重新緩衝活動時）</li>
      <li><strong>rendition_url</strong>：最近選擇的再現的 URL。例如，對於HLS流，這將是最近選擇的變體的url。</li>
      <li><strong>rendition_indicated_bps</strong>：最近選擇的再現的指示比特率（以每秒位數為單位）。</li>
      <li><strong>rendition_mime_type</strong>：最近選擇的再現的 MIME 類型。</li>
      <li><strong>rendition_height</strong>：視頻呈現的編碼高度（以像素為單位）</li>
      <li><strong>rendition_width</strong>：視頻呈現的編碼寬度（以像素為單位）</li>
      <li><strong>rebuffering_seconds</strong>：用戶在參與期間因未請求的延遲而等待視頻播放的秒數。</li>
      <li><strong>rebuffering_count</strong>：在表示的參與期間由於重新緩衝而停止播放的次數。</li>
      <li><strong>forward_buffer_seconds</strong>：當前駐留在前向緩衝區中的視頻的秒數。</li>
      <li><strong>測量的_bps</strong>：最近下載的段中包含的位數與下載該段所花費的時間的比率，以每秒位數為單位。</li>
      <li><strong>player_width</strong>參與範圍結束時播放器的當前像素寬度。</li>
      <li><strong>player_height</strong>參與範圍結束時播放器的當前像素高度。</li>
      <li><strong>drop_frames</strong>：在此參與期間從視頻播放中丟失的幀數</li>
    </ul>
  </section>
</article>