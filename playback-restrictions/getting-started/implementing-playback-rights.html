---
title:實施播放權限
description:“在本主題中，您將學習如何使用 Brightcove 播放權限管理視頻播放。”
parent: Getting Started 
grandparent: Playback Rights
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <!-- <br/>
  <aside class="bcls-aside bcls-aside--tip">This feature is available for a specific set of customers with access to the Limited Availability phase of Playback Restrictions.</aside> -->

<section class="bcls-section">
<h2 id="Introduction">介紹</h2>

<p>Brightcove的播放權限管理服務提供了一種可擴展的表達方式來管理視頻播放。</p>

<p>如果您不熟悉此功能，請參閱<a href="/playback-restrictions/getting-started/overview-playback-restrictions.html">概述：Brightcove播放限制</a>文檔。</p>

<aside class="bcls-aside bcls-aside--information">
  <p>筆記：</p>
  <ul>
    <li>當您攝取視頻時，會創建一個默認的播放權限，允許隨時隨地向所有人流式傳輸。</li>
    <li>如果現有視頻沒有播放權限，則對視頻進行重新編碼不會創建默認的播放權限。</li>
    <li>默認播放權限具有以下字段：<code translate="No">is_default</code>設置<code translate="No">true</code> .提取後，您可以重新分配默認值。</li>
  </ul>
</aside>

</section>

<section class="bcls-section">
<h2 id="Validation_process">驗證過程</h2>
<p>
  播放權是按照特定性和匹配性來應用的。允許規則會否定其餘規則，因為它們比允許規則的規則更具體。
</p>
<p>
  您可能希望允許特定 ip 以避免該 ip 的國家/地區規則。您可能還想阻止通常由國家/地區限制允許的其他 IP。因此，兩者兼有是有意義的<code translate="No">block-ips</code>和<code translate="No">allow-ips</code>在相同的播放權限定義中。這同樣適用於其他規則。
</p>
<p>
  您可以為大多數權限設置允許和阻止規則。國家是唯一沒有可能同時擁有這兩個國家的國家。
</p>

<p>以下流程圖顯示了驗證過程的工作原理：</p>
<ol class="bcls-tasklist-restart">
  <li>地理檢查</li>
  <li>計劃檢查</li>
  <li>代理檢查</li>
  <li>域檢查</li> 
</ol>
<figure class="bcls-figure">
  <img class="bcls-image--no-border" src="/assets/images/playback-restrictions/implementation/Playback-Rights-Overview.svg" alt="Playback Rights validation">
  <figcaption class="bcls-caption--image">播放權限驗證</figcaption>
</figure>

<h3>地理檢查</h3>
<p>
  地理限制的流程將遵循以下圖表之一，基於<code translate="No">geo_global_rule</code>場地：
</p>
<ul>
  <li><code translate="No">geo_global_rule</code>設定為<code translate="No">allow_all</code></li>
  <li><code translate="No">geo_global_rule</code>設定為<code translate="No">block_all</code></li>
  <li><code translate="No">geo_global_rule</code>設定為<code translate="No">null</code></li>
</ul>
<figure class="bcls-figure">
  <img class="bcls-image--no-border" src="/assets/images/playback-restrictions/implementation/Geo-Global-Playback-Rights.svg" alt="Geographic restrictions">
  <figcaption class="bcls-caption--image">地理限制</figcaption>
</figure>
<p>如果通過了地理檢查，則在下一張圖中繼續進行其他檢查。</p>

<h3>其他驗證檢查</h3>
<p>如果地理檢查通過，則會按順序處理以下檢查：</p>
<ol>
  <li>計劃檢查</li>
  <li>代理檢查</li>
  <li>域檢查</li>
</ol>
<figure class="bcls-figure">
  <img class="bcls-image--no-border" src="/assets/images/playback-restrictions/implementation/Additional-Playback-Rights.svg" alt="Additional validation checks">
  <figcaption class="bcls-caption--image">其他驗證檢查</figcaption>
</figure>
</section>

<section class="bcls-section">
<h2 id="Workflow">工作流程</h2>

<p>要管理播放限制，請按照下列步驟操作：</p>
<ol class="bcls-tasklist-restart">
  <li>
    <a href="#Set_up_your_account">設置您的帳戶</a>
  </li>
  <li>
    <a href="#Define_restrictions">定義限制</a>
  </li>
  <li>
    <a href="#Associate_restrictions_with_a_video">將限制與視頻相關聯</a>
  </li>
  <!-- <li>
    <p>
      Optional: <a href="#Define_user_level_restrictions">Define user-level restrictions</a>
    </p>
  </li> -->
  <li>
    <a href="#Configure_your_player">配置播放器</a>
  </li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Set_up_your_account">設置您的帳戶</h2>

<p>此功能適用於有權訪問播放權限管理服務的有限可用性階段的一組特定客戶。有關詳細信息，請聯繫您的客戶經理。</p>
<h3>生成OAuth憑證</h3>
<p>
  拿你的<code translate="No">BC_TOKEN</code>和帳號。
</p>
<ol class="bcls-tasklist-restart">
  <li>
    登錄到Video Cloud Studio。在裡面<strong>行政</strong>下拉菜單，選擇<strong>帳戶信息</strong>。複製您的<strong>帳戶ID</strong>。
  </li>
  <li>
    <p>
      打開 Studio 中的任何頁面，打開瀏覽器的開發人員工具，轉到控制台，然後粘貼以下代碼：
    </p>
    <pre class="line-numbers"><code class="language-javascript" translate="No">var cookiesArray = document.cookie.split(";;";), cookiesObj = {}, i, tmpArray = [];
for (i = 0; i &lt; cookiesArray.length; i++) {
    tmpArray = cookiesArray[i].split(";=";);
    if (tmpArray[0].indexOf('BC_TOKEN') &gt; -1) {
        cookiesObj.BC_TOKEN = tmpArray[1];
    }
}
window.prompt(";BC_TOKEN:", cookiesObj.BC_TOKEN);</code></pre>
    <p>
      然後按回車鍵。
    </p>
  </li>
  <li>
    您應該會看到一個提示，其中包含您的<code translate="No">BC_TOKEN</code>
  </li>
</ol>

<h3>索取客戶憑證</h3>
<p>
  為Playback Rights API添加帳戶權限。
</p>
<ol class="bcls-tasklist">
  <li>
    為 Playback Rights API 創建客戶端憑據的最簡單方法是使用<a href="/oauth/code-samples/oauth-api-sample-create-client-credentials.html">這個在線應用程序</a>並確保在創建憑據時包含這些權限：
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/playback-rights/getting-started/playback-rights-permissions.png" alt="Playback Rights Permissions">
      <figcaption class="bcls-caption--image">播放權限權限</figcaption>
    </figure>
  </li>
  <li>如果您希望直接使用OAuth API生成憑據，請繼續以下步驟。</li>
  <li>
    <p>
  這是具有所需權限的OAuth客戶端請求的示例。看<a href="/oauth/guides/get-your-bc-token.html">獲取您的 BC_TOKEN</a>有關獲取 BC_TOKEN 的信息。
</p>
<pre class="line-numbers"><code class="language-curl">curl \\ --include \\ --header ";授權：BC_TOKEN <span class="bcls-input">你的 BC_TOKEN</span> "; \\ --data { name=demo&amp;maximum_scope=[{ ";identity";: { ";type";: ";video-cloud-account", ";account-id";: <span class="bcls-input">你的賬號</span> }, ";操作";: [ "video-cloud/playback-auth/playback-rights/read", "video-cloud/playback-auth/playback-rights/write", "video-cloud/video/read" , "video-cloud/video/create", "video-cloud/video/update", "video-cloud/video/delete", "video-cloud/playback-auth/key/read", "video-cloud/播放-身份驗證/密鑰/寫入"; ] }] } \\ https://oauth.brightcove.com/v4/client_credentials</code></pre>

<aside class="bcls-aside bcls-aside--information">生成具有所有策略的單個客戶端可能不是最佳實踐。</aside>
  </li>
  <li>
    從API響應中，複製<code translate="No">client_id</code>和<code translate="No">client_secret</code>。在向 Playback Rights API 發出請求時，您將使用這些來生成訪問令牌。
  </li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Define_restrictions">定義限制</h2>

<p>使用播放權限 API 來定義視頻播放限制。</p>

<h3 id="Playback_Rights_API">播放權限API</h3>
<p>
  每個播放權限限制對象可以與一個或多個視頻一起使用。
</p>

<h3>基本網址</h3>
<p>
  API 的基本 URL 是：
</p>
<pre><code class="language-http" translate="No">https://playback-rights.api.brightcove.com/v1</code></pre>

<h3>帳戶路徑</h3>
<p>
  在任何情況下，都將請求特定的視頻雲帳戶。因此，您將始終將術語帳戶後跟您的帳戶 ID 添加到基本 URL：
</p>
<pre><code class="language-http" translate="No">https://playback-rights.api.brightcove.com/v1/accounts/{accountID}</code></pre>

<h3>授權</h3>
<p>
  請求的訪問令牌是必需的，並且必須存在於Authorization標頭中：：
</p>
<pre><code class="language-http" translate="No">Authorization: Bearer {access_token}</code></pre>
<p>
  訪問令牌是必須從 Brightcove OAuth 服務獲取的臨時 OAuth2 訪問令牌。有關如何獲取客戶端憑據並使用它們來檢索訪問令牌的詳細信息，請參閱<a href="/oauth/getting-started/overview-oauth-api-v4.html">Brightcove OAuth 概述</a> .
</p>

<h3>權限</h3>
<p>
  向Playback Rights API的請求必須來自<a href="/oauth/index.html">客戶憑證</a>具有以下權限：
</p>
<ul>
  <li>
    <code translate="No">video-cloud/playback-auth/playback-rights/read</code> 
  </li>
  <li>
    <code translate="No">video-cloud/playback-auth/playback-rights/write</code>
  </li>
</ul>

<h3>管理限制</h3>
<p>
  Playback Rights API 支持以下請求。有關API的詳細信息，請參見<a href="/playback-restrictions/references/playback-rights/reference.html">播放權限API參考</a>。
</p>

<h4>創建新的播放權限</h4>
<pre class="line-numbers"><code class="language-http" translate="No">POST /v1/accounts/{accountID}/playback_rights
  Content-Type: application/json
  Body: {playback rights object}
</code></pre>
<p>
  有關有效字段的列表，請參見<a href="#Request_body">要求正文</a>部分。
</p>

<details>
<summary>
  <h3 id="Curl_example2">捲曲示例</h3>
</summary>
  <p>
    創建僅對澳大利亞有效的播放權。
  </p>
  <pre class="line-numbers"><code class="language-curl">curl -X POST \\ https://playback-rights.api.brightcove.com/v1/accounts/ {your_account_id} /playback_rights \\ -H '授權：持票人{access_token}'  \\ -H '內容類型：應用程序/json'  \\ -d ' { ";geo";: { ";allowed_countries";: [ ";AU"; ] } }'</code></pre>
</details>

<h4>API響應</h4>
<p>
  保存<code translate="No">playback_rights_id</code>供以後使用的價值。您可以在 API 響應中找到此值。任何一個：
</p>
<ul>
  <li>
    <p>
      <strong>響應頭</strong>：
    </p>
    <p>
      這<code translate="No">playback_rights_id</code>值可以在<code translate="No">Location</code> Header 響應的字段。它應與此類似：
    </p>
    <pre><code class="language-http" translate="No">Location: /v1/accounts/<span class="bcls-highlight">your account_id</span>/playback_rights/<span class="bcls-highlight">your playback_rights_id</span>
    </code></pre>
  </li>
  <li>
    <p>
      <strong>反應體</strong>
    </p>
    <p>
      這<code translate="No">playback_rights_id</code>值可以在響應正文中找到，作為<code translate="No">id</code>場地。它應與此類似：
    </p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  ";id";: ";<span class="bcls-highlight">your playback_rights_id</span>",
  ";geo";: {
  ";allowed_countries";: [
    ";MX",
    ";US";]
}</code></pre>
  </li>
</ul>

<h4>獲取帳戶的所有播放權限</h4>
<pre><code class="language-http" translate="No">GET /v1/accounts/{accountID}/playback_rights</code></pre>
<br />

<h4>為帳戶獲取特定的播放權限</h4>
<pre><code class="language-http" translate="No">GET /v1/accounts/{accountID}/playback_rights/{playbackRightsID}</code></pre>
<br />

<h4>更新特定的播放權限：</h4>
<pre class="line-numbers"><code class="language-http" translate="No">PUT /v1/accounts/{accountID}/playback_rights/{playbackRightsID}
  Content-Type: application/json
  Body: {playback rights object}</code></pre>
  <p>
    有關有效字段的列表，請參見<a href="#Request_body">要求正文</a>部分。
  </p>

<h4>刪除特定的播放權限：</h4>
<pre><code class="language-http" translate="No">DELETE /v1/accounts/{accountID}/playback_rights/{playbackRightsID}</code></pre>
<br />

<h4 id="Request_body">要求正文</h4>
<p>
  這是您可以包含在請求正文中的所有字段的示例：
</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  ";geo";: {
  ";allowed_countries";: [
    ";MX",
    ";US";
  ],
  ";blocked_countries";: [
    ";JP",
    ";CN";
  ],
  ";allowed_zip_codes";: [
    ";US-90210";
  ],
  ";blocked_zip_codes";: [
    ";US-72810";
  ],
  ";allowed_dmas";: [
    501
  ],
  ";blocked_dmas";: [
    803
  ]
},
";blocked_proxies";: {
  ";anonymous";: true,
  ";public";: true,
  ";corporate";: true,
  ";transparent";: true,
  ";hosting";: true
},
";allowed_domains";: [
  ";www.google.com",
  ";www.brightcove.com";
],
";blocked_domains";: [
  ";www.ooyala.com";
],
";start_time";: 1572905011,
";end_time";: 1672905011,
";allowed_ips";: [
  ";192.168.1.1";
],
";blocked_ips";: [
  ";192.168.1.1";
],
";allowed_days";: [
  ";mon",
  ";tue";
],
";allowed_hours";: [
  ";5-6";
],
";allow_insecure";: true,
";disabled";: false,
";geo_global_rule";: ";allow_all",
";is_default";: true,
";name";: ";Optional playback right name";
}</code></pre>

<p>
  以下是字段詳細信息：
</p>
<table class="bcls-table">
  <thead class="bcls-table__head">
    <tr>
      <th style="width:25%;">場地</th>
      <th>類型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody class="bcls-table__body">
    <tr>
      <td><code translate="No">allowed_days</code></td>
      <td>細繩</td>
      <td>允許檢索資源的天數的3個字母的小寫字母組成的數組。下列一項或多項：<code translate="No">mon, tue, wed, thu, fri, sat, sun</code></td>
    </tr>
    <tr>
      <td><code translate="No">allowed_domains</code>，<code translate="No">blocked_domains</code></td>
      <td>細繩</td>
      <td>域名數組</td>
    </tr>
    <tr>
      <td><code translate="No">allowed_hours</code></td>
      <td>整數</td>
      <td>從24小時制開始的小時數數組（從0開始，一直到47），在此期間允許檢索資源。當前日期為0到23，第二天結束日期為24到47。如果允許的小時數塊在前一天開始，在第二天結束，則需要使用24+標記。
      <br /><br />
      示例：值<code translate="No">3-4</code>在此標頭中表示該資源可從 UTC 凌晨 3:00 到 UTC 凌晨 3:59</td>
    </tr>
    <tr>
      <td><code translate="No">allow_insecure</code></td>
      <td>布爾型</td>
      <td>默認：<code translate="No">false</code>
        <br />
         將此設置為<code translate="No">true</code>使 JWT 令牌可選。</td>
    </tr>
    <tr>
      <td><code translate="No">allowed_ips</code>，<code translate="No">blocked_ips</code></td>
      <td>整數</td>
      <td>
          ipv4 / ipv6地址或CIDR塊的數組。
      </td>
    </tr>
    <tr>
      <td><code translate="No">blocked_proxies</code></td>
      <td>物件</td>
      <td>與代理權相關的屬性</td>
    </tr>
    <tr>
      <td>&emsp;<code translate="No">blocked_proxies.anonymous</code></td>
      <td>布爾型</td>
      <td>客戶端的IP地址不可用。包括更改位置以擊敗DRM，TOR點，臨時代理和其他掩蔽服務的服務。</code></td>
    </tr>
    <tr>
      <td>&emsp;<code translate="No">blocked_proxies.corporate</code></td>
      <td>布爾型</td>
      <td>通常認為是無害的，但位置可能是個問題。確定是否有多個用戶通過一個或多個中央位置代理，並且可以共享一個網絡上的IP地址。</code></td>
    </tr>
    <tr>
      <td>&emsp;<code translate="No">blocked_proxies.public</code></td>
      <td>布爾型</td>
      <td>多個用戶從允許公共互聯網訪問的位置進行代理。</code></td>
    </tr>
    <tr>
      <td>&emsp;<code translate="No">blocked_proxies.transparent</code></td>
      <td>布爾型</td>
      <td>客戶端的IP地址可通過HTTP標頭獲得，儘管該值不一定可靠（例如，可以被欺騙）。</code></td>
    </tr>
    <tr>
      <td>&emsp;<code translate="No">blocked_proxies.hosting</code></td>
      <td>布爾型</td>
      <td>IP地址屬於託管設施，由於最終用戶通常不在託管設施中，因此它很可能是代理。</code></td>
    </tr>
    <tr>
      <td><code translate="No">disabled</code></td>
      <td>布爾型</td>
      <td>默認：<code translate="No">false</code>
        <br />
          將此設置為<code translate="No">true</code>禁用播放權限，允許所有人播放。</td>
    </tr>
    <tr>
      <td><code translate="No">geo</code></td>
      <td>物件</td>
      <td>與地理權利有關的財產</td>
    </tr>
    <tr>
      <td>&emsp;<code translate="No">geo.allowed_countries</code> ,
        <br>&emsp;<code translate="No">geo.blocked_countries</code>
      </td>
      <td>細繩</td>
      <td>兩個字母國家/地區代碼的數組，遵循ISO 3166-1 alpha-2標準。有關值的列表，請參見<a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements">正式分配的代碼元素</a>。</td>
    </tr>
    <tr>
      <td>&emsp;<code translate="No">geo.allowed_dmas</code> , 
        <br>&emsp;<code translate="No">geo.blocked_dmas</code></td>
      <td>整數</td>
      <td>Nielsen指定的市場區域（DMA）編號數組。有關值的列表，請參見<a href="https://help.ooyala.com/video-platform/reference/dma_codes.html">DMA碼</a>文檔。</td>
    </tr>
    <tr>
      <td>&emsp;<code translate="No">geo.allowed_zip_codes</code> , 
        <br>&emsp;<code translate="No">geo.blocked_zip_codes</code></td>
      <td>細繩</td>
      <td>郵遞區號陣列，以兩個字母的國家/地區和連字號為前綴。例如<code translate="No">[";US-90045";]</code>。 <br/>
      兩個字母的國家/地區代碼必須大寫並遵循 ISO 3166-1 alpha-2 標準，如<a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements">官方指定的代碼元素</a> .</td>
    </tr>
    <tr>
      <td><code translate="No">geo_global_rule</code></td>
      <td>細繩</td>
      <td>默認：<code translate="No">""</code>
        <br />
        價值觀： 
        <ul>
          <li><code translate="No">""</code> -沒有全球地理規則（即遵循地理屬性的正常流程）</li>
          <li><code translate="No">"allow_all"</code> -允許從世界上任何地方播放，黑名單上的位置除外，這些位置是使用<code translate="No">blocked_*</code>特性</li>
          <li> <code translate="No">"block_all"</code> -阻止從世界上任何地方播放，但白名單位置除外，白名單位置是使用<code translate="No">allow_*</code>特性</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td><code translate="No">is_default</code></td>
      <td>布爾型</td>
      <td>默認：<code translate="No">false</code>
        <br />
        將此設置為<code translate="No">true</code>使當前的 Playback Right 成為默認值。有關詳細信息，請參見<a href="#Introduction">介紹</a>部分。</td>
    </tr>
    <tr>
      <td><code translate="No">name</code></td>
      <td>細繩</td>
      <td>可選播放權名稱</td>
    </tr>
    <tr>
      <td><code translate="No">start_time</code>，<code translate="No">end_time</code></td>
      <td>整數</td>
      <td>時代時間</td>
    </tr>
  </tbody>
</table>

</section>

<section class="bcls-section">
<h2 id="Associate_restrictions_with_a_video">將限制與視頻相關聯</h2>

<p>使用<span translate="No">內容管理系統 API</span>將播放權限 ID 與視頻相關聯。您將使用在上一步中創建的播放權限 ID。</p>

<aside class="bcls-aside bcls-aside--information">請注意，如果限制不在用戶級別，則不需要 JWT，可以使用以下命令禁用它<code translate="No">allow_insecure</code>播放權限設置。</aside>

<h3 id="CMS_API">內容管理系統 API</h3>
<p>
  每個播放權限限制對象可以與一個或多個視頻一起使用。
</p>

<h3>基本網址</h3>
<p>
  API 的基本 URL 是：
</p>
<pre><code class="language-http" translate="No">https://cms.api.brightcove.com/v1</code></pre>

<h3>帳戶路徑</h3>
<p>
  在任何情況下，都將請求特定的視頻雲帳戶。因此，您將始終將術語帳戶後跟您的帳戶 ID 添加到基本 URL：
</p>
<pre><code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/{accountId}</code></pre>

<h3>授權</h3>
<p>
  請求的訪問令牌是必需的，並且必須存在於Authorization標頭中：：
</p>
<pre><code class="language-http" translate="No">Authorization: Bearer {access_token}</code></pre>
<p>
  訪問令牌是必須從 Brightcove OAuth 服務獲取的臨時 OAuth2 訪問令牌。有關如何獲取客戶端憑據並使用它們來檢索訪問令牌的詳細信息，請參閱<a href="/oauth/getting-started/overview-oauth-api-v4.html">Brightcove OAuth 概述</a> .
</p>

<h3>權限</h3>
<p>
  向Playback Rights API的請求必須來自<a href="/oauth/index.html">客戶憑證</a>具有以下權限：
</p>
<ul>
  <li>
    <code translate="No">video-cloud/video/read</code>
  </li>
  <li>
    <code translate="No">video-cloud/video/update</code>
  </li>
</ul>

<h3>管理限制</h3>
<p>
  這<span translate="No">內容管理系統 API</span>支持多種請求類型。要更新視頻，請使用以下命令：
</p>

  <h4>更新一個視頻：</h4>
  <p>
    關聯一個<code translate="No">playback_rights_id</code>帶視頻。此 ID 應存在於您在上一步中創建的 Playback Rights API 中。
  </p>
<pre class="line-numbers"><code class="language-http" translate="No">PATCH /v1/accounts/{account_id}/videos/{video_id}
  Content-Type: application/json
  Body: {<a href="/cms/references/reference.html#operation/UpdateVideo">video object</a>}
</code></pre>

<details>
<summary>
  <h3 id="Curl_example1">捲曲示例</h3>
</summary>
  <p>
    在視頻中添加playback_rights_id。
  </p>
  <pre class="line-numbers"><code class="language-curl">curl -X PATCH \\ https://cms.api.brightcove.com/v1/accounts/ <span class="bcls-input">您的 account_id</span> /影片/ <span class="bcls-input">你的 video_id</span> \\ -H '授權：持票人<span class="bcls-input">您的訪問令牌</span>'  \\ -H '內容類型：應用程序/json'  \\ -d '{ ";playback_rights_id";: "; <span class="bcls-input">你的playing_rights_id</span> "; }'</code></pre>
</details>
<br />

  <h4>獲取特定的視頻：</h4>
<pre><code class="language-http" translate="No">GET /v1/accounts/{account_id}/videos/{video_ids}</code></pre>

<p>
  有關使用API的完整詳細信息，請參見<a href="/cms/references/reference.html">CMS API參考</a>。
</p>
</section>

<!-- <section class="bcls-section">
<h2 id="Define_user_level_restrictions">Define user-level restrictions</h2>
<p>
  If you want user-level restrictions, you will need a <span translate="No">JSON Web Token</span> (JWT) configured with claims associated with your restrictions.
</p>
<h3>Steps</h3>
<p>
  To create a <span translate="No">JSON Web Token</span> (JWT) to pass to your player, follow these steps:
<ol class="bcls-tasklist-restart">
  <li>
    <h3 id="Determine_restrictions">Determine restrictions</h3>
    <p>Determine the type of user-level restrictions you want to use from the list below. Include the necessary JWT claims when you create your <span translate="No">JSON Web Token</span> (JWT).</p>
  <h4>Device limits</h4>
  <p>
    When a DRM license request is made, the user's device is registered and a unique id is assigned. The device limit is checked and enforced with each license request. To use this restriction, generate a JWT with the current user id (uid).
  </p>
  <p>
    For details, see the <a href="/playback-restrictions/guides/device-limits.html">Implementing Device Limits</a> document.
  </p>

  <h4>Concurrent stream limits</h4>
  <p>
    When a DRM license request is made, the user's device is registered and a unique id is assigned. With each license request, the device id is checked to ensure it is only watching a specified number of video streams at the same time.
  </p>
  <p>
    For details, see the <a href="/playback-authorization/guides/stream-concurrency.html">Limiting Concurrent Streams per Viewer</a> document.
  </p>

  <h4>Tags</h4>
  <p>
    Based on the <code translate="No">tags</code> claim, the <span translate="No">JSON Web Token</span> (JWT) will specify the group of videos that the user is entitled to watch. You can group videos with tags using the <strong>Media Module</strong> in Brightcove's Video Cloud Studio.
  </p>
  <p>
    The Playback Authorization Service will check the tags associated with each video. If at least one of the tags matches the list in the JWT token, then the video is viewable.
  </p>
  <p>
    Tags in the JWT token will be listed as an array of tags.
  </p>
  <aside class="bcls-aside bcls-aside--information">You are limited to an array of 40 tags in the JWT token.</aside>
  </li>
  <li>
    <h3 id="Create_a_JSON_Web_Token">Create a <span translate="No">JSON Web Token</span></h3>
    <p>To create a token to use when communicating with Brightcove's Playback API, see the <a href="https://general.support.brightcove.com/developer/create-jwt.html">Creating a <span translate="No">JSON Web Token</span> (JWT)</a> document.</p>
  </li>
</ol>
</section> -->

<section class="bcls-section">
<h2 id="Configure_your_player">配置播放器</h2>
<p>
  默認情況下，Brightcove播放器與Brightcove播放API（PAPI）對話。一個管理回放限制的新系統位於Playback API的前面。要配置您的播放器，請參閱以下內容：
</p>
<h3>網絡播放器</h3>
<p>
  要配置 Brightcove 網絡播放器，請參閱<a href="https://player.support.brightcove.com/playback/playback-restrictions-with-bcp.html">Brightcove Player 的播放限制</a>文檔。
</p>
<h3>本機Android或iOS播放器</h3>
<p>
  要為 Android 或 iOS 配置本機播放器，請參閱<a href="https://sdks.support.brightcove.com/features/playback-restrictions-with-sdks.html">原生 SDK 的播放限制</a>文檔。
</p>

<h3>你自己的播放器</h3>
<p>
  如果您的內容在視頻雲庫中，但是您使用的是自己的播放器，則可以調用Playback API，如<a href="/playback/getting-started/overview-playback-api.html">概述：播放API</a>文檔。將基本URL替換為以下內容：
</p>
<pre ><code class="language-http" translate="No">https://edge-auth.api.brigthcove.com</code></pre>
<p>
  代替使用策略密鑰，您將使用JSON Web令牌（JWT）進行身份驗證：
</p>
<pre ><code class="language-http" translate="No">Authorization: Bearer {JWT}</code></pre>
<p>
  這是一個Curl示例：
</p>
<pre class="line-numbers"><code class="language-curl">curl -X GET \\ -H '授權：持票人{JWT}'  \\ https://edge-auth.api.brightcove.com/playback/v1/accounts/ {your_account_id} /影片/ {your_video_id}</code></pre>
</section>

</article>