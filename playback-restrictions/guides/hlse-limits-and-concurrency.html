---
title:使用 HLSe 與設備限制和流並發
description:“在本主題中，您將了解如何使用 HLSe 和 Brightcove Playback Restrictions 啟用設備限制和限制並發流。”
parent: Guides 
grandparent: Playback Restrictions
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  
  <br/>
  <aside class="bcls-aside bcls-aside--tip">此功能適用於有權訪問 Brightcove 播放限制的有限可用性階段的一組特定客戶。</aside>
  
  <section class="bcls-section">
    <h2 id="Introduction">介紹</h2>
    <p>如果要限制每個用戶的內容，但又不需要或不想集成DRM，那麼使用HLSe可能是適合您的解決方案。</p>
    <p>使用 AES-128 (HLSe) 的標準加密允許您通過 Internet 加密您的內容。它不像使用DRM那樣安全，因為它使用可公開訪問的解密密鑰。</p>
    <p>使用 HLSe <a href="/playback-restrictions/getting-started/overview-playback-restrictions.html#License_Keys_Protection"> Brightcove 的許可證密鑰保護</a> , 允許您根據用戶或高級信息授權播放請求，以允許或拒絕訪問加密密鑰並提高標準加密的安全性。</p>

    <p>許可證密鑰保護側重於對DRM許可證請求以及AES-128解密的保護。JWT聲稱使許可證密鑰保護能夠支持用戶級別的限制。這意味著您可以將播放限制為用戶代理、不同 IP 地址的最大數量或每個令牌的最大用戶數量。</p>

    <p>如果您不熟悉此功能，請參閱<a href="/playback-restrictions/getting-started/overview-playback-restrictions.html">概述：Brightcove播放限制</a>文檔。</p>

  </section>

  <section class="bcls-section">
    <h2 id="Getting_started">入門</h2>
    <p>
      設置您的帳戶並準備您的內容。
    </p>
    <ol class="bcls-tasklist">
      <li>請與您的客戶經理聯繫，以為您的帳戶啟用HLSe和播放限制。</li>
      <li>
        為您的帳戶啟用HLSe後，請提取或重新轉換您要保護的視頻。
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Workflow">工作流程</h2>
    <p>
      要使用 HLSe 設置設備限製或流並發，請按照下列步驟操作：
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>創建一個<a href="https://general.support.brightcove.com/developer/create-json-web-token.html">JSON Web令牌（JWT）</a>每個用戶。</p>
        <p>對於每個用戶會話，您需要創建一個JWT。這應該根據具有不同聲明的所需限制生成。</p>
        <ul>
          <li><p>有關設備限制，請參見<a href="#Setting_device_limits">設置設備限制</a>部分。</p></li>
          <li>有關流並發，請參見<a href="#Setting_stream_concurrency">設置流並發</a>部分。</li>
        </ul>
      </li>
      <li>
        <p>配置播放器以使用許可證密鑰保護。</p>
        有關詳細信息，請參見<a href="/playback-restrictions/getting-started/overview-playback-restrictions.html#License_Keys_Protection">使用許可證密鑰保護</a>概述部分：Brightcove播放限製文檔。
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Setting_device_limits">設置設備限制</h2>
    <p>使用許可證密鑰保護，您可以將播放限制為每個用戶的一定數量的設備。</p>
    <h3>索償</h3>
    <ul>
      <li>
        <p><code translate="No">maxip</code>：</p>
        對於HLSe內容，<code translate="No">maxip</code>聲明定義了可以同時流式傳輸多少個不同的IP地址。
      </li>
    </ul>
    <h3>例子</h3>
    <p>此示例創建了一個 JWT，以將播放限制為每個用戶一個 IP 地址（每個用戶一台設備）：</p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>生成公私鑰對。</p>
        有關詳細信息，請參見<a href="https://general.support.brightcove.com/developer/create-json-web-token.html#Generate_public_private_key_pair">生成公私鑰對</a> JSON Web令牌（JWT）文檔的“參考"部分。
      </li>
      <li>
        <p>註冊您的公共密鑰。</p>
        有關詳細信息，請參見<a href="/playback-restrictions/guides/authentication-apis.html">使用身份驗證API</a>文檔。
      </li>
      <li>
        <p>創建一個JSON Web令牌。</p>
        <p>這是一個使用bash的示例。確保添加<code translate="No">"maxip":1</code>聲稱將播放限制為每個用戶一個IP地址（設備）。</p>
        <pre class="line-numbers">
<code class="language-bash" translate="No">#! /usr/bin/env bash
  # Static header fields.
  HEADER='{
    &quot;type&quot;: &quot;JWT&quot;,
    &quot;alg&quot;: &quot;RS256&quot;
  }'
  
  payload='{
    &quot;pkid&quot;: &quot;<span class="bcls-input">your policy key</span>&quot;,
    &quot;accid&quot;: &quot;<span class="bcls-input">your account id</span>&quot;,
    <span class="bcls-highlight">&quot;maxip&quot;: 1</span>
  }'
  
  # Use jq to set the dynamic `iat` and `exp`
  # fields on the payload using the current time.
  # `iat` is set to now, and `exp` is now + 1 second.
  PAYLOAD=$(
    echo &quot;${payload}&quot; | jq --arg time_str &quot;$(date +%s)&quot; \
    '
    ($time_str | tonumber) as $time_num
    | .iat=$time_num
    | .exp=($time_num + 60 * 60)
    '
  )
  
  function b64enc() { openssl enc -base64 -A | tr '+/' '-_' | tr -d '='; }
  
  function rs_sign() { openssl dgst -binary -sha256 -sign {your_private_key_path} ; }
  
  JWT_HDR_B64=&quot;$(echo -n &quot;$HEADER&quot; | b64enc)&quot;
  JWT_PAY_B64=&quot;$(echo -n &quot;$PAYLOAD&quot; | b64enc)&quot;
  UNSIGNED_JWT=&quot;$JWT_HDR_B64.$JWT_PAY_B64&quot;
  SIGNATURE=$(echo -n &quot;$UNSIGNED_JWT&quot; | rs_sign | b64enc)
  
  echo &quot;$UNSIGNED_JWT.$SIGNATURE&quot;</code></pre>
        
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Setting_stream_concurrency">設置流並發</h2>
    <p>即將推出！</p>
    
  </section>

</article>