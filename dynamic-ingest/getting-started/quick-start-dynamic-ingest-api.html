---
title: '快速開始：動態攝取 API'
description: '本快速入門將引導您使用<span translate="No">動態攝取 API</span>通過捲曲。'
parent: Getting Started 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Introduction">介紹</h2>

    <p>您可以使用 Dynamic Ingest API 做幾件事，但它的主要功能是將視頻添加到 Video Cloud。此快速入門提供了一個簡單的教程，可引導您使用 API 提取您的第一個視頻。</p>

    <p>本教程使用名為 CURL 的流行命令行工具來發出 HTTP 請求。如果您不熟悉CURL，請參閱<a href="https://general.support.brightcove.com/developer/concepts-set-curl.html">設置CURL</a>。請注意，默認情況下會安裝CURL以及Mac和Linux系統。在Windows上，您需要安裝它-設置CURL指南中的說明。</p>
    </section>

    <section class="bcls-section">
    <h2 id="steps">腳步</h2>

    <h3>獲取客戶憑證</h3>

    <p>這是為 API 請求創建客戶端憑據的一次性步驟。如果您已經具有必要的客戶端憑據，則可以跳過此步驟。</p>

    <ol class="bcls-tasklist">
      <li>
      <p>到<a href="/general/managing-api-authentication-credentials.html">管理 API 憑證</a>工作室部分。</p>
      </li>
      <li>點擊<strong>註冊新申請</strong></li>
      <li>
      <p>選擇適當的帳戶並選擇 <em>至少</em> 這些權限：</p>

      <ul>
        <li>動態提取創建</li>
        <li>攝取配置文件配置讀取</li>
        <li>攝入資料閱讀</li>
      </ul>
      </li>
      <li>
      <p>複製並保存<strong>客戶編號</strong>和<strong>客戶機密</strong>創建的密碼（一旦關閉對話框，便無法再次獲取客戶端密碼！）。</p>
      </li>
    </ol>

    <h3>獲取OAuth令牌</h3>

    <p>這<code translate="No">client_id</code>和<code translate="No">client_secret</code>用作用戶名和密碼以獲取令牌（基本身份驗證），用於對後續請求進行身份驗證。</p>

    <ol class="bcls-tasklist">
      <li>將下面的代碼複製到文本編輯器中，然後替換<code translate="No">CLIENT_ID</code>和<code translate="No">CLIENT_SECRET</code>使用您自己的客戶憑證：

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url https://oauth.brightcove.com/v4/access_token \
    --user <span class="bcls-input">CLIENT_ID</span>:<span class="bcls-input">CLIENT_SECRET</span> \
    --header 'content-type: application/x-www-form-urlencoded' \
    --data grant_type=client_credentials</code></pre>

      <p>你的代碼現在看起來像這樣：</p>

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url https://oauth.brightcove.com/v4/access_token \
    --user 0072bebf-0616-442c-84de-7215bb176061:7M0vMete8vP_Dmb9o4a16iws4RQR74PO-JNDKkCOyXFkSIe_iRKdHiiNO6vuBWadn5xFw \
    --header 'content-type: application/x-www-form-urlencoded' \
    --data grant_type=client_credentials</code></pre>
      </li>
      <li>複製修改後的代碼並將其粘貼到終端（或命令行應用程序）中，按Return鍵運行它。</li>
      <li>響應應如下所示：
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "access_token":"AMv4uy9puUMrSPtfOUo412Euy8gY1pcjv6RozlH9ALrHyekxY_u-83KWMECgigG9u_gSQoh_gpe8ChAQ1FHclNHgU4h_2qj-8ei19Ve-m4OJ2UOmJwJBZQht_6bIMJMZUZBIvIAGT-8av-uMOpqnnXVJ1qu2rPQeGraIjEkhTnXnGaa-RNUxisRkIoIktN1o9BFzrbLa1xstvPgVhdg78uVg8uDA8X0K9kfibxBfdIkDBzKJAViZZ3gQa56uit2r79GZ_t2KSUgLq1rOPsd0TflHwCAGtSaAHlvb44m-hUKFAOJa-FtXakQ72QcIXha5PhSjYTJZiUa4EbjxXpR6aLvPW4mGQcDzo8bQQ4Hnq8bsa_8l5eUjOm51WI96WhTPJCt4bBWVJKyLM8P7va_Ho6zJc2yOJHDamilRlyOS-DxN4U30m_2AxhHF3DKJO8fWl5srtpbZRPANOq5B6cpAkOiQafoXUv0ntP9nzRwyO-oXVvH4iLDTAArOTXPh-A7OD8QogWu9wb13vO48CvRPsGv9PfT4ZCxzUa3M2NXn8wontkSARzHVNqf6fh-iF6ifalPTw-Z9MhpPd-qwpcHbJfmu5EcJAR3K3QDYttjeRrmEvTBOgbQttapvI2h6rMQqgytiHXpxYgz3Hr1yKe1cuVI8z3haT5pb-FIfOfHKyr7vQ3RDXjdTTJZMYpOhKNjL0oEH2ev_bIGmbGnqUMcuAGhQgMiCVQUKwoLUGHTRG91ZWMCP7CfTEdcVc10jDSELcZ1SBig5_G42ymv1w3KauK6ZwE_Xmu4NrPZiPo-r3u_K08x8Rz8gS1b9mFtcPj6yux058WAW--HIoIQRFGeppiO3S6s1hzkU2jiKMGtTnB8X4MIJXLPq8LHcZO81appEzraHFUG5ewtKRTq5Ck6OFndlSmhT8KIKid806wI5b39eeoe-4c8Os23QuyWIQthG-YdcTSueNoqZ3-5e7HztoYbzNIKvtrdLpwgMAclD9fzs3oCclECAQaaLD3hWENE3n78_TzPt4OvQ4o8L17JTmozZYCq3VDnsp_M9Bb6az8mZfDX5_ALunsE65dv91aXFCjTJigVJ_r28k7kLVct-PVZ1XPSjdAyGoxttMeYpl24737aUZBqPAirHJK-griQlPBh04E0Ay5ip03gJvJxvGuzRE5r8hKD0lVQjfre9huiSjJX-xts4kbY",
      "token_type":"Bearer",
      "expires_in":300
    }</code></pre>
      </li>
      <li>請注意<code translate="No">access_token</code>到期時間為5分鐘，但是您可以在需要時重新運行代碼以獲取新代碼。如果以下步驟中的 API 請求返回一個<code translate="No">UNAUTHORIZED</code>錯誤。</li>
    </ol>

    <h3>建立影片</h3>

    <p>致電<span translate="No">內容管理系統 API</span>在 Video Cloud 中創建視頻對象。請求的正文規定了元數據，如<code translate="No">name</code>和<code translate="No">description</code> .唯一的必填字段是<code translate="No">name</code> .</p>

    <ol class="bcls-tasklist">
      <li>將以下代碼複製到文本編輯器中並替換<code translate="No">ACCOUNT_ID</code>使用您自己的視頻雲帳戶ID，以及<code translate="No">ACCESS_TOKEN</code>在前面的步驟中，使用從響應到請求的令牌。

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">ACCOUNT_ID</span>/videos/ \
    --header 'authorization: Bearer <span class="bcls-input">ACCESS_TOKEN</span>' \
    --header 'content-type: application/json' \
    --data '{"name": "My Video"}'</code></pre>
      </li>
      <li>JSON 響應將包含視頻的各種元數據，但出於我們的目的，重要字段位於頂部：
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
      <span class="bcls-highlight">"id": "123456789001"</span>,
      …
    }</code></pre>

      <p>你會用這個<code translate="No">id</code>在下面的攝取請求中，讓 Video Cloud 知道要將您的視頻源文件與哪個視頻關聯。</p>
      </li>
    </ol>

    <h3>攝取請求</h3>

    <p>調用動態攝取可提供要攝取的文件的位置。</p>

    <ol class="bcls-tasklist">
      <li>將以下代碼複製到文本編輯器中並替換<code translate="No">ACCOUNT_ID</code>使用您自己的視頻雲帳戶ID，<code translate="No">VIDEO_ID</code>與<code translate="No">id</code>創建視頻時返回的值，以及<code translate="No">ACCESS_TOKEN</code>在前面的步驟中，使用從響應到請求的令牌。

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">ACCOUNT_ID</span>/videos/<span class="bcls-input">VIDEO_ID</span>/ingest-requests \
      --header 'authorization: Bearer <span class="bcls-input">ACCESS_TOKEN</span>' \
      --header 'content-type: application/json' \
      --data '{
        "master": {
          "url": "https://learning-services-media.brightcove.com/videos/mp4/Great_Blue_Heron.mp4"
        },
        "callbacks": ["https://solutions.brightcove.com/bcls/di-api/di-callback-app.php"]
      }'</code></pre>

      <p>請注意，此處的視頻和回調應用程序是Brightcove學習服務提供的，用於測試目的。您可以將這些替換為您自己的視頻和/或回調應用程序的路徑。如果您不需要接收有關提取作業的通知，則可以省略<code translate="No">callbacks</code>場地。</p>

      <p>如果您確實使用我們的回調應用程序，則可以<a href="http://solutions.brightcove.com/bcls/di-api/di-log.txt">查看通知</a>。此應用程序被其他幾個應用程序用於回調，因此請使用作業 ID 來搜索與您的作業相關聯的應用程序。</p>
      </li>
      <li>您應該會收到如下所示的響應：
      <pre class="line-numbers">
    <code class="language-json" translate="No">{"id":"bcc3dd36-50de-4343-b42a-ad02bd8f0241"}</code></pre>
      </li>
      <li>您應該保存作業 ID，因為它有助於識別與此作業相關的通知，或者如果您需要聯繫支持</li>
    </ol>

    <p>如果您成功完成了上述步驟，請使用Dynamic Ingest API將視頻提取到您的帳戶中。如果您有任何問題或疑問，請隨時與我們聯繫<a href="mailto:training@brightcove.com">Brightcove學習服務</a>求助。</p>

    <p>如果您將廣泛使用我們的API，則可能有興趣嘗試使用CURL以外的其他測試工具：</p>

    <ul>
      <li><a href="/general/use-insomnia-api-requests.html">失眠</a></li>
      <li><a href="/general/use-postman-api-requests.html">郵差</a></li>
    </ul>
    </section>
    </article>