---
title: '動態攝取的通知'
description: '在本主題中，您將了解有關使用 Dynamic Ingest API 提交的 Dynamic Delivery 攝取作業的通知。'
parent: 'General Information' 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="diAPI">動態提取API通知</h2>
    
    <p>您可以指定一個或多個回調 URL 以接收有關攝取過程結果的通知。您指定的 URL 應該用於可以接受 POST 請求的應用程序。通知將以JSON格式發送。</p>
    
    <aside class="bcls-aside bcls-aside--information"><strong>筆記</strong>
    
    <ul>
      <li>最多支持 10 個錯誤通知訂閱者。您可以包含 10 個以上的 URL 來接收通知，但只會處理前 10 個</li>
      <li>不接受以斜杠 (/) 結尾的 URL；例如，網址“https://my.domain.com/notification-receiver”有效，但“https://my.domain.com/notification-receiver/”無效</li>
      <li>或者，您可以使用<a href="/cms/references/reference.html#api-videoGroup-Get_Status_of_Ingest_Jobs">CMS API的狀態API</a>獲取特定視頻的提取作業的狀態。</li>
    </ul>
    </aside>
    
    <h3>設置</h3>
    
    <p>這是一個例子。</p>
    
    <ul>
      <li>pub id 為 57838016001 的用戶</li>
      <li>想要使用 Dynamic Ingest 上傳位於 https://s3.amazonaws.com/bucket/mysourcevideo.mp4 的源視頻文件</li>
      <li>想要上傳視頻 ID 為 5199670523001 的目錄中的現有標題</li>
      <li>使用多平台標準靜態配置文件</li>
      <li>希望在分別位於 http://host1/path1 和 http://host2/path2 的兩個端點接收回調</li>
    </ul>
    
    <p>DI 請求如下所示：</p>
    
    <h4>POST請求</h4>
    <textarea class="bcls-code" translate="No">https://ingest.api.brightcove.com/v1/accounts/57838016001/videos/5199670523001/ingest-requests</textarea>
    
    <h4>要求正文</h4>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "master": {
        "url": "https://s3.amazonaws.com/bucket/mysourcevideo.mp4"
      },
      "profile": "multi-platform-standard-static",
      "callbacks": ["http://host1/path1”, “http://host2/path2”]
    }</code></pre>
    
    <h3>示例通知</h3>
    
    <p>通知作為 POST 請求發送，請求正文中的通知為 JSON <sup> <strong><a href="#note1">[1]</a></strong> </sup>.這是來自典型視頻攝取作業的全套通知：</p>
    
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/audio192",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/audio192",
      "language": "en",
      "variant": "main",
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/audio64",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/audio64",
      "language": "en",
      "variant": "main",
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/audio96",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/audio96",
      "language": "en",
      "variant": "main",
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/audio128",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/audio128",
      "language": "en",
      "variant": "main",
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "5660367449001",
      "entityType": "DIGITAL_MASTER",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/video450",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/video450",
      "bitrate": 451,
      "width": 480,
      "height": 270,
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "5660367449001",
      "entityType": "TITLE",
      "version": "1",
      "action": "PUBLISH",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "thumbnail",
      "entityType": "ASSET",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "poster",
      "entityType": "ASSET",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/video900",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/video900",
      "bitrate": 901,
      "width": 640,
      "height": 360,
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/video700",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/video700",
      "bitrate": 700,
      "width": 640,
      "height": 360,
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/video1200",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/video1200",
      "bitrate": 1204,
      "width": 960,
      "height": 540,
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/video1700",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/video1700",
      "bitrate": 1703,
      "width": 960,
      "height": 540,
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/video3500",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/video3500",
      "bitrate": 3498,
      "width": 1920,
      "height": 1080,
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/video2000",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/video2000",
      "bitrate": 2000,
      "width": 1280,
      "height": 720,
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "default\/video3800",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/video3800",
      "bitrate": 3804,
      "width": 1920,
      "height": 1080,
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    <pre class="line-numbers"><code class="language-json" translate="No">{
      "entity": "5660367449001",
      "entityType": "TITLE",
      "version": "1",
      "action": "CREATE",
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "accountId": "57838016001",
      "status": "SUCCESS"
    }</code></pre>
    
    <h3>通知欄位</h3>
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>物品</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">status</code></td>
          <td>將會<code translate="No">FAILED</code>如果再現的攝取或創建不成功，<code translate="No">SUCCESS</code>如果請求成功</td>
        </tr>
        <tr>
          <td><code translate="No">accountId</code></td>
          <td>帳戶 ID</td>
        </tr>
        <tr>
          <td><code translate="No">videoId</code></td>
          <td>視頻 ID</td>
        </tr>
        <tr>
          <td><code translate="No">jobId</code></td>
          <td>動態攝取請求的作業 ID</td>
        </tr>
        <tr>
          <td><code translate="No">entity</code></td>
          <td>TITLE的實體名稱或視頻的視頻雲ID</td>
        </tr>
        <tr>
          <td><code translate="No">entityType</code></td>
          <td>報告的資產類型 - 例如：TITLE（視頻）、DIGITAL_MASTER、ASSET（再現、字幕文件或圖像）</td>
        </tr>
        <tr>
          <td><code translate="No">bitrate</code></td>
          <td>再現比特率</td>
        </tr>
        <tr>
          <td><code translate="No">width</code></td>
          <td>演繹的幀寬度</td>
        </tr>
        <tr>
          <td><code translate="No">height</code></td>
          <td>渲染的幀高</td>
        </tr>
        <tr>
          <td><code translate="No">errorMessage</code></td>
          <td>解釋為什麼攝取失敗的原因</td>
        </tr>
        <tr>
          <td><code translate="No">version</code></td>
          <td>始終等於的字符串<code translate="No">"1"</code></td>
        </tr>
        <tr>
          <td><code translate="No">action</code></td>
          <td>發生的動作 - 例如，CREATE</td>
        </tr>
      </tbody>
    </table>
    </section>
    
    <section class="bcls-section">
    <h2 id="Interpreting_notifications">解釋通知</h2>
    
    <p>包含以下內容的通知<code translate="No">"action": "CREATE"</code>和<code translate="No">"status": "SUCCESS"</code>表示過程已完成。</p>
    
    <ul>
      <li>如果<code translate="No">entityType</code>是<code translate="No">TITLE</code>，則提取視頻的處理完成。</li>
      <li>為了<code translate="No">entityType: TITLE</code>，<code translate="No">action: PUBLISH</code>是指視頻被激活的時間。對於立即開始播放的視頻，這將與<code translate="No">CREATE</code>時間。</li>
      <li>如果<code translate="No">entityType</code>是<code translate="No">ASSET</code>，<code translate="No">DYNAMIC_RENDITION</code>或者<code translate="No">DIGITAL_MASTER</code>，則演示文稿，圖像，清單，WebVTT文件或數字母版已成功添加到您的視頻中。</li>
    </ul>
    
    <aside class="bcls-aside bcls-aside--information">注：一<code translate="No">"status": "SUCCESS"</code>在一個<strong>標題</strong>表示處理已完成，但並不一定意味著已成功創建所有格式副本。要確定動態攝取視頻是否成功，請參閱<a href="/dynamic-ingest/general/get-status-dynamic-ingest-requests-dynamic-delivery.html">獲取動態攝取請求的狀態</a> .</aside>
    </section>
    <section class="bcls-section">
      <h2 id="Firewalls">防火牆</h2>
  
      <p>如果您的組織對通過防火牆的傳入流量的來源有嚴格的政策，我們允許使用AWS us-east-1 / Virginia IP。這可能會發生變化，因此所有 AWS IP 都應列入白名單。看<a href="http://docs.aws.amazon.com/general/latest/gr/aws-ip-ranges.html">http://docs.aws.amazon.com/general/latest/gr/aws-ip-ranges.html</a>想要查詢更多的信息。</p>
        </section>
    </article>
 