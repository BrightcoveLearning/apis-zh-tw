---
title: '在 S3 中使用動態攝取'
description: '在本主題中，您將了解如何使用 Dynamic Ingest API 從您的 Amazon S3 賬戶中提取視頻。'
parent: 'General Information' 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Overview">概述</h2>
    
    <p>Dynamic Ingest可以從您的Amazon S3存儲桶下載視頻。如果您的S3內容可以訪問<strong>每個人</strong>，您無需執行任何操作。但是，如果您的內容受到保護，則需要添加一個存儲桶策略，以允許Dynamic Ingest訪問您的視頻。本文檔解釋瞭如何做到這一點。</p>
    
    <aside class="bcls-aside bcls-aside--information">在使用 V4 簽名時，Dynamic Ingest 現在支持 V4 AWS 區域的圖像和 VTT 文件。<strong>如果 AWS 區域只接受 V4 簽名，則您必須使用 V4 簽名。</strong></aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="setPolicy">設置 S3 策略</h2>
    
    <p>要設置您的政策以允許 Dynamic Ingest 訪問您的視頻，請轉到<a href="http://aws.amazon.com/console/">AWS 控制台</a> .選擇您的存儲桶，然後選擇“權限”選項卡，然後單擊“存儲桶策略”按鈕。在最後一行上，單擊<strong>添加存儲桶策略</strong>。以下是我們建議的政策：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
     "Version": "2012-10-17",
     "Id": "VideoCloudBucketPolicy",
     "Statement": [
       {
         "Sid": "Stmt1295042087538",
         "Effect": "Allow",
         "Principal": {
             "AWS": "arn:aws:iam::395540211253:root"
         },
         "Action": [
         "s3:GetObjectAcl",
         "s3:GetObject"
         ],
         "Resource": "arn:aws:s3:::MY-BUCKET/*"
       },
       {
         "Sid": "Stmt1295042087538",
         "Effect": "Allow",
         "Principal": {
             "AWS": "arn:aws:iam::395540211253:root"
         },
         "Action": [
         "s3:GetBucketLocation"
         ],
         "Resource": "arn:aws:s3:::MY-BUCKET"
       }
     ]
     }</code></pre>
    
    <p>只有<strong>你必須做的一項改變</strong>在此存儲桶策略準備就緒之前：</p>
    
    <ol class="bcls-tasklist">
      <li>
      <p>代替<code translate="No">MY-BUCKET</code>兩邊都用你的桶的名字<code translate="No">Resource</code>線。離開<code translate="No">/*</code>在第一個文件的末尾，因為該語句適用於存儲桶中的每個文件。</p>
    
      <aside class="bcls-aside bcls-aside--tip">由於您提供對 S3 存儲桶的 Video Cloud 訪問權限，因此您無需更改賬戶 ID 或用戶 ID 值。</aside>
      </li>
      <li>（可選）用您要允許的操作替換Action數組。Video Cloud 可能需要的有效操作包括：
      <h4>對象權限-上面示例中的第一個操作數組</h4>
    
      <ul>
        <li><code translate="No">s3:GetObject</code> -允許Video Cloud從存儲桶下載文件</li>
        <li><code translate="No">s3:GetObjectAcl</code> -允許Video Cloud獲取文件的ACL權限</li>
      </ul>
    
      <h4>值區權限-上例中的第二個動作數組</h4>
    
      <ul>
        <li>s3:GetBucketLocation - 允許 Video Cloud 獲取存儲桶的位置（美國、歐盟、亞洲等）</li>
      </ul>
    
      <p>Video Cloud 不需要任何寫入權限。</p>
      </li>
    </ol>
    
    <p>請注意，該策略中有兩個語句。第一條語句影響桶內的鍵，而第二部分影響桶本身。</p>
    
    <p>政策的其餘部分可以不理會，它會正常工作。亞馬遜的文檔包含有關以下內容的更多信息：<a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?UsingBucketPolicies.html">桶策略的要素。</a></p>
    </section>
    </article>
 