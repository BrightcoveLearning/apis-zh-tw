---
title: '播放器存儲庫'
description: '在本主題中，您將了解播放器管理 API 如何利用傳送系統 API 來存儲和維護有關 Brightcove 播放器的信息。'
parent: Guides 
grandparent: Player Management API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section id="Overview" class="bcls-section">
    <h2>概述</h2>
    
    <p>為了將播放器發佈到CDN，播放器管理API利用了<a href="/delivery-system/references/reference.html">投放系統API</a>。Delivery System API 允許您創建一個 git 存儲庫，其內容託管在<strong>player.brightcove.net</strong> .創建播放器後，Brightcove 會在幕後創建一個存儲庫。每次重新發布播放器時，無論是發布者直接請求還是在Brightcove播放器更新發佈時，都會進行相應的提交並將其推送到該存儲庫。</p>
    
    <p>除其他外，Git存儲庫提供了隨時間變化的歷史記錄。在調試播放器時，獲取此存儲庫的副本有時非常有用，因此您可以自己檢查更改歷史記錄。首先，您將學習如何使用命令行工具curl和/或Chrome插件Postman檢索有關播放器的常規信息。然後，您將學習如何查看創建和發布的玩家歷史記錄。</p>
    </section>
    
    <section id="playerinfo" class="bcls-section">
    <h2>玩家信息</h2>
    
    <p>那些熟悉命令行的人很可能希望使用 curl 來獲取玩家信息，而那些更熟悉 GUI 的人會選擇 Postman 選項。</p>
    
    <h3>使用捲曲</h3>
    
    <p>如果您不熟悉curl和設置環境變量，請通讀<a href="/player-management/getting-started/step-step-player-management.html">一步步：球員管理</a>。確保設置了以下環境變量：</p>
    
    <ul>
      <li>電子郵件</li>
      <li>帳戶ID</li>
      <li>PLAYER_ID</li>
    </ul>
    
    <p>然後，您可以使用以下 curl 語句來獲取有關您的播放器的信息。</p>
    
    <pre class="line-numbers">
      <code class="language-bash" translate="No">curl \
        --header "Content-Type: application/json" \
        --user $EMAIL \
        --request GET \
        https://players.api.brightcove.com/v2/accounts/{account_id}/players/{player_id}/embeds/default</code></pre>
    <!-- <p><code data-gist-id="3bfdd5e78407641f158f" data-gist-hide-footer="true" data-gist-line="1-4"></code></p> -->
    
    <aside class="bcls-aside bcls-aside--information">如果您正在使用特定的嵌入，請將 URL 的末尾更改為<strong>默認</strong>到那個嵌入 ID。</aside>
    
    <p>API 將返回類似於以下內容的響應：</p>
    
    <pre class="line-numbers">
      <code class="language-json" translate="No">{
        "branches": {
          "master": {
            "video_cloud": true,
            "updated_at": "2015-02-23T18:36:39.323Z"
          },
          "preview": {
            "video_cloud": true,
            "updated_at": "2015-02-23T18:36:39.323Z"
          }
        },
        "publish_request": {
          "comment": "Player publish request",
          "author": "mboles@brightcove.com",
          "status": "COMPLETE",
          "requested_at": "2015-02-26T16:29:33.207Z",
          "queue_msg_id": "33533986-10d3-4585-8dcd-7ea52f3d2879",
          "errorCode": null,
          "errorMessage": null,
          "buildLog": "http://players.brightcove.net/1507807800001/0d92f482-49d9-44e6-ba1d-e2360dab838a_default/logs/33533986-10d3-4585-8dcd-7ea52f3d2879.log",
          "retries": 0,
          "elapsed_time": 12
        },
        "name": "MySamplePlayer",
        "id": "default",
        "url": "http://players.brightcove.net/1507807800001/0d92f482-49d9-44e6-ba1d-e2360dab838a_default/index.html",
        "embed_code": "&lt;iframe src='//players.brightcove.net/1507807800001/0d92f482-49d9-44e6-ba1d-e2360dab838a_default/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;",
        "embed_in_page": "http://players.brightcove.net/1507807800001/0d92f482-49d9-44e6-ba1d-e2360dab838a_default/in_page.embed",
        "repository_url": "https://repos.api.brightcove.com/v1/accounts/1507807800001/repos/0d92f482-49d9-44e6-ba1d-e2360dab838a_default",
        "preview_url": "http://preview-players.brightcove.net/v1/accounts/1507807800001/players/0d92f482-49d9-44e6-ba1d-e2360dab838a/master/embeds/default/preview/index.html",
        "preview_embed_code": "&lt;iframe src='//preview-players.brightcove.net/v1/accounts/1507807800001/players/0d92f482-49d9-44e6-ba1d-e2360dab838a/master/embeds/default/preview/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;"
      }</code></pre>
    <!-- <p><code data-gist-id="3bfdd5e78407641f158f" data-gist-hide-footer="true" data-gist-line="11-42"></code></p> -->
    
    <h3>使用郵遞員</h3>
    
    <p>郵遞員提供了更友好的UI與API進行交互。如果您不熟悉Postman，請通讀<a href="/general/use-postman-api-requests.html">使用Postman進行HTTP請求</a> doc以獲得基本了解。使用 Postman 時不要創建環境變量。而是在URL中使用適當的值來構建URL位置。例如，以下顯示了一個適用於Postman的URL，其中包含帳戶和玩家ID。</p>
    
    <pre class="line-numbers">
      <code class="language-http" translate="No">https://players.api.brightcove.com/v2/accounts/1507807800001/players/6aac508a-741e-41a2-bc7a-5805644cf089/embeds/default</code></pre>
    
    <p>要使用 Postman，請執行以下操作：</p>
    
    <ol>
      <li>在表單頂部輸入URL。</li>
      <li>將 HTTP 方法設置為<strong>得到</strong> .</li>
      <li>使用創建標題<strong>內容類型</strong>和相應的值<strong>應用程序/ json</strong>。</li>
      <li>點擊<strong>發送</strong>按鈕。</li>
      <li>出現提示時輸入Studio憑據。</li>
    </ol>
    
    <p>然後將返迴響應。為了便於查看，請務必單擊<strong>漂亮</strong>和<strong>JSON格式</strong>響應上方的按鈕。</p>
    
    <figure class="bcls-figure"><img class="bcls-image" alt="Postman Example" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/player-management-api/guides/player-repositories/player-repositories-postman.png" />
    <figcaption class="bcls-caption--image">郵遞員的例子</figcaption>
    </figure>
    
    </section>
    
    <section id="playerhistory" class="bcls-section">
    <h2>球員歷史</h2>
    
    <p>在本節中，您將使用git命令。有關git的非常簡短的教程，請參見<a href="/delivery-system/delivery-system-api-git-overview.html">Git概述</a>文檔。</p>
    
    <aside class="bcls-aside bcls-aside--warning">播放器存儲庫應視為<strong>只讀</strong> .這些存儲庫的內容完全由 Player Management API 管理。切勿直接對存儲庫進行自定義添加和編輯。每當重新發布玩家或進行內部升級時，此類更改都會被刪除，這可能隨時發生。如果您需要為字幕、字體或插件添加文件，您應該為它們創建一個新的存儲庫。</aside>
    
    <p>您將首先克隆一個播放器存儲庫。將在您發布遊戲的目錄中以玩家ID的名稱創建一個目錄。<code translate="No">git clone</code>命令。</p>
    
    <ol class="bcls-tasklist">
      <li>打開終端/命令提示符，然後導航到要在其中創建文件夾的位置。</li>
      <li>接下來，以以下形式為播放器回購創建URL：
      <pre class="line-numbers">
      <code class="language-http" translate="No">https://repos.api.brightcove.com/v1/accounts/<span class="bcls-input">ACCOUNT_ID</span>/repos/<span class="bcls-input">PLAYER_ID</span>_default</code></pre>
    
      <p>例子：</p>
    
      <pre class="line-numbers">
      <code class="language-http" translate="No">https://repos.api.brightcove.com/v1/accounts/1507807800001/repos/0d92f482-49d9-44e6-ba1d-e2360dab838a_default</code></pre>
      </li>
      <li>在命令提示符下，創建或移動到要在其中克隆播放器存儲庫的目錄。</li>
      <li>進入該目錄後，輸入以下git命令以克隆玩家存儲庫，替換您自己的帳戶和玩家ID：
      <pre class="line-numbers">
      <code class="language-git">git clone https://repos.api.brightcove.com/v1/accounts/1507807800001/repos/0d92f482-49d9-44e6-ba1d-e2360dab838a_default</code></pre>
      然後按回車/ Enter。</li>
      <li>在響應中，您應該看到類似以下內容：
      <pre class="line-numbers">
      <code class="language-git">克隆到 '0d92f482-49d9-44e6-ba1d-e2360dab838a_default'... 遠程：計數對象：39，完成。偏僻的：壓縮對象：100% (31/31)，完成。偏僻的：總計 39 (delta 13)，重複使用 0 (delta 0) 拆包對象：100% (39/39)，完成。檢查連通性...完成。</code></pre>
      </li>
      <li>在命令行（或在文件管理器中）中，找到克隆的播放器目錄，以確保將其克隆到所需的位置；它的名稱如下：
      <pre class="line-numbers">
      <code class="language-bash" translate="No"><span class="bcls-highlight">{player_id}</span>_default</code></pre>
      </li>
      <li>在命令行上，將目錄更改為上一步中找到的克隆的播放器存儲庫目錄。</li>
      <li>輸入命令：
      <pre class="line-numbers">
      <code class="language-git">git日誌</code></pre>
      然後按回車/ Enter。</li>
      <li>您應該會看到類似於以下內容的響應：
      <pre class="line-numbers">
      <code class="language-git">提交 b4ed1c2e3d429cc41b704fd44bebdc31f661a95c 作者：bc86ece6-b3dd-4d78-a67d-93b503dc1c2e &lt;mboles@brightcove.com&gt; 日期：2015 年 2 月 26 日星期四 16:29:43 +0000 玩家發布請求提交 6c854213b2b2597225c36212dc8be545fcf2c104 作者：bc86ece6-b3dd-4d78-a67d-913cco@b502015 年 2 月 26 日星期四 16:28:13 +0000 玩家發布請求提交 7f78d49cb678259351f83a94e655f88607de077f 作者：6b112bd1-987c-41a2-84ac-f9dd8302b567 &lt;mboles@brightcove.com&gt; 日期：2015 年 2 月 23 日星期一 18:36:49 +0000 玩家創建</code></pre>
      </li>
      <li>提交 ID 將用於獲取更詳細的信息。有關更多詳細信息，請參閱提交信息。</li>
    </ol>
    </section>
    
    <section id="commitinformation" class="bcls-section">
    <h2>提交信息</h2>
    
    <p>以下內容可用於收集有關玩家提交的不同信息。當然，您將需要替換您的特定提交ID，如上一節所示，可以從玩家歷史記錄響應中獲取這些ID。</p>
    
    <ul>
      <li>顯示有關單個提交的詳細信息（發布請求）
      <pre class="line-numbers">
      <code class="language-git">git show e6e14ecda8e7790bf7d91e5e794507e776eef770</code></pre>
      </li>
      <li>顯示提交之間的差異（發布請求）
      <pre class="line-numbers">
      <code class="language-git">git diff e6e14ecda8e7790bf7d91e5e794507e776eef770 64a28431b3727d798510343caacb263c2829572d</code></pre>
      </li>
      <li>顯示每次提交中更改了哪些文件
      <pre class="line-numbers">
      <code class="language-git">git log --name-status</code></pre>
      </li>
    </ul>
    </section>
    </article>
   