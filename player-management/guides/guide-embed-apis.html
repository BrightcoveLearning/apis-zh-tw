---
title: '嵌入 API'
description: '<p>本主題將幫助您決定何時以及如何使用 Embed API。在使用播放器配置 API 還是嵌入 API 之間做出選擇是一個重要的決定，本文檔中的內容將指導您做出這些決定。</p>
<aside class="bcls-aside bcls-aside--information">本指南中的 curl 語句建立在<a href="/player-management/getting-started/step-step-player-management.html">快速開始：球員管理</a>。在完成玩家管理的快速入門後閱讀本指南，您可以看到對子玩家所做的更改，更重要的是從父玩家繼承的功能。</aside>'
parent: Guides 
grandparent: Player Management API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="whatisembed">為什麼要使用嵌入 API？</h2>
    
    <p>嵌入 API 允許您創建特定播放器的多個實例。認為此玩家/實例關係的一種好方法是作為父/子關係。單個播放器是父播放器，使用嵌入 API 創建的播放器是父播放器的子播放器。父玩家擁有您希望玩家擁有的大部分屬性，然後您可以使用嵌入 API 來自定義不同子玩家的屬性子集。例如，您可以加載不同的媒體，或對不同的子播放器使用不同的插件和样式。</p>
    
    <p>下圖有助於闡明功能。父母的下方顯示在左側，兩個孩子的播放器在右側。注意：</p>
    
    <ul>
      <li>海報由兩個孩子繼承</li>
      <li>播放按鈕的形狀由頂級孩子繼承，而在底部孩子中被覆蓋</li>
      <li>頂級孩子添加了一個屬性，在這種情況下是一個覆蓋層，父級沒有</li>
    </ul>
    
    <figure class="bcls-figure"><img class="bcls-image" alt="Child Adds Property" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/player-management-api/guides/embeds/embeds-api-guide-parent-child-1.png" />
    <figcaption class="bcls-caption--image">孩子增加財產</figcaption>
    </figure>
    
    <p>父/子關係的另一個強大功能是繼承正在進行中。下圖顯示了分配給父級的新海報，兩個子級都將繼承該配置更改。</p>
    
    <figure class="bcls-figure"><img class="bcls-image" alt="Children Inherit Changes" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/player-management-api/guides/embeds/embeds-api-guide-parent-child-2.png" />
    <figcaption class="bcls-caption--image">孩子們繼承變化</figcaption>
    </figure>
    
    <aside class="bcls-aside bcls-aside--information">筆記：默認情況下，每個父級玩家最多只能有50名子級玩家。如果您有更多用例，請聯繫支持人員並與他們討論情況。</aside>
    </section>
    
    <section id="When_not_to_use" class="bcls-section">
    <h2>何時不使用嵌入 API</h2>
    
    <p>如果您的用例需要，有一些很好的理由使用嵌入 API，但也有一些很好的理由堅持使用常規玩家。這裡有一些：</p>
    
    <ul>
      <li>子播放器無法使用Video Cloud Studio進行編輯。您只能通過播放器管理 API 編輯子播放器。您可以在 Video Cloud Studio 中編輯子播放器的父播放器，但是對父播放器所做的更改會影響所有子播放器。</li>
      <li>如果您有許多與該父播放器相關聯的子播放器，則發布父播放器可能會花費很長時間。每個子播放器都是單獨發布的，並且如果您有30個以上的子播放器，則您的子播放器發布可能會有所延遲。這與同時發布 30 名普通玩家完全相同。</li>
    </ul>
    
    <p>鑑於上述原因，從使用常規玩家開始，然後在您發現需要兒童玩家時嘗試嵌入遊戲可能是有意義的。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="video_tag_data-embed">視頻標籤數據嵌入</h2>
    
    <p>父子玩家存在符號差異。標準頁內嵌入播放器代碼以這種格式顯示：</p>
    
    <pre class="line-numbers">
    <code class="language-html" translate="No">&lt;video-js
      data-account="1507807800001"
      data-player="HiAdwRZ7kK"
      <span class="bcls-highlight">data-embed="default"</span>
      controls=""
      data-application-id=""
      class="vjs-fluid"&gt;&lt;/video-js&gt;</code></pre>
    
    <p>這<code translate="No">data-embed</code>屬性確定玩家是父母還是孩子。如果值為<code translate="No">default</code>，玩家是父母。如果玩家是小孩，<code translate="No">data-embed</code>屬性將包含父級播放器的ID。一個例子如下：</p>
    
    <p>這<code translate="No">data-embed</code>屬性確定玩家是父母還是孩子。如果值為<code translate="No">default</code>，玩家是父母。如果玩家是小孩，<code translate="No">data-embed</code>屬性將包含父級播放器的ID。一個例子如下：</p>
    
    <pre class="line-numbers">
    <code class="language-html" translate="No">&lt;video-js
      data-account="1507807800001"
      data-player="HiAdwRZ7kK"
      <span class="bcls-highlight">data-embed="NURK56ZSV"</span>
      data-application-id=""
      class="video-js" controls&gt;&lt;/video-js&gt;</code></pre>
    
    <p>請注意<code translate="No">data-player</code>，即玩家ID相同，但<code translate="No">data-embed</code>已從<code translate="No">default</code>到兒童玩家的ID。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="notation">子播放器網址</h2>
    
    <p>您如何區分父級玩家和子級玩家？網址會有所不同。例如，父播放器的URL為：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">//players.brightcove.net/1507807800001/HiAdwRZ7kK<span class="bcls-highlight">_default</span>/index.min.js</code></pre>
    
    <p>使用嵌入的API創建子播放器後，該子播放器的ID添加到了父URL中，如下所示：</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">//players.brightcove.net/1507807800001/HiAdwRZ7kK<span class="bcls-highlight">_NURK56ZSV</span>/index.min.js</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="why">父母/孩子用例</h2>
    
    <p>假設您使用多個視頻播放器。通常，播放器的共同特徵幾乎是相同的，但是在某些情況下，您需要針對特殊情況對播放器進行調整。您可以使用播放器配置 API 創建多個播放器<code translate="No">POST</code>和<code translate="No">PATCH</code>方法，但這可能會導致重大的維護問題。例如，假設您想為所有玩家更改海報。這意味著使用<code translate="No">PATCH</code>在所有不同的球員。而如果你創建了子玩家，你只會<code translate="No">PATCH</code>父玩家和所有子玩家將自動擁有新海報。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="creationprocess">創作過程</h2>
    
    <p>如果您已完成<a href="/player-management/getting-started/step-step-player-management.html">一步步：球員管理</a>您已經看到了使用curl語句將HTTP方法傳遞給Player Management API的過程。這裡將使用相同的方法。</p>
    
    <p>要創建播放器，您很可能在播放器配置 API 中使用了一些 HTTP 方法，例如：</p>
    
    <ul>
      <li>使用 a 創建播放器<code translate="No">POST</code>到 <em>https://players.api.brightcove.com/v2/accounts/ {account_id} /玩家</em></li>
      <li>使用 a 更新播放器<code translate="No">PATCH</code>到 <em>https://players.api.brightcove.com/v2/accounts/ {account_id} /玩家/ {player_id} /配置</em></li>
      <li>使用 a 發布更新的播放器<code translate="No">POST</code>到 <em>https://players.api.brightcove.com/v2/accounts/ {account_id} /玩家/ {player_id} /發布</em></li>
    </ul>
    
    <p>類似的方法將用於使用嵌入API的子級播放器。在很高的級別上，您將：</p>
    
    <ul>
      <li>使用<code translate="No">POST</code>到 <em>https://players.api.brightcove.com/v2/accounts/ {account_id} /玩家/ {player_id} / <strong>嵌入</strong></em>.筆記：使用嵌入API創建的子級播放器會在創建時自行發布，因此無需在子級播放器創建時進行發布，而僅在子級播放器更新時進行發布。</li>
      <li>使用一個更新子播放器<code translate="No">PATCH</code>到 <em>https://players.api.brightcove.com/v2/accounts/ {account_id} /玩家/ {player_id} / <strong>嵌入/$EMBED_ID/配置</strong></em></li>
      <li>使用 a 發布子播放器<code translate="No">POST</code>到 <em>https://players.api.brightcove.com/v2/accounts/ {account_id} /玩家/ {player_id} / <strong>嵌入/$EMBED_ID/發布</strong></em></li>
    </ul>
    
    <p>下面的內容詳細描述了這個過程。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="createembed">創建子玩家</h2>
    
    <p>要創建子播放器，您可以使用 HTTP <code translate="No">POST</code>方法，如下圖所示：</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl /
    --header "Content-Type: application/json" /
    --user $EMAIL /
    --request POST /
    --data '{
    "media": {
    "sources": [
      {
        "src":"http://solutions.brightcove.com/bcls/assets/videos/BirdsOfAFeather.mp4",
        "type":"video/mp4"
      }
    ],
    "poster": {
      "highres":"http://solutions.brightcove.com/bcls/assets/images/BirdsOfAFeather.jpg"
    }
    }
      }' /
    https://players.api.brightcove.com/v2/accounts/{account_id}/players/$PLAYER_ID/embeds</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="255-272"></code></p> -->
    
    <p>對創建子播放器的示例響應如下：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "id": "be864624-8d85-4dfc-8fe6-4e9dd4c70417",
        "url": "http://players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html",
        "embed_code": "&lt;iframe src='//players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;",
        "embed_in_page": "http://players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/in_page.embed",
        "preview_url": "http://preview-players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c/be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html",
        "preview_embed_code": "&lt;iframe src='//preview-players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c/be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;"
    }</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="322-329"></code></p> -->
    
    <p class="BCL-aside">筆記：子播放器在創建時自行發布，因此無需在創建後發布子播放器。如果它被更改，您仍然必鬚髮布子播放器<code translate="No">PATCH</code>方法。此時，預覽信息無濟於事，因為您可以在創建後立即使用已發布的子播放器。</p>
    
    <p>您現在可以使用<code translate="No">url</code>從子播放器屬性查看結果。在下面的示例中，將子播放器添加到了分步創建的父播放器中：球員管理。您會看到新的海報和視頻，但來自父播放器的覆蓋插件仍然存在。</p>
    
    <figure class="bcls-figure"><img class="bcls-image" alt="Child Player with Parent's Overlay" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/player-management-api/guides/embeds/embed-guide-robin.png" />
    <figcaption class="bcls-caption--image">兒童遊戲與父母的疊加</figcaption>
    </figure>
    </section>
    
    <section class="bcls-section">
    <h2 id="updateembed">更新子播放器</h2>
    
    <p>要更新您使用 HTTP 的子播放器<code translate="No">PATCH</code>方法。以下 curl 語句更新了<code translate="No">poster</code>財產。假設您已經設置了<code translate="No">$EMBED_ID</code>適當的環境變量：</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl
    --header "Content-Type: application/json"
    --user $EMAIL
    --request PATCH
    --data '{
    "media": {
    "poster": {
      "highres":"http://solutions.brightcove.com/bcls/assets/images/Water-Splashing.jpg"
    }
    }
      }'
    https://players.api.brightcove.com/v2/accounts/{account_id}/players/$PLAYER_ID/embeds/$EMBED_ID/configuration
    </code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="336-347"></code></p> -->
    
    <p>響應提供了兩個的預覽信息<code translate="No">preview_url</code>和<code translate="No">preview_embed_code</code>代碼：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "preview_url": "http://preview-players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c/be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html",
        "preview_embed_code": "&lt;iframe src='//preview-players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c/be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;"
    }</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="350-353"></code></p> --></section>
    
    <section class="bcls-section">
    <h2 id="publishembed">發布子玩家</h2>
    
    <p>子播放器更改後，您將需要發布它。確保<code translate="No">$EMBED_ID</code>設置了環境變量，然後可以發布新更改的子播放器：</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl
    --header "Content-Type: application/json"
    --user $EMAIL
    --request POST
    https://players.api.brightcove.com/v2/accounts/{account_id}/players/$PLAYER_ID/embeds/$EMBED_ID/publish</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="281-285"></code></p> -->
    
    <p>響應提供了使用子播放器所需的重要信息，就像發布播放器一樣：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "id": "be864624-8d85-4dfc-8fe6-4e9dd4c70417",
        "url": "http://players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html",
        "embed_code": "&lt;iframe src='//players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;",
        "embed_in_page": "http://players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/in_page.embed"
    }</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="357-362"></code></p> --></section>
    
    <section class="bcls-section">
    <h2 id="displayembed">顯示孩子信息</h2>
    
    <p>您可以使用 HTTP <code translate="No">GET</code>方法來檢索有關子玩家的信息。curl語句的示例是：</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl
      --header "Content-Type: application/json"
      --user $EMAIL
      --request GET
      https://players.api.brightcove.com/v2/accounts/{account_id}/players/$PLAYER_ID/embeds</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="297-310"></code></p> --></section>
    
    <p>返回相當大量的JSON數據。</p>
    
    <section class="bcls-section">
    <h2 id="deletingembeds">刪除子玩家</h2>
    
    <p>您還可以使用<code translate="No">DELETE</code>方法。這是刪除子播放器的示例curl語句：</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl
    --header "Content-Type: application/json"
    --user $EMAIL
    --request DELETE
    https://players.api.brightcove.com/v2/accounts/{account_id}/players/$PLAYER_ID/embeds/$EMBED_ID</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="314-318"></code></p> -->
    
    <p>當然，這只會影響子級播放器，而不會影響父級播放器。</p>
    </section>