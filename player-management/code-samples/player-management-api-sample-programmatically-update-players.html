---
title: '以編程方式更新播放器'
description: '在本主題中，您將了解如何使用 Player Management API 以編程方式更新多個播放器。'
parent: Code Samples 
grandparent: Player Management API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Introduction">介紹</h2>
    
    <p>在此示例中，沒有任何要交互的內容。使用播放器管理 API，提供的代碼使用 HTTP 更新過濾後的播放器集<code translate="No">PATCH</code>方法，然後自動發布更新的播放器。</p>
    
    <p>與所有API樣本一樣，強烈建議您先研究<a href="/getting-started/learning-guide-using-rest-apis.html">學習指南：使用 REST API</a>為構建更多 REST API 知識提供基礎。</p>
    
    <p>提供 CodePen 作為查看文檔後面討論的代碼的方式。</p>
    
    <p data-height="644" data-theme-id="34967" data-slug-hash="QJgjmy" data-default-tab="js" data-user="rcrooks1969" data-pen-title="18693-player-management-api-sample-programmatically-update-players" class="codepen">看筆<a href="https://codepen.io/team/rcrooks1969/pen/QJgjmy/">18693-player-management-api-sample-programmatically-update-players</a>通過 Brightcove 學習服務 ( <a href="https://codepen.io/rcrooks1969"> @rcooks1969</a>） 在<a href="https://codepen.io">代碼筆</a> .</p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script></section>
    <!-- UPDATE application flow -->
    
    <section class="bcls-section">
    <h2 id="Application_flow">申請流程</h2>
    
    <p>此應用程序背後的基本邏輯是：</p>
    
    <ul>
      <li>從指定的帳戶中檢索所有玩家，然後根據您想要更新的玩家篩選玩家組。</li>
      <li>使用過濾後的玩家ID來構建一個數組。</li>
      <li>在篩選出的一組播放器上定義所需的更新，並要求相應地更新每個播放器。</li>
      <li>發布每個更新的播放器。</li>
    </ul>
    
    <aside class="bcls-aside bcls-aside--information">這<code translate="No">makeRequest</code>函數是標準代碼，在使用 Brightcove REST API 的過程中很少需要修改。因此，本文檔中未對此進行討論，但是在本文檔中對此進行了詳細說明。<a href="/getting-started/learning-guide-using-rest-apis.html">學習指南：使用 REST API</a>文檔。</aside>
    <!-- UPDATE task 1 -->
    
    <h3>檢索一組經過過濾的玩家，並建立其ID的數組</h3>
    
    <p>找到標有以下代碼的代碼：</p>
    
    <pre>
    <code class="language-javascript" translate="No">// +++ Configure the request to get players and extract their IDs +++</code></pre>
    
    <p>定義了傳遞給代理以從指定帳戶獲取所有玩家的選項後，JavaScript的數組<code translate="No">filter</code>該功能與自定義一起使用<code translate="No">filter_players</code>功能過濾播放器設置。然後遍歷過濾後的集合併將它們的 ID 推送到另一個數組中。最後，您調用請求進行更新的函數。</p>
    <!-- UPDATE task 2 -->
    
    <h3>要求對篩選出的玩家進行更新</h3>
    
    <p>找到標有以下代碼的代碼：</p>
    
    <pre>
    <code class="language-javascript" translate="No">// +++ Configure the request to update filtered players +++</code></pre>
    
    <p>在裡面<code translate="No">options</code>對象，您可以定義傳遞給代理所需的選項。請注意，這包括<code translate="No">requestBody</code>，它定義了您希望對過濾後的一組玩家進行的實際更改。您必須循環遍歷<code translate="No">playerIDsAra</code>並提出請求。請注意，該函數是遞歸調用的。最後，您調用要求發布播放器的函數。</p>
    <!-- UPDATE task 3 -->
    
    <h3>要求發布更新的播放器</h3>
    
    <p>找到標有以下代碼的代碼：</p>
    
    <pre>
    <code class="language-javascript" translate="No"> // +++ Configure the request to publish updated players +++</code></pre>
    
    <p>再次在這裡循環<code translate="No">playerIDsAra</code>數組並請求發布播放器。如果不在數組末尾，則以遞歸方式調用該函數。</p>
    
    <p>您可以從本文檔的相應 GitHub 存儲庫中查看應用程序的 JavaScript 代碼：<a href="https://github.com/BrightcoveLearning/18693-player-management-api-sample-programmatically-update-players/blob/master/index.html"> liveCustomError.js18693-player-management-api-sample-programmatically-update-players</a> .</p>
    </section>
    </article>
 