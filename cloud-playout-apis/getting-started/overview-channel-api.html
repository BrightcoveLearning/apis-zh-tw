---
title: '概述：渠道 API'
description: '使用頻道管理器端點，您可以創建 Cloud Playout 頻道，將資產和直播事件添加到播放列表，然後激活、啟動、停止和刪除頻道。'
parent: Getting Started 
grandparent: Cloud Playout APIs
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="requirements">要求</h2>
    <ul>
      <li>在 video-cloud 中啟用了 Cloud Playout API 身份驗證範圍的註冊應用程序。( <code> Studio UI -&gt; 管理 -&gt; API 認證</code> )</li>
    </ul>
    <aside class="bcls-aside bcls-aside--information language-editable">請注意，除了 Cloud Playout 頻道操作之外，您還需要使用 CMS API 來管理該內容，因此我們建議您為您的客戶端憑據獲取所有必要的權限：
      <figure class="bcls-figure">
        <img class="bcls-image" src="/assets/images/cloud-playout/permissions-channel-api.png" alt="Cloud Player and CMS API Permissions">
        <figcaption class="bcls-caption--image">雲播放器和 CMS API 權限</figcaption>
      </figure>
      <p>看<a href="/getting-started/authentication-brightcove-api-requests.html">Brightcove API 身份驗證以獲取更多信息。</a></p>
    </aside>
  </section>
  <section class="bcls-section">
    <h2 id="creating-a-cloudplayoutchannelmanager-workflow">創建 CloudPlayoutChannelManager 工作流</h2>
    <p>以下是典型的 Cloud Playout 頻道管理工作流程：</p>
    <ul>
    <li>創建頻道</li>
    <li>將資產和現場活動添加到播放列表</li>
    <li>激活頻道</li>
    <li>啟動頻道</li>
    <li>停止頻道</li>
    <li>刪除頻道</li>
    </ul>
    <p>除了這些，<strong>獲取頻道</strong>有助於檢查頻道信息和頻道狀態。</p>
    </section>
    <section class="bcls-section">
      <h2 id="create-channel">創建頻道</h2>
      <p>要創建頻道，我們需要必需的屬性，例如頻道名稱、開始時間、輸入和輸出組、區域和 live_profile。DateTime 值首選 ISO 8601 日期格式（UTC 或時間偏移）。</p>
    <h3>樣品請求</h3>
    <h4>要求</h4>
    <p>做一個<code translate="No">POST</code>請求：</p>
<pre><code class="language-http" translate="No">https://cm.cloudplayout.brightcove.com/accounts/<span class="bc-input">{account_id}</span>/cp_channels</code></pre>
    <h4>標頭</h4>
<pre class="line-numbers"><code class="language-bash" translate="No">Content-Type: application/json
Authorization: Bearer <span class="bc-input">{token}</span></code></pre>
    <h4>要求正文</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "name": "channel name",
  "start_time": "2021-06-29T08:30:50.344Z",
  "input_group": [
    {
      "input_type": "playlist or rtmp or slate",
      "input_id": "dummy",
      "loop_on_completion": false
    }
  ],
  "live_profile": "your live profile",
  "output_group": [
    {
      "type": "rtmp or rtp",
      "ingest_locations": [
        {
          "pipeline_id": 1,
          "location": "bc_live or any live channel from your account"
        }
      ]
    },
    {
      "type": "s3",
      "ingest_locations": [
        {
          "pipeline_id": 1,
          "location": "s3 credential id"
        }
      ]
    }
  ],
  "region": "aws region"
}</code></pre>
<details>
  <summary>樣本響應</summary>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "public_id": "79f0e7503fd64af3b7d2b0f825100f28",
  "name": "channel name",
  "description": "",
  "account_id": "Your account id",
  "state": "DRAFT",
  "status": null,
  "start_time": "2021-06-29 08:30:50 UTC",
  "stop_time": null,
  "input_groups": "playlist",
  "output_groups": "rtmp:s3",
  "loop_playlist": false,
  "playlist_id": "1703814612527248093",
  "channel_class": "single-pipeline",
  "ssai_enabled": true,
  "aws_region": "aws region",
  "message": null,
  "created_at": "2021-06-28 12:43:55 UTC",
  "updated_at": "2021-06-28 12:43:55 UTC",
  "image_url": "https://bc-cloudplayout-prod.s3.amazonaws.com/default_channel_image.png",
  "output_destinations": [
    "Brightcove Live"
  ],
  "channel_created_at": "2021-06-28 12:43:55 UTC",
  "channel_updated_at": "2021-06-28 12:43:55 UTC",
  "channel_created_by": "username@brightcove.com",
  "channel_updated_by": "username@brightcove.com"
}</code></pre>
</details>
<p>除了必填字段外，還有一些字段可以設置為<code translate="No">description</code> , <code translate="No">stop_time</code> , <code translate="No">ssai_enabled</code> , <code translate="No">image_id</code> , <code translate="No">mid_roll_import_enabled</code> , <code translate="No">mid_roll_slot_time</code>， 等等。請參考示例<a href="/cloud-playout-apis/references/reference-channels.html">通道 API 參考</a>用於創建具有不同配置的通道。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Add_content">將內容添加到播放列表</h2>
    <p>下一步是向頻道內容添加內容。為此，您將使用<a href="/cloud-playout-apis/references/reference-cms-interactions.html">內容管理系統 API</a>（請注意，這是整個的縮寫版本<a href="/cms/references/reference.html">CMS API 參考</a>僅包括與 Cloud Playout 相關的操作以及更適合 Cloud Playout 的描述）。</p>
    <p>獲取頻道的 playlist_id（從對創建頻道請求的響應或從獲取頻道請求）。這是我們管理 Cloud Playout 頻道資產的播放列表。</p>
    <h3>樣品請求</h3>
    <h4>要求</h4>
    <p>更新視頻請求用於添加內容。在下面的示例中，添加了一組視頻 ID 以創建手動播放列表，但請注意，您還可以根據視頻標籤等創建智能播放列表。</p>
    <p>做一個<code translate="No">PATCH</code>請求：</p>
<pre><code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/<span class="bc-input">{account_id}</span>/playlists/<span class="bc-input">{playlist_id}</span></code></pre>
    <h4>標頭</h4>
<pre class="line-numbers"><code class="language-bash" translate="No">Content-Type: application/json
Authorization: Bearer <span class="bc-input">{token}</span></code></pre>
    <h4>要求正文</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "video_ids": [
    "70702887566202",
    "70702887586202",
    "70702260704202",
    "70702260706202"
  ]
}</code></pre>
    <details>
      <summary>樣本響應</summary>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "id": "1701632459864392160",
  "account_id": "Your account id",
  "created_at": "2021-06-04T10:39:32.934Z",
  "updated_at": "2021-06-04T12:29:06.793Z",
  "description": "cloudplayout",
  "favorite": false,
  "name": "cloudplayout_dvfdb",
  "reference_id": null,
  "type": "EXPLICIT",
  "video_ids": [
    "70702887566202",
    "70702887586202",
    "70702260704202",
    "70702260706202"
  ],
  "state": "READY"
}</code></pre>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="add_live_event">添加直播活動</h2>
    <p>要將直播事件添加到頻道，您需要創建一個<strong>創建視頻</strong>向 CMS API 發出請求，注意包含一些特殊標籤，以將其標識為 Cloud Playout 直播事件。</p>
    <h3>樣品請求</h3>
    <h4>要求</h4>
    <p>做一個<code translate="No">POST</code>請求：</p>
<pre><code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/<span class="bc-input">{account_id}</span>/videos</code></pre>
    <h4>標頭</h4>
<pre class="line-numbers"><code class="language-bash" translate="No">Content-Type: application/json
Authorization: Bearer <span class="bc-input">{token}</span></code></pre>
    <h4>要求正文</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "name": "Name of the event",
  <span class="bc-highlight">
    "tags": [
      "cp-live-placeholder",
      "duration-00:40:00"
    ]
  </span>,
  "description": "Description of the event"
}</code></pre>
    <details>
      <summary>樣本響應</summary>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "id": "70702834583294",
  "account_id": "Your account id",
  "ad_keys": null,
  "clip_source_video_id": null,
  "complete": false,
  "created_at": "2021-06-04T11:00:48.551Z",
  "created_by": {
    "type": "user",
    "id": "76072843583",
    "email": "username@brightcove.com"
  },
  "cue_points": [
  ],
  "custom_fields": {
  },
  "delivery_type": "unknown",
  "description": "test description",
  "digital_master_id": null,
  "duration": null,
  "economics": "AD_SUPPORTED",
  "folder_id": null,
  "geo": null,
  "has_digital_master": false,
  "images": {
  },
  "link": null,
  "long_description": null,
  "name": "test live event",
  "original_filename": null,
  "projection": null,
  "published_at": "2021-06-04T11:00:48.565Z",
  "reference_id": null,
  "schedule": null,
  "sharing": null,
  "state": "ACTIVE",
  "tags": [
    "cp-live-placeholder",
    "duration-00:05:00"
  ],
  "text_tracks": [
  ],
  "updated_at": "2021-06-04T11:00:48.572Z",
  "updated_by": {
    "type": "user",
    "id": "76076294383",
    "email": "username@brightcove.com"
  },
  "playback_rights_id": "primary"
}</code></pre>
</details>
    <p>請參考<a href="/cloud-playout-apis/references/reference-cms-interactions.html">Cloud Playout 的 CMS API 參考</a>有關在 Cloud Playout 中管理資產的更多示例。</p>
  </section>
  <section class="bcls-section">
    <h2 id="get-channel">獲取頻道</h2>
    <p>我們可以使用這個端點來檢查通道的詳細信息和通道的狀態。</p>
    <h3>樣品請求</h3>
    <h4>要求</h4>
    <p>做一個<code translate="No">GET</code>請求：</p>
<pre><code class="language-http" translate="No">https://cm.cloudplayout.brightcove.com/accounts/<span class="bc-input">{account_id}</span>/cp_channels/<span class="bc-input">{channel_id}</span></code></pre>
    <h4>標頭</h4>
<pre class="line-numbers"><code class="language-bash" translate="No">Content-Type: application/json
Authorization: Bearer <span class="bc-input">{token}</span></code></pre>
    <details>
      <summary>樣本響應</summary>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "public_id": "channel id",
  "name": "channel name",
  "description": "Channel created for testing Cloud Playout",
  "account_id": "Your account id",
  "state": "DRAFT",
  "status": null,
  "start_time": "2020-12-17 06:00:00 UTC",
  "stop_time": "2020-12-17 07:00:00 UTC",
  "input_groups": "playlist",
  "output_groups": "rtmp",
  "loop_playlist": true,
  "playlist_id": "1686204667297382886",
  "channel_class": "single-pipeline",
  "ssai_enabled": false,
  "aws_region": "us-east-1",
  "message": null,
  "created_at": "2020-12-16 03:41:22 UTC",
  "updated_at": "2020-12-17 04:53:30 UTC",
  "image_url": "https://bc-cloudplayout-prod.s3.amazonaws.com/default_channel_image.png",
  "output_destinations": [
    "Brightcove Live"
  ],
  "channel_created_at": "2020-12-16 03:41:22 UTC",
  "channel_updated_at": "2020-12-17 04:53:30 UTC",
  "channel_created_by": "username@brightcove.com",
  "channel_updated_by": "username@brightcove.com",
  "live_profile": {
    "display_name": "Standard Live HD 720p - Tier 1",
    "name": "standard-live-hd-720p-tier-1",
    "date_created": "2018-06-04 18:16:44 UTC",
    "date_modified": "2018-06-04 18:16:44 UTC"
  },
  "channel_data": {
    "input_group": [
      {
        "input_type": "playlist",
        "value": "cloudplayout_testChannel",
        "description": "Playlist created for Cloud Playout",
        "public_id": "1686204667297382886"
      }
    ],
    "output_groups": [
      {
        "type": "rtmp",
        "location": "bc_live",
        "destination": "Brightcove Live"
      }
    ]
  }
}</code></pre>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="activate-channel">激活頻道</h2>
      <aside class="bcls-aside bcls-aside--warning language-editable">注意：在激活頻道之前，請確保至少有一項內容資產添加到頻道播放列表中！</aside>
      <p>通過發出以下請求激活頻道。不需要請求正文。</p>
      <h3>樣品請求</h3>
      <h4>要求</h4>
      <p>做一個<code translate="No">POST</code>請求：</p>
  <pre><code class="language-http" translate="No">https://cm.cloudplayout.brightcove.com/accounts/<span class="bc-input">{account_id}</span>/cp_channels/<span class="bc-input">{channel_id}</span>/create</code></pre>
      <h4>標頭</h4>
  <pre class="line-numbers"><code class="language-bash" translate="No">Content-Type: application/json
  Authorization: Bearer <span class="bc-input">{token}</span></code></pre>
      <details>
        <summary>樣本響應</summary>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "message":"Channel activation initiated"
}</code></pre>
      </details>
      <p>要檢查通道的狀態，請參閱<a href="#get-channel">獲取頻道部分</a>以上。</p>
    </section>
  <section class="bcls-section">
    <h2 id="start-channel">開啟頻道</h2>
      <aside class="bcls-aside bcls-aside--warning language-editable">注意：確保頻道是<strong>已經激活</strong>並且在<strong>預定</strong>開始頻道前的狀態！</aside>
      <p>通過發出以下請求來啟動頻道。不需要請求正文。</p>
      <h3>樣品請求</h3>
      <h4>要求</h4>
      <p>做一個<code translate="No">POST</code>請求：</p>
  <pre><code class="language-http" translate="No">https://cm.cloudplayout.brightcove.com/accounts/<span class="bc-input">{account_id}</span>/cp_channels/<span class="bc-input">{channel_id}</span>/start</code></pre>
      <h4>標頭</h4>
  <pre class="line-numbers"><code class="language-bash" translate="No">Content-Type: application/json
  Authorization: Bearer <span class="bc-input">{token}</span></code></pre>
      <details>
        <summary>樣本響應</summary>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "message":"Channel start initiated"
}</code></pre>
      </details>
      <p>要檢查通道的狀態，請參閱<a href="#get-channel">獲取頻道部分</a>以上。</p>
    </section>
  <section class="bcls-section">
    <h2 id="stop-channel">停止頻道</h2>
      <aside class="bcls-aside bcls-aside--warning language-editable">注意：確保頻道在<strong>跑步</strong>停止頻道前的狀態！</aside>
      <p>通過發出以下請求來停止頻道。不需要請求正文。</p>
      <h3>樣品請求</h3>
      <h4>要求</h4>
      <p>做一個<code translate="No">POST</code>請求：</p>
  <pre><code class="language-http" translate="No">https://cm.cloudplayout.brightcove.com/accounts/<span class="bc-input">{account_id}</span>/cp_channels/<span class="bc-input">{channel_id}</span>/stop</code></pre>
      <h4>標頭</h4>
  <pre class="line-numbers"><code class="language-bash" translate="No">Content-Type: application/json
  Authorization: Bearer <span class="bc-input">{token}</span></code></pre>
      <details>
        <summary>樣本響應</summary>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "message":"Channel stop initiated"
}</code></pre>
      </details>
      <p>要檢查通道的狀態，請參閱<a href="#get-channel">獲取頻道部分</a>以上。一旦停止，通道將處於 DRAFT 狀態。</p>
    </section>
  <section class="bcls-section">
    <h2 id="delete-channel">刪除頻道</h2>
      <aside class="bcls-aside bcls-aside--warning language-editable">注意：確保頻道不在任何一個<strong>創建/啟動</strong>刪除頻道前的狀態！</aside>
      <p>通過發出以下請求刪除頻道。不需要請求正文。</p>
      <h3>樣品請求</h3>
      <h4>要求</h4>
      <p>做一個<code translate="No">DELETE</code>請求：</p>
  <pre><code class="language-http" translate="No">https://cm.cloudplayout.brightcove.com/accounts/<span class="bc-input">{account_id}</span>/cp_channels/<span class="bc-input">{channel_id}</span></code></pre>
      <h4>標頭</h4>
  <pre class="line-numbers"><code class="language-bash" translate="No">Content-Type: application/json
  Authorization: Bearer <span class="bc-input">{token}</span></code></pre>
      <details>
        <summary>樣本響應</summary>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "message":"Delete initiated"
}</code></pre>
      </details>
      <p>要檢查通道的狀態，請參閱<a href="#get-channel">獲取頻道部分</a>以上。刪除頻道後，您不應再看到通過 id 請求獲取頻道的頻道信息。</p>
    </section>
</article>