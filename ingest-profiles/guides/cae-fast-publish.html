---
title: 'CAE快速發布'
description: '上下文感知編碼 (CAE) 可產生出色的再現，但分析源視頻會增加處理時間。如果盡快在線獲取新視頻是您的重中之重，本文檔中描述的快速發布選項可讓您快速發布視頻，同時仍能利用 CAE。'
parent: Guides 
grandparent: Ingest Profiles API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="introduction">介紹</h2>
    
    <p>快速發布允許您使用<a href="/dynamic-ingest/ingest-guides/context-aware-encoding.html">合格證書</a>並且仍然可以通過創建一個或多個可以立即播放的臨時字幕來使視頻盡快上線。以下條件適用：</p>
    
    <ul>
      <li>一旦有動態再現，就將使用它們而不是臨時再現來進行播放</li>
      <li>在處理完所有動態再現後的某個時間點，臨時再現將被自動刪除。</li>
    </ul>
    
    <section class="bcls-section">
    <h2 id="requirements">要求</h2>
    
    <p>為了使用快速發布，您必須：</p>
    
    <ol>
      <li>啟用了一個帳戶<a href="/dynamic-ingest/getting-started/overview-dynamic-ingest-api-dynamic-delivery.html">動態投放</a></li>
      <li>為該帳戶啟用<a href="/dynamic-ingest/ingest-guides/context-aware-encoding.html">合格證書</a></li>
      <li>使用以下命令創建自定義CAE接收配置文件<a href="/ingest-profiles/">提取配置文件API</a>（指示<a href="#create_fast_publish_profile">以下</a>）</li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="custom_profile_for_fast_publish">自定義配置文件，可快速發布</h2>
    
    <p>創建啟用了快速發布的自定義配置文件非常簡單。它看起來像常規的CAE配置文件，但有一個區別：除了<code translate="No">renditions</code>數組<code translate="No">dynamic_origin</code>對象將包含一個<code translate="No">temporary_renditions</code>包含一個或多個快速發布副本的數組。</p>
    
    <p>快速發布再現由名稱和<strong>必須</strong>來自下面的列表（下面的數字<strong>視頻或音頻</strong>是再現的目標比特率）。如果您願意，除了視頻再現之外，您還可以包含純音頻再現。</p>
    <!-- list is generated from scripts linked at bottom of page -->
    
    <ul id="renditionList">
    </ul>
    
    <p>由於快速發布的目的是使再現可用於盡快播放，因此對至少一個臨時再現使用中低比特率可能是有意義的。</p>
    
    <h3>創建自定義配置文件的步驟</h3>
    
    <p>以下是使用一個臨時副本創建自定義快速發布配置文件的步驟。在以下步驟中，我們將使用<a href="https://studio.support.brightcove.com/general/overview-digital-rights-management-drm-video-cloud.html#multi-platform-standard-dynamic"><code translate="No">multi-platform-standard-dynamic</code></a>標準配置文件作為自定義配置文件的基礎，但是您可以使用任何<strong>合格證書</strong>個人資料。</p>
    
    <aside class="bcls-aside bcls-aside--information">您可以使用以下過程創建任意數量的自定義配置文件，但我們建議您只創建您真正需要的數量，以避免混淆和用戶錯誤。</aside>
    
    <h4>獲取Ingest Profiles API的客戶端憑據</h4>
    
    <ol class="bcls-tasklist">
      <li>登錄Studio並轉到<a href="https://studio.brightcove.com/products/videocloud/admin/oauthsettings">API身份驗證部分</a>在管理員下（您必須是管理員或在帳戶上獲得管理員才能執行此操作）</li>
      <li>點擊<strong>註冊新申請</strong>創建一組新的客戶端憑據。</li>
      <li>選擇適當的帳戶和 <em>至少</em> 這些憑據的權限：
      <figure class="bcls-figure"><img class="bcls-image" alt="Ingestion Profiles Permissions" src="/assets/images/ingest-profiles/guides/ingest-profiles-permissions.png" />
      <figcaption class="bcls-caption--image">提取配置文件權限</figcaption>
      </figure>
      </li>
      <li>保存<strong>客戶編號</strong>和<strong>客戶機密</strong>因為您將在以後的步驟中需要它們。</li>
    </ol>
    
    <h4>為自定義配置文件創建JSON</h4>
    
    <ol class="bcls-tasklist">
      <li>複製下面的JSON（對於<strong>多平台標準動態</strong>個人資料）到文本編輯器中：
    
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
          "name": "multi-platform-standard-dynamic",
          "display_name": "Multiplatform Standard (CAE)",
          "description": "Deliver a wide range of content types across a variety of platforms on mobile and desktop.",
          "account_id": <span class="bcls-input">YOUR_ACCOUNT_ID</span>,
          "digital_master": {
            "rendition": "passthrough",
            "distribute": false
          },
          "renditions": [],
          "packages": [],
          "dynamic_origin": {
            "renditions": [
              "default/audio64",
              "default/audio128",
              "default/audio96"
            ],
            "images": [
              {
                "label": "thumbnail",
                "height": 90,
                "width": 160
              },
              {
                "label": "poster",
                "height": 720,
                "width": 1280
              }
            ],
            "dynamic_profile_options": {
              "min_renditions": 2,
              "max_renditions": 6,
              "min_resolution": {
                "width": 320,
                "height": 180
              },
              "max_resolution": {
                "width": 1280,
                "height": 720
              },
              "max_frame_rate": 30,
              "max_bitrate": 2400,
              "max_first_rendition_bitrate": 250,
              "keyframe_rate": 0.5,
              "select_baseline_profile_configuration": true
            }
          }
        }</code></pre>
      </li>
      <li>更改以下值：
      <ul>
        <li><code translate="No">name</code>：“多平台標準動態快速發布"</li>
        <li><code translate="No">display_name</code>："Fast Publish Standard (CAE)"</li>
        <li><code translate="No">account_id</code>："YOUR_ACCOUNT_ID"</li>
      </ul>
      </li>
      <li>之後<code translate="No">dynamic_origin&gt;renditions</code>數組，添加以下數組：
      <pre class="line-numbers">
    <code class="language-json" translate="No">"temporary_renditions": [
      {"name": "default/video450"},
      {"name": "default/video700"},
      {"name": "default/video900"}
    ]</code></pre>
      </li>
      <li>您的自定義配置文件的完整 JSON 現在應如下所示：
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "name": "multi-platform-standard-dynamic-fast-publish",
      "display_name": "Fast Publish Standard (CAE)",
      "description": "Deliver a wide range of content types across a variety of platforms on mobile and desktop.",
      "account_id": "<span class="bcls-input">account_id</span>",
      "digital_master": {
        "rendition": "passthrough",
        "distribute": false
      },
      "renditions": [],
      "packages": [],
      "dynamic_origin": {
        "renditions": [
          "default/audio64",
          "default/audio128",
          "default/audio96"
        ],
        "temporary_renditions": [
          {"name": "default/video450"},
          {"name": "default/video700"},
          {"name": "default/video900"}
        ],
        "images": [
          {
            "label": "thumbnail",
            "height": 90,
            "width": 160
          },
          {
            "label": "poster",
            "height": 720,
            "width": 1280
          }
        ],
        "dynamic_profile_options": {
          "min_renditions": 2,
          "max_renditions": 6,
          "min_resolution": {
            "width": 320,
            "height": 180
          },
          "max_resolution": {
            "width": 1280,
            "height": 720
          },
          "max_frame_rate": 30,
          "max_bitrate": 2400,
          "max_first_rendition_bitrate": 250,
          "keyframe_rate": 0.5,
          "select_baseline_profile_configuration": true
        }
      }
    }</code></pre>
      </li>
    </ol>
    
    <h4>將自定義配置文件添加到您的帳戶</h4>
    
    <p>現在，我們將使用Ingest Profiles API將自定義配置文件添加到您的帳戶。</p>
    
    <aside class="bcls-aside bcls-aside--information">您可以使用您通常使用的任何工具來發出 REST API 請求 - 如果您需要幫助進行設置，請參閱我們的使用指南<a href="/general/use-insomnia-api-requests.html">失眠</a> , <a href="/general/use-postman-api-requests.html">郵差</a>， 或者<a href="https://general.support.brightcove.com/developer/concepts-set-curl.html">捲曲</a> .</aside>
    
    <h5>獲取訪問令牌</h5>
    
    <p>每個API請求都需要使用訪問令牌進行身份驗證（您將在後面的步驟中確切地看到操作方式）。</p>
    
    <ol class="bcls-tasklist">
      <li>你需要<a href="/oauth/guides/getting-access-tokens.html">獲取訪問令牌</a>從：
    
      <pre>
    <code class="language-http" translate="No">https://oauth.brightcove.com/v4/access_token</code></pre>
      </li>
      <li>如果您正在使用<a href="/general/use-insomnia-api-requests.html">失眠</a>或者<a href="/general/use-postman-api-requests.html">郵差</a>，則可以使用鏈接文檔中的說明來設置OAuth2身份驗證，以使它們為您獲取訪問令牌。</li>
      <li>如果您使用的是cURL，則可以使用以下cURL命令獲取訪問令牌-您需要替換<code translate="No">ENCODED_AUTHENTICATION_STRING</code>使用Base64編碼的字符串，其中包含<code translate="No">client_id:client_secret:</code>
      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url 'https://oauth.brightcove.com/v4/access_token?grant_type=client_credentials' \
      --header 'Authorization: Basic <span class="bcls-input">ENCODED_AUTHENTICATION_STRING</span>' \
      --header 'Content-Type: application/x-www-form-urlencoded'</code></pre>
    
      <aside class="bcls-aside bcls-aside--information">您可以使用<a href="https://general.support.brightcove.com/utilities/base-64-encoding-tool.html">這個實用程序</a>獲取 Base64 編碼的身份驗證字符串。</aside>
      </li>
      <li>請注意，訪問令牌會在5分鐘後過期-如果發生這種情況，只需獲取一個新令牌（失眠會在需要時自動為您提供一個）。</li>
    </ol>
    
    <h5>添加自定義攝取配置文件</h5>
    
    <ol class="bcls-tasklist">
      <li>如果您正在使用<a href="/general/use-insomnia-api-requests.html">失眠</a>或者<a href="/general/use-postman-api-requests.html">郵差</a>，將新的POST請求設置為：
    
      <pre>
    <code class="language-http" translate="No">https://ingestion.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/profiles</code></pre>
    
      <p>請求正文將是您之前創建的自定義配置文件的 JSON。</p>
    
      <p>包括一個<code translate="No">Content-Type: application/json</code>標頭</p>
    
      <p>根據使用 Insomnia 或 Postman 的指南中的說明設置 OAuth2 身份驗證。</p>
      </li>
      <li>如果使用的是cURL，則可以使用以下請求，將account_id替換為自己的訪問令牌值：
      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles \
      --header 'authorization: Bearer <span class="bcls-input">YOUR_ACCESS_TOKEN</span>' \
      --header 'content-type: application/json' \
      --data '{
      "name": "multi-platform-standard-dynamic-fast-publish",
      "display_name": "Fast Publish Standard (CAE)",
      "description": "Deliver a wide range of content types across a variety of platforms on mobile and desktop.",
      "account_id": "<span class="bcls-input">YOUR_ACCOUNT_ID</span>",
      "digital_master": {
        "rendition": "passthrough",
        "distribute": false
      },
      "renditions": [],
      "packages": [],
      "dynamic_origin": {
        "renditions": [
          "default/audio64",
          "default/audio128",
          "default/audio96"
        ],
        "temporary_renditions": [
          {"name": "default/video450"},
          {"name": "default/video700"},
          {"name": "default/video900"}
        ],
        "images": [
          {
            "label": "thumbnail",
            "height": 90,
            "width": 160
          },
          {
            "label": "poster",
            "height": 720,
            "width": 1280
          }
        ],
        "dynamic_profile_options": {
          "min_renditions": 2,
          "max_renditions": 6,
          "min_resolution": {
            "width": 320,
            "height": 180
          },
          "max_resolution": {
            "width": 1280,
            "height": 720
          },
          "max_frame_rate": 30,
          "max_bitrate": 2400,
          "max_first_rendition_bitrate": 250,
          "keyframe_rate": 0.5,
          "select_baseline_profile_configuration": true
        }
      }
    }'</code></pre>
      </li>
      <li>發送請求後，您應該會在響應中看到您的新配置文件已回顯給您。</li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="notifications">通知 </h2>
    
    <p>創建快速發布臨時格式後，您將收到<code translate="No">DYNAMIC_RENDITION</code>“創建”通知就像您對常規再現所做的一樣：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "entity": "contextAwareEncoding5",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "CREATE",
      "jobId": "413a9938-6d73-478c-b4d9-fdeb45927a4b",
      "videoId": "5600255921001",
      "dynamicRenditionId": "contextAwareEncoding5",
      "bitrate": 364,
      "width": 512,
      "height": 384,
      "accountId": "1910141566001",
      "status": "SUCCESS"
    }
    </code></pre>
    
    <p>刪除臨時移交後，將發送新的通知：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "entity": "fastpublishRendition1",
      "entityType": "DYNAMIC_RENDITION",
      "version": "1",
      "action": "DELETE",
      "jobId": "413a9938-6d73-478c-b4d9-fdeb45927a4b",
      "videoId": "5600255921001",
      "dynamicRenditionId": "fastpublishRendition1",
      "accountId": "1910141566001",
      "status": "SUCCESS"
    }
    </code></pre>
    </section>
    </section>
    </article>
    <script src="/assets/js/ingest-profiles/guides/boltrenditions-list.js"></script>
    <script src="/assets/js/ingest-profiles/guides/fast-publish.js"></script>